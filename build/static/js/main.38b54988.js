/*! For license information please see main.38b54988.js.LICENSE.txt */
(()=>{"use strict";var t={730:(t,e,i)=>{var n=i(43),a=i(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)r.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(t,e,i,n,a,o,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=r}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new f(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new f(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new f(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new f(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new f(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new f(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new f(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new f(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new f(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function x(t,e,i,n){var a=y.hasOwnProperty(e)?y[e]:null;(null!==a?0!==a.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,a,n)&&(i=null),n||null===a?function(t){return!!d.call(g,t)||!d.call(p,t)&&(h.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):a.mustUseProperty?t[a.propertyName]=null===i?3!==a.type&&"":i:(e=a.attributeName,n=a.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(a=a.type)||4===a&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,v);y[e]=new f(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,v);y[e]=new f(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,v);y[e]=new f(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new f(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new f(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var j,P=Object.assign;function B(t){if(void 0===j)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var F=!1;function G(t,e){if(!t||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=n.stack.split("\n"),r=a.length-1,s=o.length-1;1<=r&&0<=s&&a[r]!==o[s];)s--;for(;1<=r&&0<=s;r--,s--)if(a[r]!==o[s]){if(1!==r||1!==s)do{if(r--,0>--s||a[r]!==o[s]){var l="\n"+a[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=r&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function U(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function _(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case S:return"Portal";case w:return"Profiler";case D:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case k:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:_(t.type)||"Memo";case E:e=t._payload,t=t._init;try{return _(t(e))}catch(i){}}return null}function Y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(e);case 8:return e===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var a=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function H(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=W(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var i=e.checked;return P({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function X(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=V(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function q(t,e){J(t,e);var i=V(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&K(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,n){if(t=t.options,e){e={};for(var a=0;a<i.length;a++)e["$"+i[a]]=!0;for(i=0;i<t.length;i++)a=e.hasOwnProperty("$"+t[i].value),t[i].selected!==a&&(t[i].selected=a),a&&n&&(t[i].defaultSelected=!0)}else{for(i=""+V(i),e=null,a=0;a<t.length;a++){if(t[a].value===i)return t[a].selected=!0,void(n&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return P({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function at(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(et(i)){if(1<i.length)throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:V(i)}}function ot(t,e){var i=V(e.value),n=V(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,dt=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,n){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function ht(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function ft(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function yt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),a=ft(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,a):t[i]=a}}Object.keys(pt).forEach((function(t){gt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var mt=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function xt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function Mt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,It=null,Dt=null;function wt(t){if(t=xa(t)){if("function"!==typeof St)throw Error(o(280));var e=t.stateNode;e&&(e=Ma(e),St(t.stateNode,t.type,e))}}function Nt(t){It?Dt?Dt.push(t):Dt=[t]:It=t}function Lt(){if(It){var t=It,e=Dt;if(Dt=It=null,wt(t),e)for(t=0;t<e.length;t++)wt(e[t])}}function kt(t,e){return t(e)}function At(){}var Ct=!1;function Tt(t,e,i){if(Ct)return t(e,i);Ct=!0;try{return kt(t,e,i)}finally{Ct=!1,(null!==It||null!==Dt)&&(At(),Lt())}}function Et(t,e){var i=t.stateNode;if(null===i)return null;var n=Ma(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}var Rt=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){Rt=!1}function zt(t,e,i,n,a,o,r,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var jt=!1,Pt=null,Bt=!1,Ft=null,Gt={onError:function(t){jt=!0,Pt=t}};function Ut(t,e,i,n,a,o,r,s,l){jt=!1,Pt=null,zt.apply(Gt,arguments)}function _t(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(_t(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=_t(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var a=i.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){i=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===i)return Vt(a),t;if(r===n)return Vt(a),e;r=r.sibling}throw Error(o(188))}if(i.return!==n.return)i=a,n=r;else{for(var s=!1,l=a.child;l;){if(l===i){s=!0,i=a,n=r;break}if(l===n){s=!0,n=a,i=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===i){s=!0,i=r,n=a;break}if(l===n){s=!0,n=r,i=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t))?Zt(t):null}function Zt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Zt(t);if(null!==e)return e;t=t.sibling}return null}var Ht=a.unstable_scheduleCallback,Kt=a.unstable_cancelCallback,Qt=a.unstable_shouldYield,Xt=a.unstable_requestPaint,Jt=a.unstable_now,qt=a.unstable_getCurrentPriorityLevel,$t=a.unstable_ImmediatePriority,te=a.unstable_UserBlockingPriority,ee=a.unstable_NormalPriority,ie=a.unstable_LowPriority,ne=a.unstable_IdlePriority,ae=null,oe=null;var re=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,a=t.suspendedLanes,o=t.pingedLanes,r=268435455&i;if(0!==r){var s=r&~a;0!==s?n=de(s):0!==(o&=r)&&(n=de(o))}else 0!==(r=i&~a)?n=de(r):0!==o&&(n=de(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&a)&&((a=n&-n)>=(o=e&-e)||16===a&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)a=1<<(i=31-re(e)),n|=t[i],e&=~a;return n}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function fe(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ye(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function me(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-re(e)]=i}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-re(i),a=1<<n;a&e|t[n]&e&&(t[n]|=e),i&=~a}}var xe=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Me,Se,Ie,De,we,Ne=!1,Le=[],ke=null,Ae=null,Ce=null,Te=new Map,Ee=new Map,Re=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ze(t,e){switch(t){case"focusin":case"focusout":ke=null;break;case"dragenter":case"dragleave":Ae=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function je(t,e,i,n,a,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},null!==e&&(null!==(e=xa(e))&&Se(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==a&&-1===e.indexOf(a)&&e.push(a),t)}function Pe(t){var e=va(t.target);if(null!==e){var i=_t(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Yt(i)))return t.blockedOn=e,void we(t.priority,(function(){Ie(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=xa(i))&&Se(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);bt=n,i.target.dispatchEvent(n),bt=null,e.shift()}return!0}function Fe(t,e,i){Be(t)&&i.delete(e)}function Ge(){Ne=!1,null!==ke&&Be(ke)&&(ke=null),null!==Ae&&Be(Ae)&&(Ae=null),null!==Ce&&Be(Ce)&&(Ce=null),Te.forEach(Fe),Ee.forEach(Fe)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ne||(Ne=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ge)))}function _e(t){function e(e){return Ue(e,t)}if(0<Le.length){Ue(Le[0],t);for(var i=1;i<Le.length;i++){var n=Le[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==ke&&Ue(ke,t),null!==Ae&&Ue(Ae,t),null!==Ce&&Ue(Ce,t),Te.forEach(e),Ee.forEach(e),i=0;i<Re.length;i++)(n=Re[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Re.length&&null===(i=Re[0]).blockedOn;)Pe(i),null===i.blockedOn&&Re.shift()}var Ye=b.ReactCurrentBatchConfig,Ve=!0;function We(t,e,i,n){var a=xe,o=Ye.transition;Ye.transition=null;try{xe=1,He(t,e,i,n)}finally{xe=a,Ye.transition=o}}function Ze(t,e,i,n){var a=xe,o=Ye.transition;Ye.transition=null;try{xe=4,He(t,e,i,n)}finally{xe=a,Ye.transition=o}}function He(t,e,i,n){if(Ve){var a=Qe(t,e,i,n);if(null===a)Vn(t,e,n,Ke,i),ze(t,n);else if(function(t,e,i,n,a){switch(e){case"focusin":return ke=je(ke,t,e,i,n,a),!0;case"dragenter":return Ae=je(Ae,t,e,i,n,a),!0;case"mouseover":return Ce=je(Ce,t,e,i,n,a),!0;case"pointerover":var o=a.pointerId;return Te.set(o,je(Te.get(o)||null,t,e,i,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Ee.set(o,je(Ee.get(o)||null,t,e,i,n,a)),!0}return!1}(a,t,e,i,n))n.stopPropagation();else if(ze(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==a;){var o=xa(a);if(null!==o&&Me(o),null===(o=Qe(t,e,i,n))&&Vn(t,e,n,Ke,i),o===a)break;a=o}null!==a&&n.stopPropagation()}else Vn(t,e,n,null,i)}}var Ke=null;function Qe(t,e,i,n){if(Ke=null,null!==(t=va(t=Mt(n))))if(null===(e=_t(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Yt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Xe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qt()){case $t:return 1;case te:return 4;case ee:case ie:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Je=null,qe=null,$e=null;function ti(){if($e)return $e;var t,e,i=qe,n=i.length,a="value"in Je?Je.value:Je.textContent,o=a.length;for(t=0;t<n&&i[t]===a[t];t++);var r=n-t;for(e=1;e<=r&&i[n-e]===a[o-e];e++);return $e=a.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function ni(){return!1}function ai(t){function e(e,i,n,a,o){for(var r in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(r)&&(e=t[r],this[r]=e?e(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return P(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var oi,ri,si,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ai(li),ui=P({},li,{view:0,detail:0}),di=ai(ui),hi=P({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&"mousemove"===t.type?(oi=t.screenX-si.screenX,ri=t.screenY-si.screenY):ri=oi=0,si=t),oi)},movementY:function(t){return"movementY"in t?t.movementY:ri}}),pi=ai(hi),gi=ai(P({},hi,{dataTransfer:0})),fi=ai(P({},ui,{relatedTarget:0})),yi=ai(P({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),mi=P({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vi=ai(mi),xi=ai(P({},li,{data:0})),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Si[t])&&!!e[t]}function Di(){return Ii}var wi=P({},ui,{key:function(t){if(t.key){var e=bi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Mi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ni=ai(wi),Li=ai(P({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ki=ai(P({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di})),Ai=ai(P({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ci=P({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=ai(Ci),Ei=[9,13,27,32],Ri=u&&"CompositionEvent"in window,Oi=null;u&&"documentMode"in document&&(Oi=document.documentMode);var zi=u&&"TextEvent"in window&&!Oi,ji=u&&(!Ri||Oi&&8<Oi&&11>=Oi),Pi=String.fromCharCode(32),Bi=!1;function Fi(t,e){switch(t){case"keyup":return-1!==Ei.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ui=!1;var _i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!_i[t.type]:"textarea"===e}function Vi(t,e,i,n){Nt(n),0<(e=Zn(e,"onChange")).length&&(i=new ci("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Wi=null,Zi=null;function Hi(t){Bn(t,0)}function Ki(t){if(H(ba(t)))return t}function Qi(t,e){if("change"===t)return e}var Xi=!1;if(u){var Ji;if(u){var qi="oninput"in document;if(!qi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),qi="function"===typeof $i.oninput}Ji=qi}else Ji=!1;Xi=Ji&&(!document.documentMode||9<document.documentMode)}function tn(){Wi&&(Wi.detachEvent("onpropertychange",en),Zi=Wi=null)}function en(t){if("value"===t.propertyName&&Ki(Zi)){var e=[];Vi(e,Zi,t,Mt(t)),Tt(Hi,e)}}function nn(t,e,i){"focusin"===t?(tn(),Zi=i,(Wi=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function an(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ki(Zi)}function on(t,e){if("click"===t)return Ki(e)}function rn(t,e){if("input"===t||"change"===t)return Ki(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var a=i[n];if(!d.call(e,a)||!sn(t[a],e[a]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function un(t,e){var i,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function dn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hn(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(n){i=!1}if(!i)break;e=K((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function gn(t){var e=hn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&dn(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var a=i.textContent.length,o=Math.min(n.start,a);n=void 0===n.end?o:Math.min(n.end,a),!t.extend&&o>n&&(a=n,n=o,o=a),a=un(i,o);var r=un(i,n);a&&r&&(1!==t.rangeCount||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&((e=e.createRange()).setStart(a.node,a.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fn=u&&"documentMode"in document&&11>=document.documentMode,yn=null,mn=null,vn=null,xn=!1;function bn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;xn||null==yn||yn!==K(n)||("selectionStart"in(n=yn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Zn(mn,"onSelect")).length&&(e=new ci("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=yn)))}function Mn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Sn={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionend:Mn("Transition","TransitionEnd")},In={},Dn={};function wn(t){if(In[t])return In[t];if(!Sn[t])return t;var e,i=Sn[t];for(e in i)if(i.hasOwnProperty(e)&&e in Dn)return In[t]=i[e];return t}u&&(Dn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var Nn=wn("animationend"),Ln=wn("animationiteration"),kn=wn("animationstart"),An=wn("transitionend"),Cn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){Cn.set(t,e),l(e,[t])}for(var Rn=0;Rn<Tn.length;Rn++){var On=Tn[Rn];En(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}En(Nn,"onAnimationEnd"),En(Ln,"onAnimationIteration"),En(kn,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jn=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Pn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,a,r,s,l,c){if(Ut.apply(this,arguments),jt){if(!jt)throw Error(o(198));var u=Pt;jt=!1,Pt=null,Bt||(Bt=!0,Ft=u)}}(n,e,void 0,t),t.currentTarget=null}function Bn(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],a=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var r=n.length-1;0<=r;r--){var s=n[r],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break t;Pn(a,s,c),o=l}else for(r=0;r<n.length;r++){if(l=(s=n[r]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break t;Pn(a,s,c),o=l}}}if(Bt)throw t=Ft,Bt=!1,Ft=null,t}function Fn(t,e){var i=e[fa];void 0===i&&(i=e[fa]=new Set);var n=t+"__bubble";i.has(n)||(Yn(e,t,2,!1),i.add(n))}function Gn(t,e,i){var n=0;e&&(n|=4),Yn(i,t,n,e)}var Un="_reactListening"+Math.random().toString(36).slice(2);function _n(t){if(!t[Un]){t[Un]=!0,r.forEach((function(e){"selectionchange"!==e&&(jn.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Un]||(e[Un]=!0,Gn("selectionchange",!1,e))}}function Yn(t,e,i,n){switch(Xe(e)){case 1:var a=We;break;case 4:a=Ze;break;default:a=He}i=a.bind(null,e,i,t),a=void 0,!Rt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(a=!0),n?void 0!==a?t.addEventListener(e,i,{capture:!0,passive:a}):t.addEventListener(e,i,!0):void 0!==a?t.addEventListener(e,i,{passive:a}):t.addEventListener(e,i,!1)}function Vn(t,e,i,n,a){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;r=r.return}for(;null!==s;){if(null===(r=va(s)))return;if(5===(l=r.tag)||6===l){n=o=r;continue t}s=s.parentNode}}n=n.return}Tt((function(){var n=o,a=Mt(i),r=[];t:{var s=Cn.get(t);if(void 0!==s){var l=ci,c=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=Ni;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ki;break;case Nn:case Ln:case kn:l=yi;break;case An:l=Ai;break;case"scroll":l=di;break;case"wheel":l=Ti;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Li}var u=0!==(4&e),d=!u&&"scroll"===t,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Et(g,h))&&u.push(Wn(g,f,p)))),d)break;g=g.return}0<u.length&&(s=new l(s,c,null,i,a),r.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||i===bt||!(c=i.relatedTarget||i.fromElement)||!va(c)&&!c[ga])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?va(c):null)&&(c!==(d=_t(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=pi,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==t&&"pointerover"!==t||(u=Li,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?s:ba(l),p=null==c?s:ba(c),(s=new u(f,g+"leave",l,i,a)).target=d,s.relatedTarget=p,f=null,va(a)===n&&((u=new u(h,g+"enter",c,i,a)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)t:{for(h=c,g=0,p=u=l;p;p=Hn(p))g++;for(p=0,f=h;f;f=Hn(f))p++;for(;0<g-p;)u=Hn(u),g--;for(;0<p-g;)h=Hn(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break t;u=Hn(u),h=Hn(h)}u=null}else u=null;null!==l&&Kn(r,s,l,u,!1),null!==c&&null!==d&&Kn(r,d,c,u,!0)}if("select"===(l=(s=n?ba(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Qi;else if(Yi(s))if(Xi)y=rn;else{y=an;var m=nn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=on);switch(y&&(y=y(t,n))?Vi(r,y,i,a):(m&&m(t,s,n),"focusout"===t&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&tt(s,"number",s.value)),m=n?ba(n):window,t){case"focusin":(Yi(m)||"true"===m.contentEditable)&&(yn=m,mn=n,vn=null);break;case"focusout":vn=mn=yn=null;break;case"mousedown":xn=!0;break;case"contextmenu":case"mouseup":case"dragend":xn=!1,bn(r,i,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":bn(r,i,a)}var v;if(Ri)t:{switch(t){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else Ui?Fi(t,i)&&(x="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(x="onCompositionStart");x&&(ji&&"ko"!==i.locale&&(Ui||"onCompositionStart"!==x?"onCompositionEnd"===x&&Ui&&(v=ti()):(qe="value"in(Je=a)?Je.value:Je.textContent,Ui=!0)),0<(m=Zn(n,x)).length&&(x=new xi(x,t,null,i,a),r.push({event:x,listeners:m}),v?x.data=v:null!==(v=Gi(i))&&(x.data=v))),(v=zi?function(t,e){switch(t){case"compositionend":return Gi(e);case"keypress":return 32!==e.which?null:(Bi=!0,Pi);case"textInput":return(t=e.data)===Pi&&Bi?null:t;default:return null}}(t,i):function(t,e){if(Ui)return"compositionend"===t||!Ri&&Fi(t,e)?(t=ti(),$e=qe=Je=null,Ui=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ji&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=Zn(n,"onBeforeInput")).length&&(a=new xi("onBeforeInput","beforeinput",null,i,a),r.push({event:a,listeners:n}),a.data=v))}Bn(r,e)}))}function Wn(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Zn(t,e){for(var i=e+"Capture",n=[];null!==t;){var a=t,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Et(t,i))&&n.unshift(Wn(t,o,a)),null!=(o=Et(t,e))&&n.push(Wn(t,o,a))),t=t.return}return n}function Hn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kn(t,e,i,n,a){for(var o=e._reactName,r=[];null!==i&&i!==n;){var s=i,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Et(i,o))&&r.unshift(Wn(i,l,s)):a||null!=(l=Et(i,o))&&r.push(Wn(i,l,s))),i=i.return}0!==r.length&&t.push({event:e,listeners:r})}var Qn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Jn(t){return("string"===typeof t?t:""+t).replace(Qn,"\n").replace(Xn,"")}function qn(t,e,i){if(e=Jn(e),Jn(t)!==e&&i)throw Error(o(425))}function $n(){}var ta=null,ea=null;function ia(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(t){return oa.resolve(null).then(t).catch(sa)}:na;function sa(t){setTimeout((function(){throw t}))}function la(t,e){var i=e,n=0;do{var a=i.nextSibling;if(t.removeChild(i),a&&8===a.nodeType)if("/$"===(i=a.data)){if(0===n)return t.removeChild(a),void _e(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=a}while(i);_e(e)}function ca(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ua(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,pa="__reactProps$"+da,ga="__reactContainer$"+da,fa="__reactEvents$"+da,ya="__reactListeners$"+da,ma="__reactHandles$"+da;function va(t){var e=t[ha];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ga]||i[ha]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=ua(t);null!==t;){if(i=t[ha])return i;t=ua(t)}return e}i=(t=i).parentNode}return null}function xa(t){return!(t=t[ha]||t[ga])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ba(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Ma(t){return t[pa]||null}var Sa=[],Ia=-1;function Da(t){return{current:t}}function wa(t){0>Ia||(t.current=Sa[Ia],Sa[Ia]=null,Ia--)}function Na(t,e){Ia++,Sa[Ia]=t.current,t.current=e}var La={},ka=Da(La),Aa=Da(!1),Ca=La;function Ta(t,e){var i=t.type.contextTypes;if(!i)return La;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in i)o[a]=e[a];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ea(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ra(){wa(Aa),wa(ka)}function Oa(t,e,i){if(ka.current!==La)throw Error(o(168));Na(ka,e),Na(Aa,i)}function za(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,Y(t)||"Unknown",a));return P({},i,n)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||La,Ca=ka.current,Na(ka,t),Na(Aa,Aa.current),!0}function Pa(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=za(t,e,Ca),n.__reactInternalMemoizedMergedChildContext=t,wa(Aa),wa(ka),Na(ka,t)):wa(Aa),Na(Aa,i)}var Ba=null,Fa=!1,Ga=!1;function Ua(t){null===Ba?Ba=[t]:Ba.push(t)}function _a(){if(!Ga&&null!==Ba){Ga=!0;var t=0,e=xe;try{var i=Ba;for(xe=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(t+1)),Ht($t,_a),a}finally{xe=e,Ga=!1}}return null}var Ya=[],Va=0,Wa=null,Za=0,Ha=[],Ka=0,Qa=null,Xa=1,Ja="";function qa(t,e){Ya[Va++]=Za,Ya[Va++]=Wa,Wa=t,Za=e}function $a(t,e,i){Ha[Ka++]=Xa,Ha[Ka++]=Ja,Ha[Ka++]=Qa,Qa=t;var n=Xa;t=Ja;var a=32-re(n)-1;n&=~(1<<a),i+=1;var o=32-re(e)+a;if(30<o){var r=a-a%5;o=(n&(1<<r)-1).toString(32),n>>=r,a-=r,Xa=1<<32-re(e)+a|i<<a|n,Ja=o+t}else Xa=1<<o|i<<a|n,Ja=t}function to(t){null!==t.return&&(qa(t,1),$a(t,1,0))}function eo(t){for(;t===Wa;)Wa=Ya[--Va],Ya[Va]=null,Za=Ya[--Va],Ya[Va]=null;for(;t===Qa;)Qa=Ha[--Ka],Ha[Ka]=null,Ja=Ha[--Ka],Ha[Ka]=null,Xa=Ha[--Ka],Ha[Ka]=null}var io=null,no=null,ao=!1,oo=null;function ro(t,e){var i=Tc(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function so(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,io=t,no=ca(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,io=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Qa?{id:Xa,overflow:Ja}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Tc(18,null,null,0)).stateNode=e,i.return=t,t.child=i,io=t,no=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(ao){var e=no;if(e){var i=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ca(i.nextSibling);var n=io;e&&so(t,e)?ro(n,i):(t.flags=-4097&t.flags|2,ao=!1,io=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,ao=!1,io=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;io=t}function ho(t){if(t!==io)return!1;if(!ao)return uo(t),ao=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ia(t.type,t.memoizedProps)),e&&(e=no)){if(lo(t))throw po(),Error(o(418));for(;e;)ro(t,e),e=ca(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){no=ca(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}no=null}}else no=io?ca(t.stateNode.nextSibling):null;return!0}function po(){for(var t=no;t;)t=ca(t.nextSibling)}function go(){no=io=null,ao=!1}function fo(t){null===oo?oo=[t]:oo.push(t)}var yo=b.ReactCurrentBatchConfig;function mo(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var a=n,r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=a.refs;null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xo(t){return(0,t._init)(t._payload)}function bo(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Rc(t,e)).index=0,t.sibling=null,t}function r(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,n){return null===e||6!==e.tag?((e=Pc(i,t.mode,n)).return=t,e):((e=a(e,i)).return=t,e)}function c(t,e,i,n){var o=i.type;return o===I?d(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&xo(o)===e.type)?((n=a(e,i.props)).ref=mo(t,e,i),n.return=t,n):((n=Oc(i.type,i.key,i.props,null,t.mode,n)).ref=mo(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Bc(i,t.mode,n)).return=t,e):((e=a(e,i.children||[])).return=t,e)}function d(t,e,i,n,o){return null===e||7!==e.tag?((e=zc(i,t.mode,n,o)).return=t,e):((e=a(e,i)).return=t,e)}function h(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Pc(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case M:return(i=Oc(e.type,e.key,e.props,null,t.mode,i)).ref=mo(t,null,e),i.return=t,i;case S:return(e=Bc(e,t.mode,i)).return=t,e;case E:return h(t,(0,e._init)(e._payload),i)}if(et(e)||z(e))return(e=zc(e,t.mode,i,null)).return=t,e;vo(t,e)}return null}function p(t,e,i,n){var a=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==a?null:l(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case M:return i.key===a?c(t,e,i,n):null;case S:return i.key===a?u(t,e,i,n):null;case E:return p(t,e,(a=i._init)(i._payload),n)}if(et(i)||z(i))return null!==a?null:d(t,e,i,n,null);vo(t,i)}return null}function g(t,e,i,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(i)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case M:return c(e,t=t.get(null===n.key?i:n.key)||null,n,a);case S:return u(e,t=t.get(null===n.key?i:n.key)||null,n,a);case E:return g(t,e,i,(0,n._init)(n._payload),a)}if(et(n)||z(n))return d(e,t=t.get(i)||null,n,a,null);vo(e,n)}return null}function f(a,o,s,l){for(var c=null,u=null,d=o,f=o=0,y=null;null!==d&&f<s.length;f++){d.index>f?(y=d,d=null):y=d.sibling;var m=p(a,d,s[f],l);if(null===m){null===d&&(d=y);break}t&&d&&null===m.alternate&&e(a,d),o=r(m,o,f),null===u?c=m:u.sibling=m,u=m,d=y}if(f===s.length)return i(a,d),ao&&qa(a,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(a,s[f],l))&&(o=r(d,o,f),null===u?c=d:u.sibling=d,u=d);return ao&&qa(a,f),c}for(d=n(a,d);f<s.length;f++)null!==(y=g(d,a,f,s[f],l))&&(t&&null!==y.alternate&&d.delete(null===y.key?f:y.key),o=r(y,o,f),null===u?c=y:u.sibling=y,u=y);return t&&d.forEach((function(t){return e(a,t)})),ao&&qa(a,f),c}function y(a,s,l,c){var u=z(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,f=s,y=s=0,m=null,v=l.next();null!==f&&!v.done;y++,v=l.next()){f.index>y?(m=f,f=null):m=f.sibling;var x=p(a,f,v.value,c);if(null===x){null===f&&(f=m);break}t&&f&&null===x.alternate&&e(a,f),s=r(x,s,y),null===d?u=x:d.sibling=x,d=x,f=m}if(v.done)return i(a,f),ao&&qa(a,y),u;if(null===f){for(;!v.done;y++,v=l.next())null!==(v=h(a,v.value,c))&&(s=r(v,s,y),null===d?u=v:d.sibling=v,d=v);return ao&&qa(a,y),u}for(f=n(a,f);!v.done;y++,v=l.next())null!==(v=g(f,a,y,v.value,c))&&(t&&null!==v.alternate&&f.delete(null===v.key?y:v.key),s=r(v,s,y),null===d?u=v:d.sibling=v,d=v);return t&&f.forEach((function(t){return e(a,t)})),ao&&qa(a,y),u}return function t(n,o,r,l){if("object"===typeof r&&null!==r&&r.type===I&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case M:t:{for(var c=r.key,u=o;null!==u;){if(u.key===c){if((c=r.type)===I){if(7===u.tag){i(n,u.sibling),(o=a(u,r.props.children)).return=n,n=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&xo(c)===u.type){i(n,u.sibling),(o=a(u,r.props)).ref=mo(n,u,r),o.return=n,n=o;break t}i(n,u);break}e(n,u),u=u.sibling}r.type===I?((o=zc(r.props.children,n.mode,l,r.key)).return=n,n=o):((l=Oc(r.type,r.key,r.props,null,n.mode,l)).ref=mo(n,o,r),l.return=n,n=l)}return s(n);case S:t:{for(u=r.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===r.containerInfo&&o.stateNode.implementation===r.implementation){i(n,o.sibling),(o=a(o,r.children||[])).return=n,n=o;break t}i(n,o);break}e(n,o),o=o.sibling}(o=Bc(r,n.mode,l)).return=n,n=o}return s(n);case E:return t(n,o,(u=r._init)(r._payload),l)}if(et(r))return f(n,o,r,l);if(z(r))return y(n,o,r,l);vo(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==o&&6===o.tag?(i(n,o.sibling),(o=a(o,r)).return=n,n=o):(i(n,o),(o=Pc(r,n.mode,l)).return=n,n=o),s(n)):i(n,o)}}var Mo=bo(!0),So=bo(!1),Io=Da(null),Do=null,wo=null,No=null;function Lo(){No=wo=Do=null}function ko(t){var e=Io.current;wa(Io),t._currentValue=e}function Ao(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Co(t,e){Do=t,No=wo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(xs=!0),t.firstContext=null)}function To(t){var e=t._currentValue;if(No!==t)if(t={context:t,memoizedValue:e,next:null},null===wo){if(null===Do)throw Error(o(308));wo=t,Do.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var Eo=null;function Ro(t){null===Eo?Eo=[t]:Eo.push(t)}function Oo(t,e,i,n){var a=e.interleaved;return null===a?(i.next=i,Ro(e)):(i.next=a.next,a.next=i),e.interleaved=i,zo(t,n)}function zo(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var jo=!1;function Po(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Go(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&kl)){var a=n.pending;return null===a?e.next=e:(e.next=a.next,a.next=e),n.pending=e,zo(t,i)}return null===(a=n.interleaved)?(e.next=e,Ro(n)):(e.next=a.next,a.next=e),n.interleaved=e,zo(t,i)}function Uo(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}function _o(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var a=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?a=o=r:o=o.next=r,i=i.next}while(null!==i);null===o?a=o=e:o=o.next=e}else a=o=e;return i={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Yo(t,e,i,n){var a=t.updateQueue;jo=!1;var o=a.firstBaseUpdate,r=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===r?o=c:r.next=c,r=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==r&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(r=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var g=t,f=s;switch(h=e,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break t}d=g;break t;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break t;d=P({},d,h);break t;case 2:jo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,r|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(e=a.shared.interleaved)){a=e;do{r|=a.lane,a=a.next}while(a!==e)}else null===o&&(a.shared.lanes=0);jl|=r,t.lanes=r,t.memoizedState=d}}function Vo(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(null!==a){if(n.callback=null,n=i,"function"!==typeof a)throw Error(o(191,a));a.call(n)}}}var Wo={},Zo=Da(Wo),Ho=Da(Wo),Ko=Da(Wo);function Qo(t){if(t===Wo)throw Error(o(174));return t}function Xo(t,e){switch(Na(Ko,e),Na(Ho,t),Na(Zo,Wo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}wa(Zo),Na(Zo,e)}function Jo(){wa(Zo),wa(Ho),wa(Ko)}function qo(t){Qo(Ko.current);var e=Qo(Zo.current),i=lt(e,t.type);e!==i&&(Na(Ho,t),Na(Zo,i))}function $o(t){Ho.current===t&&(wa(Zo),wa(Ho))}var tr=Da(0);function er(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ir=[];function nr(){for(var t=0;t<ir.length;t++)ir[t]._workInProgressVersionPrimary=null;ir.length=0}var ar=b.ReactCurrentDispatcher,or=b.ReactCurrentBatchConfig,rr=0,sr=null,lr=null,cr=null,ur=!1,dr=!1,hr=0,pr=0;function gr(){throw Error(o(321))}function fr(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!sn(t[i],e[i]))return!1;return!0}function yr(t,e,i,n,a,r){if(rr=r,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ar.current=null===t||null===t.memoizedState?$r:ts,t=i(n,a),dr){r=0;do{if(dr=!1,hr=0,25<=r)throw Error(o(301));r+=1,cr=lr=null,e.updateQueue=null,ar.current=es,t=i(n,a)}while(dr)}if(ar.current=qr,e=null!==lr&&null!==lr.next,rr=0,cr=lr=sr=null,ur=!1,e)throw Error(o(300));return t}function mr(){var t=0!==hr;return hr=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cr?sr.memoizedState=cr=t:cr=cr.next=t,cr}function xr(){if(null===lr){var t=sr.alternate;t=null!==t?t.memoizedState:null}else t=lr.next;var e=null===cr?sr.memoizedState:cr.next;if(null!==e)cr=e,lr=t;else{if(null===t)throw Error(o(310));t={memoizedState:(lr=t).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===cr?sr.memoizedState=cr=t:cr=cr.next=t}return cr}function br(t,e){return"function"===typeof e?e(t):e}function Mr(t){var e=xr(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=lr,a=n.baseQueue,r=i.pending;if(null!==r){if(null!==a){var s=a.next;a.next=r.next,r.next=s}n.baseQueue=a=r,i.pending=null}if(null!==a){r=a.next,n=n.baseState;var l=s=null,c=null,u=r;do{var d=u.lane;if((rr&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,sr.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==r);null===c?s=n:c.next=l,sn(n,e.memoizedState)||(xs=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,i.lastRenderedState=n}if(null!==(t=i.interleaved)){a=t;do{r=a.lane,sr.lanes|=r,jl|=r,a=a.next}while(a!==t)}else null===a&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Sr(t){var e=xr(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,a=i.pending,r=e.memoizedState;if(null!==a){i.pending=null;var s=a=a.next;do{r=t(r,s.action),s=s.next}while(s!==a);sn(r,e.memoizedState)||(xs=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function Ir(){}function Dr(t,e){var i=sr,n=xr(),a=e(),r=!sn(n.memoizedState,a);if(r&&(n.memoizedState=a,xs=!0),n=n.queue,jr(Lr.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||null!==cr&&1&cr.memoizedState.tag){if(i.flags|=2048,Tr(9,Nr.bind(null,i,n,a,e),void 0,null),null===Al)throw Error(o(349));0!==(30&rr)||wr(i,e,a)}return a}function wr(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=sr.updateQueue)?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Nr(t,e,i,n){e.value=i,e.getSnapshot=n,kr(e)&&Ar(t)}function Lr(t,e,i){return i((function(){kr(e)&&Ar(t)}))}function kr(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!sn(t,i)}catch(n){return!0}}function Ar(t){var e=zo(t,1);null!==e&&ic(e,t,1,-1)}function Cr(t){var e=vr();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:t},e.queue=t,t=t.dispatch=Kr.bind(null,sr,t),[e.memoizedState,t]}function Tr(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=sr.updateQueue)?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function Er(){return xr().memoizedState}function Rr(t,e,i,n){var a=vr();sr.flags|=t,a.memoizedState=Tr(1|e,i,void 0,void 0===n?null:n)}function Or(t,e,i,n){var a=xr();n=void 0===n?null:n;var o=void 0;if(null!==lr){var r=lr.memoizedState;if(o=r.destroy,null!==n&&fr(n,r.deps))return void(a.memoizedState=Tr(e,i,o,n))}sr.flags|=t,a.memoizedState=Tr(1|e,i,o,n)}function zr(t,e){return Rr(8390656,8,t,e)}function jr(t,e){return Or(2048,8,t,e)}function Pr(t,e){return Or(4,2,t,e)}function Br(t,e){return Or(4,4,t,e)}function Fr(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Gr(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Or(4,4,Fr.bind(null,e,t),i)}function Ur(){}function _r(t,e){var i=xr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&fr(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Yr(t,e){var i=xr();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&fr(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Vr(t,e,i){return 0===(21&rr)?(t.baseState&&(t.baseState=!1,xs=!0),t.memoizedState=i):(sn(i,e)||(i=fe(),sr.lanes|=i,jl|=i,t.baseState=!0),e)}function Wr(t,e){var i=xe;xe=0!==i&&4>i?i:4,t(!0);var n=or.transition;or.transition={};try{t(!1),e()}finally{xe=i,or.transition=n}}function Zr(){return xr().memoizedState}function Hr(t,e,i){var n=ec(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Qr(t))Xr(e,i);else if(null!==(i=Oo(t,e,i,n))){ic(i,t,n,tc()),Jr(i,e,n)}}function Kr(t,e,i){var n=ec(t),a={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qr(t))Xr(e,a);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var r=e.lastRenderedState,s=o(r,i);if(a.hasEagerState=!0,a.eagerState=s,sn(s,r)){var l=e.interleaved;return null===l?(a.next=a,Ro(e)):(a.next=l.next,l.next=a),void(e.interleaved=a)}}catch(c){}null!==(i=Oo(t,e,a,n))&&(ic(i,t,n,a=tc()),Jr(i,e,n))}}function Qr(t){var e=t.alternate;return t===sr||null!==e&&e===sr}function Xr(t,e){dr=ur=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Jr(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,ve(t,i)}}var qr={readContext:To,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},$r={readContext:To,useCallback:function(t,e){return vr().memoizedState=[t,void 0===e?null:e],t},useContext:To,useEffect:zr,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Rr(4194308,4,Fr.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Rr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rr(4,2,t,e)},useMemo:function(t,e){var i=vr();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=vr();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Hr.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},vr().memoizedState=t},useState:Cr,useDebugValue:Ur,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=Cr(!1),e=t[0];return t=Wr.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=sr,a=vr();if(ao){if(void 0===i)throw Error(o(407));i=i()}else{if(i=e(),null===Al)throw Error(o(349));0!==(30&rr)||wr(n,e,i)}a.memoizedState=i;var r={value:i,getSnapshot:e};return a.queue=r,zr(Lr.bind(null,n,r,t),[t]),n.flags|=2048,Tr(9,Nr.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=vr(),e=Al.identifierPrefix;if(ao){var i=Ja;e=":"+e+"R"+(i=(Xa&~(1<<32-re(Xa)-1)).toString(32)+i),0<(i=hr++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=pr++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:To,useCallback:_r,useContext:To,useEffect:jr,useImperativeHandle:Gr,useInsertionEffect:Pr,useLayoutEffect:Br,useMemo:Yr,useReducer:Mr,useRef:Er,useState:function(){return Mr(br)},useDebugValue:Ur,useDeferredValue:function(t){return Vr(xr(),lr.memoizedState,t)},useTransition:function(){return[Mr(br)[0],xr().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Dr,useId:Zr,unstable_isNewReconciler:!1},es={readContext:To,useCallback:_r,useContext:To,useEffect:jr,useImperativeHandle:Gr,useInsertionEffect:Pr,useLayoutEffect:Br,useMemo:Yr,useReducer:Sr,useRef:Er,useState:function(){return Sr(br)},useDebugValue:Ur,useDeferredValue:function(t){var e=xr();return null===lr?e.memoizedState=t:Vr(e,lr.memoizedState,t)},useTransition:function(){return[Sr(br)[0],xr().memoizedState]},useMutableSource:Ir,useSyncExternalStore:Dr,useId:Zr,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){for(var i in e=P({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function ns(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:P({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var as={isMounted:function(t){return!!(t=t._reactInternals)&&_t(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),o=Fo(n,a);o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Go(t,o,a))&&(ic(e,t,a,n),Uo(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=tc(),a=ec(t),o=Fo(n,a);o.tag=1,o.payload=e,void 0!==i&&null!==i&&(o.callback=i),null!==(e=Go(t,o,a))&&(ic(e,t,a,n),Uo(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=tc(),n=ec(t),a=Fo(i,n);a.tag=2,void 0!==e&&null!==e&&(a.callback=e),null!==(e=Go(t,a,n))&&(ic(e,t,n,i),Uo(e,t,n))}};function os(t,e,i,n,a,o,r){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,r):!e.prototype||!e.prototype.isPureReactComponent||(!ln(i,n)||!ln(a,o))}function rs(t,e,i){var n=!1,a=La,o=e.contextType;return"object"===typeof o&&null!==o?o=To(o):(a=Ea(e)?Ca:ka.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ta(t,a):La),e=new e(i,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=as,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&as.enqueueReplaceState(e,e.state,null)}function ls(t,e,i,n){var a=t.stateNode;a.props=i,a.state=t.memoizedState,a.refs={},Po(t);var o=e.contextType;"object"===typeof o&&null!==o?a.context=To(o):(o=Ea(e)?Ca:ka.current,a.context=Ta(t,o)),a.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ns(t,e,o,i),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&as.enqueueReplaceState(a,a.state,null),Yo(t,i,a,n),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var i="",n=e;do{i+=U(n),n=n.return}while(n);var a=i}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:a,digest:null}}function us(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function ds(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,i){(i=Fo(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Vl||(Vl=!0,Wl=n),ds(0,e)},i}function gs(t,e,i){(i=Fo(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var a=e.value;i.payload=function(){return n(a)},i.callback=function(){ds(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){ds(0,e),"function"!==typeof n&&(null===Zl?Zl=new Set([this]):Zl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function fs(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new hs;var a=new Set;n.set(e,a)}else void 0===(a=n.get(e))&&(a=new Set,n.set(e,a));a.has(i)||(a.add(i),t=wc.bind(null,t,e,i),e.then(t,t))}function ys(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ms(t,e,i,n,a){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Fo(-1,1)).tag=2,Go(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=a,t)}var vs=b.ReactCurrentOwner,xs=!1;function bs(t,e,i,n){e.child=null===t?So(e,null,i,n):Mo(e,t.child,i,n)}function Ms(t,e,i,n,a){i=i.render;var o=e.ref;return Co(e,a),n=yr(t,e,i,n,o,a),i=mr(),null===t||xs?(ao&&i&&to(e),e.flags|=1,bs(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Vs(t,e,a))}function Ss(t,e,i,n,a){if(null===t){var o=i.type;return"function"!==typeof o||Ec(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Oc(i.type,null,n,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Is(t,e,o,n,a))}if(o=t.child,0===(t.lanes&a)){var r=o.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&t.ref===e.ref)return Vs(t,e,a)}return e.flags|=1,(t=Rc(o,n)).ref=e.ref,t.return=e,e.child=t}function Is(t,e,i,n,a){if(null!==t){var o=t.memoizedProps;if(ln(o,n)&&t.ref===e.ref){if(xs=!1,e.pendingProps=n=o,0===(t.lanes&a))return e.lanes=t.lanes,Vs(t,e,a);0!==(131072&t.flags)&&(xs=!0)}}return Ns(t,e,i,n,a)}function Ds(t,e,i){var n=e.pendingProps,a=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Rl,El),El|=i;else{if(0===(1073741824&i))return t=null!==o?o.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Na(Rl,El),El|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:i,Na(Rl,El),El|=n}else null!==o?(n=o.baseLanes|i,e.memoizedState=null):n=i,Na(Rl,El),El|=n;return bs(t,e,a,i),e.child}function ws(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Ns(t,e,i,n,a){var o=Ea(i)?Ca:ka.current;return o=Ta(e,o),Co(e,a),i=yr(t,e,i,n,o,a),n=mr(),null===t||xs?(ao&&n&&to(e),e.flags|=1,bs(t,e,i,a),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Vs(t,e,a))}function Ls(t,e,i,n,a){if(Ea(i)){var o=!0;ja(e)}else o=!1;if(Co(e,a),null===e.stateNode)Ys(t,e),rs(e,i,n),ls(e,i,n,a),n=!0;else if(null===t){var r=e.stateNode,s=e.memoizedProps;r.props=s;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ta(e,c=Ea(i)?Ca:ka.current);var u=i.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate;d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==n||l!==c)&&ss(e,r,n,c),jo=!1;var h=e.memoizedState;r.state=h,Yo(e,n,r,a),l=e.memoizedState,s!==n||h!==l||Aa.current||jo?("function"===typeof u&&(ns(e,i,u,n),l=e.memoizedState),(s=jo||os(e,i,s,n,h,l,c))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(e.flags|=4194308)):("function"===typeof r.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),r.props=n,r.state=l,r.context=c,n=s):("function"===typeof r.componentDidMount&&(e.flags|=4194308),n=!1)}else{r=e.stateNode,Bo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:is(e.type,s),r.props=c,d=e.pendingProps,h=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=To(l):l=Ta(e,l=Ea(i)?Ca:ka.current);var p=i.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s!==d||h!==l)&&ss(e,r,n,l),jo=!1,h=e.memoizedState,r.state=h,Yo(e,n,r,a);var g=e.memoizedState;s!==d||h!==g||Aa.current||jo?("function"===typeof p&&(ns(e,i,p,n),g=e.memoizedState),(c=jo||os(e,i,c,n,h,g,l)||!1)?(u||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,g,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof r.componentDidUpdate&&(e.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof r.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),r.props=n,r.state=g,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ks(t,e,i,n,o,a)}function ks(t,e,i,n,a,o){ws(t,e);var r=0!==(128&e.flags);if(!n&&!r)return a&&Pa(e,i,!1),Vs(t,e,o);n=e.stateNode,vs.current=e;var s=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&r?(e.child=Mo(e,t.child,null,o),e.child=Mo(e,null,s,o)):bs(t,e,s,o),e.memoizedState=n.state,a&&Pa(e,i,!0),e.child}function As(t){var e=t.stateNode;e.pendingContext?Oa(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oa(0,e.context,!1),Xo(t,e.containerInfo)}function Cs(t,e,i,n,a){return go(),fo(a),e.flags|=256,bs(t,e,i,n),e.child}var Ts,Es,Rs,Os,zs={dehydrated:null,treeContext:null,retryLane:0};function js(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ps(t,e,i){var n,a=e.pendingProps,r=tr.current,s=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&r)),n?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(r|=1),Na(tr,1&r),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=a.children,t=a.fallback,s?(a=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,a,0,null),t=zc(t,a,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=js(i),e.memoizedState=zs,t):Bs(e,l));if(null!==(r=t.memoizedState)&&null!==(n=r.dehydrated))return function(t,e,i,n,a,r,s){if(i)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,n=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(r=n.fallback,a=e.mode,n=jc({mode:"visible",children:n.children},a,0,null),(r=zc(r,a,s,null)).flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,0!==(1&e.mode)&&Mo(e,t.child,null,s),e.child.memoizedState=js(s),e.memoizedState=zs,r);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Fs(t,e,s,n=us(r=Error(o(419)),n,void 0))}if(l=0!==(s&t.childLanes),xs||l){if(null!==(n=Al)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==r.retryLane&&(r.retryLane=a,zo(t,a),ic(n,t,a,-1))}return fc(),Fs(t,e,s,n=us(Error(o(421))))}return"$?"===a.data?(e.flags|=128,e.child=t.child,e=Lc.bind(null,t),a._reactRetry=e,null):(t=r.treeContext,no=ca(a.nextSibling),io=e,ao=!0,oo=null,null!==t&&(Ha[Ka++]=Xa,Ha[Ka++]=Ja,Ha[Ka++]=Qa,Xa=t.id,Ja=t.overflow,Qa=e),e=Bs(e,n.children),e.flags|=4096,e)}(t,e,l,a,n,r,i);if(s){s=a.fallback,l=e.mode,n=(r=t.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&e.child!==r?((a=e.child).childLanes=0,a.pendingProps=c,e.deletions=null):(a=Rc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?s=Rc(n,s):(s=zc(s,l,i,null)).flags|=2,s.return=e,a.return=e,a.sibling=s,e.child=a,a=s,s=e.child,l=null===(l=t.child.memoizedState)?js(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~i,e.memoizedState=zs,a}return t=(s=t.child).sibling,a=Rc(s,{mode:"visible",children:a.children}),0===(1&e.mode)&&(a.lanes=i),a.return=e,a.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=a,e.memoizedState=null,a}function Bs(t,e){return(e=jc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,i,n){return null!==n&&fo(n),Mo(e,t.child,null,i),(t=Bs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Gs(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Ao(t.return,e,i)}function Us(t,e,i,n,a){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailMode=a)}function _s(t,e,i){var n=e.pendingProps,a=n.revealOrder,o=n.tail;if(bs(t,e,n.children,i),0!==(2&(n=tr.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Gs(t,i,e);else if(19===t.tag)Gs(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Na(tr,n),0===(1&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(i=e.child,a=null;null!==i;)null!==(t=i.alternate)&&null===er(t)&&(a=i),i=i.sibling;null===(i=a)?(a=e.child,e.child=null):(a=i.sibling,i.sibling=null),Us(e,!1,a,i,o);break;case"backwards":for(i=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===er(t)){e.child=a;break}t=a.sibling,a.sibling=i,i=a,a=t}Us(e,!0,i,null,o);break;case"together":Us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),jl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Rc(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Rc(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function Ws(t,e){if(!ao)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zs(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=t,a=a.sibling;else for(a=t.child;null!==a;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function Hs(t,e,i){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(e),null;case 1:case 17:return Ea(e.type)&&Ra(),Zs(e),null;case 3:return n=e.stateNode,Jo(),wa(Aa),wa(ka),nr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(rc(oo),oo=null))),Es(t,e),Zs(e),null;case 5:$o(e);var a=Qo(Ko.current);if(i=e.type,null!==t&&null!=e.stateNode)Rs(t,e,i,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return Zs(e),null}if(t=Qo(Zo.current),ho(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[ha]=e,n[pa]=r,t=0!==(1&e.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":X(n,r),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Fn("invalid",n);break;case"textarea":at(n,r),Fn("invalid",n)}for(var l in vt(i,r),a=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&qn(n.textContent,c,t),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&qn(n.textContent,c,t),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":Z(n),$(n,r,!0);break;case"textarea":Z(n),rt(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=$n)}n=a,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(i,{is:n.is}):(t=l.createElement(i),"select"===i&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,i),t[ha]=e,t[pa]=n,Ts(t,e,!1,!1),e.stateNode=t;t:{switch(l=xt(i,n),i){case"dialog":Fn("cancel",t),Fn("close",t),a=n;break;case"iframe":case"object":case"embed":Fn("load",t),a=n;break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],t);a=n;break;case"source":Fn("error",t),a=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),a=n;break;case"details":Fn("toggle",t),a=n;break;case"input":X(t,n),a=Q(t,n),Fn("invalid",t);break;case"option":default:a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=P({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":at(t,n),a=nt(t,n),Fn("invalid",t)}for(r in vt(i,a),c=a)if(c.hasOwnProperty(r)){var u=c[r];"style"===r?yt(t,u):"dangerouslySetInnerHTML"===r?null!=(u=u?u.__html:void 0)&&dt(t,u):"children"===r?"string"===typeof u?("textarea"!==i||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(s.hasOwnProperty(r)?null!=u&&"onScroll"===r&&Fn("scroll",t):null!=u&&x(t,r,u,l))}switch(i){case"input":Z(t),$(t,n,!1);break;case"textarea":Z(t),rt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+V(n.value));break;case"select":t.multiple=!!n.multiple,null!=(r=n.value)?it(t,!!n.multiple,r,!1):null!=n.defaultValue&&it(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=$n)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Zs(e),null;case 6:if(t&&null!=e.stateNode)Os(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(i=Qo(Ko.current),Qo(Zo.current),ho(e)){if(n=e.stateNode,i=e.memoizedProps,n[ha]=e,(r=n.nodeValue!==i)&&null!==(t=io))switch(t.tag){case 3:qn(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&qn(n.nodeValue,i,0!==(1&t.mode))}r&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[ha]=e,e.stateNode=n}return Zs(e),null;case 13:if(wa(tr),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ao&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))po(),go(),e.flags|=98560,r=!1;else if(r=ho(e),null!==n&&null!==n.dehydrated){if(null===t){if(!r)throw Error(o(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(o(317));r[ha]=e}else go(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Zs(e),r=!1}else null!==oo&&(rc(oo),oo=null),r=!0;if(!r)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&tr.current)?0===Ol&&(Ol=3):fc())),null!==e.updateQueue&&(e.flags|=4),Zs(e),null);case 4:return Jo(),Es(t,e),null===t&&_n(e.stateNode.containerInfo),Zs(e),null;case 10:return ko(e.type._context),Zs(e),null;case 19:if(wa(tr),null===(r=e.memoizedState))return Zs(e),null;if(n=0!==(128&e.flags),null===(l=r.rendering))if(n)Ws(r,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=er(t))){for(e.flags|=128,Ws(r,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Na(tr,1&tr.current|2),e.child}t=t.sibling}null!==r.tail&&Jt()>_l&&(e.flags|=128,n=!0,Ws(r,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=er(l))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),Ws(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ao)return Zs(e),null}else 2*Jt()-r.renderingStartTime>_l&&1073741824!==i&&(e.flags|=128,n=!0,Ws(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=r.last)?i.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Jt(),e.sibling=null,i=tr.current,Na(tr,n?1&i|2:1&i),e):(Zs(e),null);case 22:case 23:return dc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&El)&&(Zs(e),6&e.subtreeFlags&&(e.flags|=8192)):Zs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ks(t,e){switch(eo(e),e.tag){case 1:return Ea(e.type)&&Ra(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Jo(),wa(Aa),wa(ka),nr(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return $o(e),null;case 13:if(wa(tr),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));go()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return wa(tr),null;case 4:return Jo(),null;case 10:return ko(e.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ts=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Es=function(){},Rs=function(t,e,i,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Qo(Zo.current);var o,r=null;switch(i){case"input":a=Q(t,a),n=Q(t,n),r=[];break;case"select":a=P({},a,{value:void 0}),n=P({},n,{value:void 0}),r=[];break;case"textarea":a=nt(t,a),n=nt(t,n),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(t.onclick=$n)}for(u in vt(i,n),i=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(i||(i={}),i[o]=c[o])}else i||(r||(r=[]),r.push(u,i)),i=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fn("scroll",t),r||l===c||(r=[])):(r=r||[]).push(u,c))}i&&(r=r||[]).push("style",i);var u=r;(e.updateQueue=u)&&(e.flags|=4)}},Os=function(t,e,i,n){i!==n&&(e.flags|=4)};var Qs=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,qs=null;function $s(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Dc(t,e,n)}else i.current=null}function tl(t,e,i){try{i()}catch(n){Dc(t,e,n)}}var el=!1;function il(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&t)===t){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(e,i,o)}a=a.next}while(a!==n)}}function nl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function al(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ha],delete e[pa],delete e[fa],delete e[ya],delete e[ma])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rl(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||rl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=$n));else if(4!==n&&null!==(t=t.child))for(ll(t,e,i),t=t.sibling;null!==t;)ll(t,e,i),t=t.sibling}function cl(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(cl(t,e,i),t=t.sibling;null!==t;)cl(t,e,i),t=t.sibling}var ul=null,dl=!1;function hl(t,e,i){for(i=i.child;null!==i;)pl(t,e,i),i=i.sibling}function pl(t,e,i){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ae,i)}catch(s){}switch(i.tag){case 5:Xs||$s(i,e);case 6:var n=ul,a=dl;ul=null,hl(t,e,i),dl=a,null!==(ul=n)&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):ul.removeChild(i.stateNode));break;case 18:null!==ul&&(dl?(t=ul,i=i.stateNode,8===t.nodeType?la(t.parentNode,i):1===t.nodeType&&la(t,i),_e(t)):la(ul,i.stateNode));break;case 4:n=ul,a=dl,ul=i.stateNode.containerInfo,dl=!0,hl(t,e,i),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var o=a,r=o.destroy;o=o.tag,void 0!==r&&(0!==(2&o)||0!==(4&o))&&tl(i,e,r),a=a.next}while(a!==n)}hl(t,e,i);break;case 1:if(!Xs&&($s(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(s){Dc(i,e,s)}hl(t,e,i);break;case 21:hl(t,e,i);break;case 22:1&i.mode?(Xs=(n=Xs)||null!==i.memoizedState,hl(t,e,i),Xs=n):hl(t,e,i);break;default:hl(t,e,i)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Js),e.forEach((function(e){var n=kc.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}function fl(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var a=i[n];try{var r=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));pl(r,s,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Dc(a,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)yl(e,t),e=e.sibling}function yl(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fl(e,t),ml(t),4&n){try{il(3,t,t.return),nl(3,t)}catch(y){Dc(t,t.return,y)}try{il(5,t,t.return)}catch(y){Dc(t,t.return,y)}}break;case 1:fl(e,t),ml(t),512&n&&null!==i&&$s(i,i.return);break;case 5:if(fl(e,t),ml(t),512&n&&null!==i&&$s(i,i.return),32&t.flags){var a=t.stateNode;try{ht(a,"")}catch(y){Dc(t,t.return,y)}}if(4&n&&null!=(a=t.stateNode)){var r=t.memoizedProps,s=null!==i?i.memoizedProps:r,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&J(a,r),xt(l,s);var u=xt(l,r);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?yt(a,h):"dangerouslySetInnerHTML"===d?dt(a,h):"children"===d?ht(a,h):x(a,d,h,u)}switch(l){case"input":q(a,r);break;case"textarea":ot(a,r);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?it(a,!!r.multiple,g,!1):p!==!!r.multiple&&(null!=r.defaultValue?it(a,!!r.multiple,r.defaultValue,!0):it(a,!!r.multiple,r.multiple?[]:"",!1))}a[pa]=r}catch(y){Dc(t,t.return,y)}}break;case 6:if(fl(e,t),ml(t),4&n){if(null===t.stateNode)throw Error(o(162));a=t.stateNode,r=t.memoizedProps;try{a.nodeValue=r}catch(y){Dc(t,t.return,y)}}break;case 3:if(fl(e,t),ml(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{_e(e.containerInfo)}catch(y){Dc(t,t.return,y)}break;case 4:default:fl(e,t),ml(t);break;case 13:fl(e,t),ml(t),8192&(a=t.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Jt())),4&n&&gl(t);break;case 22:if(d=null!==i&&null!==i.memoizedState,1&t.mode?(Xs=(u=Xs)||d,fl(e,t),Xs=u):fl(e,t),ml(t),8192&n){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!d&&0!==(1&t.mode))for(qs=t,d=t.child;null!==d;){for(h=qs=d;null!==qs;){switch(g=(p=qs).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:$s(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(y){Dc(n,i,y)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){Ml(h);continue}}null!==g?(g.return=p,qs=g):Ml(h)}d=d.sibling}t:for(d=null,h=t;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ft("display",s))}catch(y){Dc(t,t.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Dc(t,t.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===t)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===t)break t;for(;null===h.sibling;){if(null===h.return||h.return===t)break t;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(e,t),ml(t),4&n&&gl(t);case 21:}}function ml(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(rl(i)){var n=i;break t}i=i.return}throw Error(o(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(ht(a,""),n.flags&=-33),cl(t,sl(t),a);break;case 3:case 4:var r=n.stateNode.containerInfo;ll(t,sl(t),r);break;default:throw Error(o(161))}}catch(s){Dc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,i){qs=t,xl(t,e,i)}function xl(t,e,i){for(var n=0!==(1&t.mode);null!==qs;){var a=qs,o=a.child;if(22===a.tag&&n){var r=null!==a.memoizedState||Qs;if(!r){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=r,(Xs=l)&&!c)for(qs=a;null!==qs;)l=(r=qs).child,22===r.tag&&null!==r.memoizedState?Sl(a):null!==l?(l.return=r,qs=l):Sl(a);for(;null!==o;)qs=o,xl(o,e,i),o=o.sibling;qs=a,Qs=s,Xs=c}bl(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,qs=o):bl(t)}}function bl(t){for(;null!==qs;){var e=qs;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xs||nl(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Xs)if(null===i)n.componentDidMount();else{var a=e.elementType===e.type?i.memoizedProps:is(e.type,i.memoizedProps);n.componentDidUpdate(a,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;null!==r&&Vo(e,r,n);break;case 3:var s=e.updateQueue;if(null!==s){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Vo(e,s,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&_e(h)}}}break;default:throw Error(o(163))}Xs||512&e.flags&&al(e)}catch(p){Dc(e,e.return,p)}}if(e===t){qs=null;break}if(null!==(i=e.sibling)){i.return=e.return,qs=i;break}qs=e.return}}function Ml(t){for(;null!==qs;){var e=qs;if(e===t){qs=null;break}var i=e.sibling;if(null!==i){i.return=e.return,qs=i;break}qs=e.return}}function Sl(t){for(;null!==qs;){var e=qs;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{nl(4,e)}catch(l){Dc(e,i,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var a=e.return;try{n.componentDidMount()}catch(l){Dc(e,a,l)}}var o=e.return;try{al(e)}catch(l){Dc(e,o,l)}break;case 5:var r=e.return;try{al(e)}catch(l){Dc(e,r,l)}}}catch(l){Dc(e,e.return,l)}if(e===t){qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,qs=s;break}qs=e.return}}var Il,Dl=Math.ceil,wl=b.ReactCurrentDispatcher,Nl=b.ReactCurrentOwner,Ll=b.ReactCurrentBatchConfig,kl=0,Al=null,Cl=null,Tl=0,El=0,Rl=Da(0),Ol=0,zl=null,jl=0,Pl=0,Bl=0,Fl=null,Gl=null,Ul=0,_l=1/0,Yl=null,Vl=!1,Wl=null,Zl=null,Hl=!1,Kl=null,Ql=0,Xl=0,Jl=null,ql=-1,$l=0;function tc(){return 0!==(6&kl)?Jt():-1!==ql?ql:ql=Jt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&kl)&&0!==Tl?Tl&-Tl:null!==yo.transition?(0===$l&&($l=fe()),$l):0!==(t=xe)?t:t=void 0===(t=window.event)?16:Xe(t.type)}function ic(t,e,i,n){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));me(t,i,n),0!==(2&kl)&&t===Al||(t===Al&&(0===(2&kl)&&(Pl|=i),4===Ol&&sc(t,Tl)),nc(t,n),1===i&&0===kl&&0===(1&e.mode)&&(_l=Jt()+500,Fa&&_a()))}function nc(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,o=t.pendingLanes;0<o;){var r=31-re(o),s=1<<r,l=a[r];-1===l?0!==(s&i)&&0===(s&n)||(a[r]=pe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var n=he(t,t===Al?Tl:0);if(0===n)null!==i&&Kt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&Kt(i),1===e)0===t.tag?function(t){Fa=!0,Ua(t)}(lc.bind(null,t)):Ua(lc.bind(null,t)),ra((function(){0===(6&kl)&&_a()})),i=null;else{switch(be(n)){case 1:i=$t;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=ne}i=Ac(i,ac.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function ac(t,e){if(ql=-1,$l=0,0!==(6&kl))throw Error(o(327));var i=t.callbackNode;if(Sc()&&t.callbackNode!==i)return null;var n=he(t,t===Al?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=yc(t,n);else{e=n;var a=kl;kl|=2;var r=gc();for(Al===t&&Tl===e||(Yl=null,_l=Jt()+500,hc(t,e));;)try{vc();break}catch(l){pc(t,l)}Lo(),wl.current=r,kl=a,null!==Cl?e=0:(Al=null,Tl=0,e=Ol)}if(0!==e){if(2===e&&(0!==(a=ge(t))&&(n=a,e=oc(t,a))),1===e)throw i=zl,hc(t,0),sc(t,n),nc(t,Jt()),i;if(6===e)sc(t,n);else{if(a=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var a=i[n],o=a.getSnapshot;a=a.value;try{if(!sn(o(),a))return!1}catch(s){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(a)&&(2===(e=yc(t,n))&&(0!==(r=ge(t))&&(n=r,e=oc(t,r))),1===e))throw i=zl,hc(t,0),sc(t,n),nc(t,Jt()),i;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:Mc(t,Gl,Yl);break;case 3:if(sc(t,n),(130023424&n)===n&&10<(e=Ul+500-Jt())){if(0!==he(t,0))break;if(((a=t.suspendedLanes)&n)!==n){tc(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=na(Mc.bind(null,t,Gl,Yl),e);break}Mc(t,Gl,Yl);break;case 4:if(sc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-re(n);r=1<<s,(s=e[s])>a&&(a=s),n&=~r}if(n=a,10<(n=(120>(n=Jt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dl(n/1960))-n)){t.timeoutHandle=na(Mc.bind(null,t,Gl,Yl),n);break}Mc(t,Gl,Yl);break;default:throw Error(o(329))}}}return nc(t,Jt()),t.callbackNode===i?ac.bind(null,t):null}function oc(t,e){var i=Fl;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=yc(t,e))&&(e=Gl,Gl=i,null!==e&&rc(e)),t}function rc(t){null===Gl?Gl=t:Gl.push.apply(Gl,t)}function sc(t,e){for(e&=~Bl,e&=~Pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-re(e),n=1<<i;t[i]=-1,e&=~n}}function lc(t){if(0!==(6&kl))throw Error(o(327));Sc();var e=he(t,0);if(0===(1&e))return nc(t,Jt()),null;var i=yc(t,e);if(0!==t.tag&&2===i){var n=ge(t);0!==n&&(e=n,i=oc(t,n))}if(1===i)throw i=zl,hc(t,0),sc(t,e),nc(t,Jt()),i;if(6===i)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mc(t,Gl,Yl),nc(t,Jt()),null}function cc(t,e){var i=kl;kl|=1;try{return t(e)}finally{0===(kl=i)&&(_l=Jt()+500,Fa&&_a())}}function uc(t){null!==Kl&&0===Kl.tag&&0===(6&kl)&&Sc();var e=kl;kl|=1;var i=Ll.transition,n=xe;try{if(Ll.transition=null,xe=1,t)return t()}finally{xe=n,Ll.transition=i,0===(6&(kl=e))&&_a()}}function dc(){El=Rl.current,wa(Rl)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,aa(i)),null!==Cl)for(i=Cl.return;null!==i;){var n=i;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Jo(),wa(Aa),wa(ka),nr();break;case 5:$o(n);break;case 4:Jo();break;case 13:case 19:wa(tr);break;case 10:ko(n.type._context);break;case 22:case 23:dc()}i=i.return}if(Al=t,Cl=t=Rc(t.current,null),Tl=El=e,Ol=0,zl=null,Bl=Pl=jl=0,Gl=Fl=null,null!==Eo){for(e=0;e<Eo.length;e++)if(null!==(n=(i=Eo[e]).interleaved)){i.interleaved=null;var a=n.next,o=i.pending;if(null!==o){var r=o.next;o.next=a,n.next=r}i.pending=n}Eo=null}return t}function pc(t,e){for(;;){var i=Cl;try{if(Lo(),ar.current=qr,ur){for(var n=sr.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ur=!1}if(rr=0,cr=lr=sr=null,dr=!1,hr=0,Nl.current=null,null===i||null===i.return){Ol=1,zl=e,Cl=null;break}t:{var r=t,s=i.return,l=i,c=e;if(e=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ys(s);if(null!==g){g.flags&=-257,ms(g,s,l,0,e),1&g.mode&&fs(r,u,e),c=u;var f=(e=g).updateQueue;if(null===f){var y=new Set;y.add(c),e.updateQueue=y}else f.add(c);break t}if(0===(1&e)){fs(r,u,e),fc();break t}c=Error(o(426))}else if(ao&&1&l.mode){var m=ys(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,e),fo(cs(c,l));break t}}r=c=cs(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[r]:Fl.push(r),r=s;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e,_o(r,ps(0,c,e));break t;case 1:l=c;var v=r.type,x=r.stateNode;if(0===(128&r.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zl||!Zl.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e,_o(r,gs(r,l,e));break t}}r=r.return}while(null!==r)}bc(i)}catch(b){e=b,Cl===i&&null!==i&&(Cl=i=i.return);continue}break}}function gc(){var t=wl.current;return wl.current=qr,null===t?qr:t}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&jl)&&0===(268435455&Pl)||sc(Al,Tl)}function yc(t,e){var i=kl;kl|=2;var n=gc();for(Al===t&&Tl===e||(Yl=null,hc(t,e));;)try{mc();break}catch(a){pc(t,a)}if(Lo(),kl=i,wl.current=n,null!==Cl)throw Error(o(261));return Al=null,Tl=0,Ol}function mc(){for(;null!==Cl;)xc(Cl)}function vc(){for(;null!==Cl&&!Qt();)xc(Cl)}function xc(t){var e=Il(t.alternate,t,El);t.memoizedProps=t.pendingProps,null===e?bc(t):Cl=e,Nl.current=null}function bc(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Hs(i,e,El)))return void(Cl=i)}else{if(null!==(i=Ks(i,e)))return i.flags&=32767,void(Cl=i);if(null===t)return Ol=6,void(Cl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Cl=e);Cl=e=t}while(null!==e);0===Ol&&(Ol=5)}function Mc(t,e,i){var n=xe,a=Ll.transition;try{Ll.transition=null,xe=1,function(t,e,i,n){do{Sc()}while(null!==Kl);if(0!==(6&kl))throw Error(o(327));i=t.finishedWork;var a=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var a=31-re(i),o=1<<a;e[a]=0,n[a]=-1,t[a]=-1,i&=~o}}(t,r),t===Al&&(Cl=Al=null,Tl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Hl||(Hl=!0,Ac(ee,(function(){return Sc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Ll.transition,Ll.transition=null;var s=xe;xe=1;var l=kl;kl|=4,Nl.current=null,function(t,e){if(ta=Ve,pn(t=hn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(M){i=null;break t}var s=0,l=-1,c=-1,u=0,d=0,h=t,p=null;e:for(;;){for(var g;h!==i||0!==a&&3!==h.nodeType||(l=s+a),h!==r||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===t)break e;if(p===i&&++u===a&&(l=s),p===r&&++d===n&&(c=s),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(ea={focusedElem:t,selectionRange:i},Ve=!1,qs=e;null!==qs;)if(t=(e=qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,qs=t;else for(;null!==qs;){e=qs;try{var f=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var y=f.memoizedProps,m=f.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:is(e.type,y),m);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(M){Dc(e,e.return,M)}if(null!==(t=e.sibling)){t.return=e.return,qs=t;break}qs=e.return}f=el,el=!1}(t,i),yl(i,t),gn(ea),Ve=!!ta,ea=ta=null,t.current=i,vl(i,t,a),Xt(),kl=l,xe=s,Ll.transition=r}else t.current=i;if(Hl&&(Hl=!1,Kl=t,Ql=a),r=t.pendingLanes,0===r&&(Zl=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ae,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),nc(t,Jt()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)a=e[i],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,t=Wl,Wl=null,t;0!==(1&Ql)&&0!==t.tag&&Sc(),r=t.pendingLanes,0!==(1&r)?t===Jl?Xl++:(Xl=0,Jl=t):Xl=0,_a()}(t,e,i,n)}finally{Ll.transition=a,xe=n}return null}function Sc(){if(null!==Kl){var t=be(Ql),e=Ll.transition,i=xe;try{if(Ll.transition=null,xe=16>t?16:t,null===Kl)var n=!1;else{if(t=Kl,Kl=null,Ql=0,0!==(6&kl))throw Error(o(331));var a=kl;for(kl|=4,qs=t.current;null!==qs;){var r=qs,s=r.child;if(0!==(16&qs.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(qs=u;null!==qs;){var d=qs;switch(d.tag){case 0:case 11:case 15:il(8,d,r)}var h=d.child;if(null!==h)h.return=d,qs=h;else for(;null!==qs;){var p=(d=qs).sibling,g=d.return;if(ol(d),d===u){qs=null;break}if(null!==p){p.return=g,qs=p;break}qs=g}}}var f=r.alternate;if(null!==f){var y=f.child;if(null!==y){f.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}qs=r}}if(0!==(2064&r.subtreeFlags)&&null!==s)s.return=r,qs=s;else t:for(;null!==qs;){if(0!==(2048&(r=qs).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var v=r.sibling;if(null!==v){v.return=r.return,qs=v;break t}qs=r.return}}var x=t.current;for(qs=x;null!==qs;){var b=(s=qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,qs=b;else t:for(s=x;null!==qs;){if(0!==(2048&(l=qs).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Dc(l,l.return,S)}if(l===s){qs=null;break t}var M=l.sibling;if(null!==M){M.return=l.return,qs=M;break t}qs=l.return}}if(kl=a,_a(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ae,t)}catch(S){}n=!0}return n}finally{xe=i,Ll.transition=e}}return!1}function Ic(t,e,i){t=Go(t,e=ps(0,e=cs(i,e),1),1),e=tc(),null!==t&&(me(t,1,e),nc(t,e))}function Dc(t,e,i){if(3===t.tag)Ic(t,t,i);else for(;null!==e;){if(3===e.tag){Ic(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zl||!Zl.has(n))){e=Go(e,t=gs(e,t=cs(i,t),1),1),t=tc(),null!==e&&(me(e,1,t),nc(e,t));break}}e=e.return}}function wc(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&i,Al===t&&(Tl&i)===i&&(4===Ol||3===Ol&&(130023424&Tl)===Tl&&500>Jt()-Ul?hc(t,0):Bl|=i),nc(t,e)}function Nc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var i=tc();null!==(t=zo(t,e))&&(me(t,e,i),nc(t,i))}function Lc(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Nc(t,i)}function kc(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;null!==a&&(i=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Nc(t,i)}function Ac(t,e){return Ht(t,e)}function Cc(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(t,e,i,n){return new Cc(t,e,i,n)}function Ec(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Rc(t,e){var i=t.alternate;return null===i?((i=Tc(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Oc(t,e,i,n,a,r){var s=2;if(n=t,"function"===typeof t)Ec(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case I:return zc(i.children,a,r,e);case D:s=8,a|=8;break;case w:return(t=Tc(12,i,e,2|a)).elementType=w,t.lanes=r,t;case A:return(t=Tc(13,i,e,a)).elementType=A,t.lanes=r,t;case C:return(t=Tc(19,i,e,a)).elementType=C,t.lanes=r,t;case R:return jc(i,a,r,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case N:s=10;break t;case L:s=9;break t;case k:s=11;break t;case T:s=14;break t;case E:s=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tc(s,i,e,a)).elementType=t,e.type=n,e.lanes=r,e}function zc(t,e,i,n){return(t=Tc(7,t,n,e)).lanes=i,t}function jc(t,e,i,n){return(t=Tc(22,t,n,e)).elementType=R,t.lanes=i,t.stateNode={isHidden:!1},t}function Pc(t,e,i){return(t=Tc(6,t,null,e)).lanes=i,t}function Bc(t,e,i){return(e=Tc(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,i,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(t,e,i,n,a,o,r,s,l){return t=new Fc(t,e,i,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Tc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),t}function Uc(t){if(!t)return La;t:{if(_t(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ea(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var i=t.type;if(Ea(i))return za(t,i,e)}return e}function _c(t,e,i,n,a,o,r,s,l){return(t=Gc(i,n,!0,t,0,o,0,s,l)).context=Uc(null),i=t.current,(o=Fo(n=tc(),a=ec(i))).callback=void 0!==e&&null!==e?e:null,Go(i,o,a),t.current.lanes=a,me(t,a,n),nc(t,n),t}function Yc(t,e,i,n){var a=e.current,o=tc(),r=ec(a);return i=Uc(i),null===e.context?e.context=i:e.pendingContext=i,(e=Fo(o,r)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Go(a,e,r))&&(ic(t,a,r,o),Uo(t,a,r)),r}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Wc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Zc(t,e){Wc(t,e),(t=t.alternate)&&Wc(t,e)}Il=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Aa.current)xs=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return xs=!1,function(t,e,i){switch(e.tag){case 3:As(e),go();break;case 5:qo(e);break;case 1:Ea(e.type)&&ja(e);break;case 4:Xo(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Na(Io,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Na(tr,1&tr.current),e.flags|=128,null):0!==(i&e.child.childLanes)?Ps(t,e,i):(Na(tr,1&tr.current),null!==(t=Vs(t,e,i))?t.sibling:null);Na(tr,1&tr.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return _s(t,e,i);e.flags|=128}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,Ds(t,e,i)}return Vs(t,e,i)}(t,e,i);xs=0!==(131072&t.flags)}else xs=!1,ao&&0!==(1048576&e.flags)&&$a(e,Za,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ys(t,e),t=e.pendingProps;var a=Ta(e,ka.current);Co(e,i),a=yr(null,e,n,t,a,i);var r=mr();return e.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ea(n)?(r=!0,ja(e)):r=!1,e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Po(e),a.updater=as,e.stateNode=a,a._reactInternals=e,ls(e,n,t,i),e=ks(null,e,n,!0,r,i)):(e.tag=0,ao&&r&&to(e),bs(null,e,a,i),e=e.child),e;case 16:n=e.elementType;t:{switch(Ys(t,e),t=e.pendingProps,n=(a=n._init)(n._payload),e.type=n,a=e.tag=function(t){if("function"===typeof t)return Ec(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===k)return 11;if(t===T)return 14}return 2}(n),t=is(n,t),a){case 0:e=Ns(null,e,n,t,i);break t;case 1:e=Ls(null,e,n,t,i);break t;case 11:e=Ms(null,e,n,t,i);break t;case 14:e=Ss(null,e,n,is(n.type,t),i);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,Ns(t,e,n,a=e.elementType===n?a:is(n,a),i);case 1:return n=e.type,a=e.pendingProps,Ls(t,e,n,a=e.elementType===n?a:is(n,a),i);case 3:t:{if(As(e),null===t)throw Error(o(387));n=e.pendingProps,a=(r=e.memoizedState).element,Bo(t,e),Yo(e,n,null,i);var s=e.memoizedState;if(n=s.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=r,e.memoizedState=r,256&e.flags){e=Cs(t,e,n,i,a=cs(Error(o(423)),e));break t}if(n!==a){e=Cs(t,e,n,i,a=cs(Error(o(424)),e));break t}for(no=ca(e.stateNode.containerInfo.firstChild),io=e,ao=!0,oo=null,i=So(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(go(),n===a){e=Vs(t,e,i);break t}bs(t,e,n,i)}e=e.child}return e;case 5:return qo(e),null===t&&co(e),n=e.type,a=e.pendingProps,r=null!==t?t.memoizedProps:null,s=a.children,ia(n,a)?s=null:null!==r&&ia(n,r)&&(e.flags|=32),ws(t,e),bs(t,e,s,i),e.child;case 6:return null===t&&co(e),null;case 13:return Ps(t,e,i);case 4:return Xo(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Mo(e,null,n,i):bs(t,e,n,i),e.child;case 11:return n=e.type,a=e.pendingProps,Ms(t,e,n,a=e.elementType===n?a:is(n,a),i);case 7:return bs(t,e,e.pendingProps,i),e.child;case 8:case 12:return bs(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,a=e.pendingProps,r=e.memoizedProps,s=a.value,Na(Io,n._currentValue),n._currentValue=s,null!==r)if(sn(r.value,s)){if(r.children===a.children&&!Aa.current){e=Vs(t,e,i);break t}}else for(null!==(r=e.child)&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){s=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Fo(-1,i&-i)).tag=2;var u=r.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),Ao(r.return,i,e),l.lanes|=i;break}c=c.next}}else if(10===r.tag)s=r.type===e.type?null:r.child;else if(18===r.tag){if(null===(s=r.return))throw Error(o(341));s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),Ao(s,i,e),s=r.sibling}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}bs(t,e,a.children,i),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Co(e,i),n=n(a=To(a)),e.flags|=1,bs(t,e,n,i),e.child;case 14:return a=is(n=e.type,e.pendingProps),Ss(t,e,n,a=is(n.type,a),i);case 15:return Is(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:is(n,a),Ys(t,e),e.tag=1,Ea(n)?(t=!0,ja(e)):t=!1,Co(e,i),rs(e,n,a),ls(e,n,a,i),ks(null,e,n,!0,t,i);case 19:return _s(t,e,i);case 22:return Ds(t,e,i)}throw Error(o(156,e.tag))};var Hc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Jc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function qc(){}function $c(t,e,i,n,a){var o=i._reactRootContainer;if(o){var r=o;if("function"===typeof a){var s=a;a=function(){var t=Vc(r);s.call(t)}}Yc(e,r,t,a)}else r=function(t,e,i,n,a){if(a){if("function"===typeof n){var o=n;n=function(){var t=Vc(r);o.call(t)}}var r=_c(e,n,t,0,null,!1,0,"",qc);return t._reactRootContainer=r,t[ga]=r.current,_n(8===t.nodeType?t.parentNode:t),uc(),r}for(;a=t.lastChild;)t.removeChild(a);if("function"===typeof n){var s=n;n=function(){var t=Vc(l);s.call(t)}}var l=Gc(t,0,!1,null,0,!1,0,"",qc);return t._reactRootContainer=l,t[ga]=l.current,_n(8===t.nodeType?t.parentNode:t),uc((function(){Yc(e,l,i,n)})),l}(i,e,t,a,n);return Vc(r)}Qc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Yc(t,e,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Yc(null,t,null,null)})),e[ga]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=De();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Re.length&&0!==e&&e<Re[i].priority;i++);Re.splice(i,0,t),0===i&&Pe(t)}},Me=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=de(e.pendingLanes);0!==i&&(ve(e,1|i),nc(e,Jt()),0===(6&kl)&&(_l=Jt()+500,_a()))}break;case 13:uc((function(){var e=zo(t,1);if(null!==e){var i=tc();ic(e,t,1,i)}})),Zc(t,1)}},Se=function(t){if(13===t.tag){var e=zo(t,134217728);if(null!==e)ic(e,t,134217728,tc());Zc(t,134217728)}},Ie=function(t){if(13===t.tag){var e=ec(t),i=zo(t,e);if(null!==i)ic(i,t,e,tc());Zc(t,e)}},De=function(){return xe},we=function(t,e){var i=xe;try{return xe=t,e()}finally{xe=i}},St=function(t,e,i){switch(e){case"input":if(q(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var a=Ma(n);if(!a)throw Error(o(90));H(n),q(n,a)}}}break;case"textarea":ot(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},kt=cc,At=uc;var tu={usingClientEntryPoint:!1,Events:[xa,ba,Ma,Nt,Lt,cc]},eu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ae=nu.inject(iu),oe=nu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Xc(t))throw Error(o(299));var i=!1,n="",a=Hc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(a=e.onRecoverableError)),e=Gc(t,1,!1,null,0,i,0,n,a),t[ga]=e.current,_n(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,i){if(!Jc(e))throw Error(o(200));return $c(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Xc(t))throw Error(o(405));var n=null!=i&&i.hydratedSources||null,a=!1,r="",s=Hc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(a=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),e=_c(e,null,t,1,null!=i?i:null,a,0,r,s),t[ga]=e.current,_n(t),n)for(t=0;t<n.length;t++)a=(a=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,a]:e.mutableSourceEagerHydrationData.push(i,a);return new Qc(e)},e.render=function(t,e,i){if(!Jc(e))throw Error(o(200));return $c(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){$c(null,null,t,!1,(function(){t._reactRootContainer=null,t[ga]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Jc(i))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return $c(t,e,i,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},391:(t,e,i)=>{var n=i(950);e.H=n.createRoot,n.hydrateRoot},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},153:(t,e,i)=>{var n=i(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,i){var n,o={},c=null,u=null;for(n in void 0!==i&&(c=""+i),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)r.call(e,n)&&!l.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:a,type:t,key:c,ref:u,props:o,_owner:s.current}}e.jsx=c,e.jsxs=c},202:(t,e)=>{var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,y={};function m(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||g}function v(){}function x(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||g}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var b=x.prototype=new v;b.constructor=x,f(b,m.prototype),b.isPureReactComponent=!0;var M=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function w(t,e,n){var a,o={},r=null,s=null;if(null!=e)for(a in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(r=""+e.key),e)S.call(e,a)&&!D.hasOwnProperty(a)&&(o[a]=e[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(a in l=t.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:i,type:t,key:r,ref:s,props:o,_owner:I.current}}function N(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var L=/\/+/g;function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,a,o,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=t),t=""===o?"."+k(l,0):o,M(r)?(a="",null!=t&&(a=t.replace(L,"$&/")+"/"),A(r,e,a,"",(function(t){return t}))):null!=r&&(N(r)&&(r=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,a+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(L,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=""===o?".":o+":",M(t))for(var c=0;c<t.length;c++){var u=o+k(s=t[c],c);l+=A(s,e,a,u,r)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=A(s=s.value,e,a,u=o+k(s,c++),r);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function C(t,e,i){if(null==t)return t;var n=[],a=0;return A(t,n,"","",(function(t){return e.call(i,t,a++)})),n}function T(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var E={current:null},R={transition:null},O={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};function z(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:C,forEach:function(t,e,i){C(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return C(t,(function(){e++})),e},toArray:function(t){return C(t,(function(t){return t}))||[]},only:function(t){if(!N(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=a,e.Profiler=r,e.PureComponent=x,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=z,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=f({},t.props),o=t.key,r=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,s=I.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S.call(e,c)&&!D.hasOwnProperty(c)&&(a[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:i,type:t.type,key:o,ref:r,props:a,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=w,e.createFactory=function(t){var e=w.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=N,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=z,e.useCallback=function(t,e){return E.current.useCallback(t,e)},e.useContext=function(t){return E.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return E.current.useDeferredValue(t)},e.useEffect=function(t,e){return E.current.useEffect(t,e)},e.useId=function(){return E.current.useId()},e.useImperativeHandle=function(t,e,i){return E.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return E.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return E.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return E.current.useMemo(t,e)},e.useReducer=function(t,e,i){return E.current.useReducer(t,e,i)},e.useRef=function(t){return E.current.useRef(t)},e.useState=function(t){return E.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return E.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return E.current.useTransition()},e.version="18.3.1"},43:(t,e,i)=>{t.exports=i(202)},579:(t,e,i)=>{t.exports=i(153)},234:(t,e)=>{function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,a=t[n];if(!(0<o(a,e)))break t;t[n]=e,t[i]=a,i=n}}function n(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,a=t.length,r=a>>>1;n<r;){var s=2*(n+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,i))c<a&&0>o(u,l)?(t[n]=u,t[c]=i,n=c):(t[n]=l,t[s]=i,n=s);else{if(!(c<a&&0>o(u,i)))break t;t[n]=u,t[c]=i,n=c}}}return e}function o(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,g=!1,f=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=n(u);null!==e;){if(null===e.callback)a(u);else{if(!(e.startTime<=t))break;a(u),e.sortIndex=e.expirationTime,i(c,e)}e=n(u)}}function M(t){if(y=!1,b(t),!f)if(null!==n(c))f=!0,R(S);else{var e=n(u);null!==e&&O(M,e.startTime-t)}}function S(t,i){f=!1,y&&(y=!1,v(N),N=-1),g=!0;var o=p;try{for(b(i),h=n(c);null!==h&&(!(h.expirationTime>i)||t&&!A());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var s=r(h.expirationTime<=i);i=e.unstable_now(),"function"===typeof s?h.callback=s:h===n(c)&&a(c),b(i)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&O(M,d.startTime-i),l=!1}return l}finally{h=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,D=!1,w=null,N=-1,L=5,k=-1;function A(){return!(e.unstable_now()-k<L)}function C(){if(null!==w){var t=e.unstable_now();k=t;var i=!0;try{i=w(!0,t)}finally{i?I():(D=!1,w=null)}}else D=!1}if("function"===typeof x)I=function(){x(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,E=T.port2;T.port1.onmessage=C,I=function(){E.postMessage(null)}}else I=function(){m(C,0)};function R(t){w=t,D||(D=!0,I())}function O(t,i){N=m((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){f||g||(f=!0,R(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var i=p;p=e;try{return t()}finally{p=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=p;p=t;try{return e()}finally{p=i}},e.unstable_scheduleCallback=function(t,a,o){var r=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?r+o:r:o=r,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:a,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>r?(t.sortIndex=o,i(u,t),null===n(c)&&t===n(u)&&(y?(v(N),N=-1):y=!0,O(M,o-r))):(t.sortIndex=s,i(c,t),f||g||(f=!0,R(S))),t},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(t){var e=p;return function(){var i=p;p=e;try{return t.apply(this,arguments)}finally{p=i}}}},853:(t,e,i)=>{t.exports=i(234)}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}var n=i(43),a=i(391);function o(){}function r(t,e,i,n,a){for(var o,r=[];e;)r.push(e),o=e.previousComponent,delete e.previousComponent,e=o;r.reverse();for(var s=0,l=r.length,c=0,u=0;s<l;s++){var d=r[s];if(d.removed)d.value=t.join(n.slice(u,u+d.count)),u+=d.count;else{if(!d.added&&a){var h=i.slice(c,c+d.count);h=h.map((function(t,e){var i=n[u+e];return i.length>t.length?i:t})),d.value=t.join(h)}else d.value=t.join(i.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}return r}o.prototype={diff:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.callback;"function"===typeof n&&(a=n,n={});var o=this;function s(t){return t=o.postProcess(t,n),a?(setTimeout((function(){a(t)}),0),!0):t}t=this.castInput(t,n),e=this.castInput(e,n),t=this.removeEmpty(this.tokenize(t,n));var l=(e=this.removeEmpty(this.tokenize(e,n))).length,c=t.length,u=1,d=l+c;null!=n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=null!==(i=n.timeout)&&void 0!==i?i:1/0,p=Date.now()+h,g=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(g[0],e,t,0,n);if(g[0].oldPos+1>=c&&f+1>=l)return s(r(o,g[0].lastComponent,e,t,o.useLongestToken));var y=-1/0,m=1/0;function v(){for(var i=Math.max(y,-u);i<=Math.min(m,u);i+=2){var a=void 0,d=g[i-1],h=g[i+1];d&&(g[i-1]=void 0);var p=!1;if(h){var v=h.oldPos-i;p=h&&0<=v&&v<l}var x=d&&d.oldPos+1<c;if(p||x){if(a=!x||p&&d.oldPos<h.oldPos?o.addToPath(h,!0,!1,0,n):o.addToPath(d,!1,!0,1,n),f=o.extractCommon(a,e,t,i,n),a.oldPos+1>=c&&f+1>=l)return s(r(o,a.lastComponent,e,t,o.useLongestToken));g[i]=a,a.oldPos+1>=c&&(m=Math.min(m,i-1)),f+1>=l&&(y=Math.max(y,i+1))}else g[i]=void 0}u++}if(a)!function t(){setTimeout((function(){if(u>d||Date.now()>p)return a();v()||t()}),0)}();else for(;u<=d&&Date.now()<=p;){var x=v();if(x)return x}},addToPath:function(t,e,i,n,a){var o=t.lastComponent;return o&&!a.oneChangePerToken&&o.added===e&&o.removed===i?{oldPos:t.oldPos+n,lastComponent:{count:o.count+1,added:e,removed:i,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+n,lastComponent:{count:1,added:e,removed:i,previousComponent:o}}},extractCommon:function(t,e,i,n,a){for(var o=e.length,r=i.length,s=t.oldPos,l=s-n,c=0;l+1<o&&s+1<r&&this.equals(i[s+1],e[l+1],a);)l++,s++,c++,a.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!a.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=s,l},equals:function(t,e,i){return i.comparator?i.comparator(t,e):t===e||i.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};var s=new o;function l(t,e){var i;for(i=0;i<t.length&&i<e.length;i++)if(t[i]!=e[i])return t.slice(0,i);return t.slice(0,i)}function c(t,e){var i;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(i=0;i<t.length&&i<e.length;i++)if(t[t.length-(i+1)]!=e[e.length-(i+1)])return t.slice(-i);return t.slice(-i)}function u(t,e,i){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return i+t.slice(e.length)}function d(t,e,i){if(!e)return t+i;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+i}function h(t,e){return u(t,e,"")}function p(t,e){return d(t,e,"")}function g(t,e){return e.slice(0,function(t,e){var i=0;t.length>e.length&&(i=t.length-e.length);var n=e.length;t.length<e.length&&(n=t.length);var a=Array(n),o=0;a[0]=0;for(var r=1;r<n;r++){for(e[r]==e[o]?a[r]=a[o]:a[r]=o;o>0&&e[r]!=e[o];)o=a[o];e[r]==e[o]&&o++}o=0;for(var s=i;s<t.length;s++){for(;o>0&&t[s]!=e[o];)o=a[o];t[s]==e[o]&&o++}return o}(t,e))}var f="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",y=new RegExp("[".concat(f,"]+|\\s+|[^").concat(f,"]"),"ug"),m=new o;function v(t,e,i,n){if(e&&i){var a=e.value.match(/^\s*/)[0],o=e.value.match(/\s*$/)[0],r=i.value.match(/^\s*/)[0],s=i.value.match(/\s*$/)[0];if(t){var f=l(a,r);t.value=d(t.value,r,f),e.value=h(e.value,f),i.value=h(i.value,f)}if(n){var y=c(o,s);n.value=u(n.value,s,y),e.value=p(e.value,y),i.value=p(i.value,y)}}else if(i)t&&(i.value=i.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(t&&n){var m=n.value.match(/^\s*/)[0],v=e.value.match(/^\s*/)[0],x=e.value.match(/\s*$/)[0],b=l(m,v);e.value=h(e.value,b);var M=c(h(m,b),x);e.value=p(e.value,M),n.value=u(n.value,m,M),t.value=d(t.value,m,m.slice(0,m.length-M.length))}else if(n){var S=n.value.match(/^\s*/)[0],I=g(e.value.match(/\s*$/)[0],S);e.value=p(e.value,I)}else if(t){var D=g(t.value.match(/\s*$/)[0],e.value.match(/^\s*/)[0]);e.value=h(e.value,D)}}m.equals=function(t,e,i){return i.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()},m.tokenize=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i.intlSegmenter){if("word"!=i.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');e=Array.from(i.intlSegmenter.segment(t),(function(t){return t.segment}))}else e=t.match(y)||[];var n=[],a=null;return e.forEach((function(t){/\s/.test(t)?null==a?n.push(t):n.push(n.pop()+t):/\s/.test(a)?n[n.length-1]==a?n.push(n.pop()+t):n.push(a+t):n.push(t),a=t})),n},m.join=function(t){return t.map((function(t,e){return 0==e?t:t.replace(/^\s+/,"")})).join("")},m.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var i=null,n=null,a=null;return t.forEach((function(t){t.added?n=t:t.removed?a=t:((n||a)&&v(i,a,n,t),i=t,n=null,a=null)})),(n||a)&&v(i,a,n,null),t};var x=new o;x.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(f,"]+|[^\\S\\n\\r]+|[^").concat(f,"]"),"ug");return t.match(e)||[]};var b=new o;function M(t,e,i){return b.diff(t,e,i)}b.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,"\n"));var i=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var a=0;a<n.length;a++){var o=n[a];a%2&&!e.newlineIsToken?i[i.length-1]+=o:i.push(o)}return i},b.equals=function(t,e,i){return i.ignoreWhitespace?(i.newlineIsToken&&t.includes("\n")||(t=t.trim()),i.newlineIsToken&&e.includes("\n")||(e=e.trim())):i.ignoreNewlineAtEof&&!i.newlineIsToken&&(t.endsWith("\n")&&(t=t.slice(0,-1)),e.endsWith("\n")&&(e=e.slice(0,-1))),o.prototype.equals.call(this,t,e,i)};var S=new o;S.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var I=new o;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}I.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var w=new o;function N(t,e,i,n,a){var o,r;for(e=e||[],i=i||[],n&&(t=n(a,t)),o=0;o<e.length;o+=1)if(e[o]===t)return i[o];if("[object Array]"===Object.prototype.toString.call(t)){for(e.push(t),r=new Array(t.length),i.push(r),o=0;o<t.length;o+=1)r[o]=N(t[o],e,i,n,a);return e.pop(),i.pop(),r}if(t&&t.toJSON&&(t=t.toJSON()),"object"===D(t)&&null!==t){e.push(t),r={},i.push(r);var s,l=[];for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&l.push(s);for(l.sort(),o=0;o<l.length;o+=1)r[s=l[o]]=N(t[s],e,i,n,s);e.pop(),i.pop()}else r=t;return r}w.useLongestToken=!0,w.tokenize=b.tokenize,w.castInput=function(t,e){var i=e.undefinedReplacement,n=e.stringifyReplacer,a=void 0===n?function(t,e){return"undefined"===typeof e?i:e}:n;return"string"===typeof t?t:JSON.stringify(N(t,null,null,a),a,"  ")},w.equals=function(t,e,i){return o.prototype.equals.call(w,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),i)};var L=new o;L.tokenize=function(t){return t.slice()},L.join=L.removeEmpty=function(t){return t};var k=i(579);const A=t=>{let{buttonText:e,buttonOnClick:i,viewerText:n,viewerOnScroll:a}=t;return(0,k.jsxs)("div",{children:[(0,k.jsx)("button",{onClick:i,children:e}),(0,k.jsx)("div",{className:"text-viewer",onScroll:a,children:n})]})};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}function E(t,e,i){return(e=T(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(Object(i),!0).forEach((function(e){E(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function z(t,e){if(null==t)return{};var i,n,a=function(t,e){if(null==t)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;i[n]=t[n]}return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)i=o[n],e.includes(i)||{}.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}const j=["phase","start","finish","delay","duration"],P=["phase","start","finish","delay","duration"],B=["tickData","combinedRotation","textBaseline","textAlign"],F=["start"],G=["props"],U=["type","data","listeners","seriesGrouping","showInMiniChart"],_=["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"],Y=["min","max"],V=["onlyPositive"],W=["datum","isHighlighted","style","highlightStyle","itemStyler","seriesId","ctx"],Z=["useLabelLayer","pickModes","canHaveAxes","animationResetFns"],H=["type","group","id"],K=["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"],Q=["fills","fillMode","fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset","min","max","interval","label"],X=["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","segmentation","bar","targets","cornerRadius","cornerMode","label"],J=["fills","fillMode","fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset","min","max","interval","label"],q=["placement"],$=["targets"],tt=["xKey","dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeToolbar","rangeButtons","statusBar","annotations","toolbar","zoom","theme","data"],et=["background","container","height","listeners","locale","minHeight","minWidth","padding","width","theme","data","xAxis","yAxis"],it=["fills","strokes"],nt=["axes","annotations","series"],at=["axesButtons"],ot=["crossLines"],rt=["top","right","bottom","left"],st=["innerLabels"],lt=["innerLabels"],ct=["stacked","grouped"],ut=["overrideDevicePixelRatio","document","window","styleContainer"];var dt=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,pt=(t,e)=>{for(var i in e)dt(t,i,{get:e[i],enumerable:!0})},gt=(t,e,i,n)=>{for(var a,o=n>1?void 0:n?ht(e,i):e,r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n?a(e,i,o):a(o))||o);return n&&o&&dt(e,i,o),o},ft={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},yt=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"];var mt=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(mt||{});pt({},{TimeInterval:()=>It,day:()=>Yt,friday:()=>Jt,hour:()=>Ut,millisecond:()=>wt,minute:()=>Bt,monday:()=>Ht,month:()=>te,saturday:()=>qt,second:()=>zt,sunday:()=>Zt,thursday:()=>Xt,tuesday:()=>Kt,utcDay:()=>re,utcHour:()=>oe,utcMinute:()=>ae,utcMonth:()=>se,utcYear:()=>le,wednesday:()=>Qt,year:()=>ie});var vt=new Map;function xt(t,e){vt.has(e)||(vt.set(e,!0),t())}function bt(t){return t}function Mt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:a=!0}=null!==i&&void 0!==i?i:{};let o,r,s=!1;function l(){a&&r?(o=setTimeout(l,e),t(...r)):s=!1,r=null}return Object.assign((function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];s?r=a:(s=!0,o=setTimeout(l,e),n?t(...a):r=a)}),{cancel(){clearTimeout(o),s=!1,r=null}})}xt.clear=()=>vt.clear();var St={log(){console.log(...arguments)},warn(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console.warn("AG Charts - ".concat(t),...i)},error(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];"object"===typeof t?console.error("AG Charts error",t,...i):console.error("AG Charts - ".concat(t),...i)},table(){console.table(...arguments)},warnOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];xt((()=>St.warn(t,...i)),"Logger.warn: ".concat(t))},errorOnce(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];xt((()=>St.error(t,...i)),"Logger.error: ".concat(t))}},It=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,i){var n;const a=null===(n=this._rangeCallback)||void 0===n?void 0:n.call(this,t,e),o=this._encode(i?this.floor(t):this.ceil(t)),r=this._encode(i?this.ceil(e):this.floor(e));if(r<o)return[];const s=[];for(let l=o;l<=r;l++){const t=this._decode(l);s.push(t)}return null===a||void 0===a||a(),s}},Dt=class extends It{getOffset(t,e){const i="number"===typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e}every(t,e){let i,n=0;const a=t;a!==(t=Math.max(1,Math.round(t)))&&St.warnOnce("interval step of [".concat(a,"] rounded to [").concat(t,"]."));const{snapTo:o="start"}=null!==e&&void 0!==e?e:{};if("string"===typeof o){const e=n;i=(i,a)=>{const r="start"===o?i:a;return n=this.getOffset(r,t),()=>n=e}}else"number"===typeof o?n=this.getOffset(new Date(o),t):o instanceof Date&&(n=this.getOffset(o,t));return new It((e=>{const i=this._encode(e);return Math.floor((i-n)/t)}),(e=>this._decode(e*t+n)),i)}};var wt=new Dt((function(t){return t.getTime()}),(function(t){return new Date(t)})),Nt=wt,Lt=(new Date(0).getFullYear(),1e3),kt=6e4,At=36e5,Ct=864e5,Tt=6048e5,Et=2592e6,Rt=31536e6,Ot=(new Date).getTimezoneOffset()*kt;var zt=new Dt((function(t){return Math.floor((t.getTime()-Ot)/Lt)}),(function(t){return new Date(Ot+t*Lt)})),jt=zt,Pt=(new Date).getTimezoneOffset()*kt;var Bt=new Dt((function(t){return Math.floor((t.getTime()-Pt)/kt)}),(function(t){return new Date(Pt+t*kt)})),Ft=Bt,Gt=(new Date).getTimezoneOffset()*kt;var Ut=new Dt((function(t){return Math.floor((t.getTime()-Gt)/At)}),(function(t){return new Date(Gt+t*At)})),_t=Ut;var Yt=new Dt((function(t){const e=t.getTimezoneOffset()*kt;return Math.floor((t.getTime()-e)/Ct)}),(function(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e})),Vt=Yt;function Wt(t){const e=(7+t-4)%7;return new Dt((function(t){const i=t.getTimezoneOffset()*kt;return Math.floor((t.getTime()-i)/Tt-e/7)}),(function(t){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*t+e),i}))}var Zt=Wt(0),Ht=Wt(1),Kt=Wt(2),Qt=Wt(3),Xt=Wt(4),Jt=Wt(5),qt=Wt(6),$t=Zt;var te=new Dt((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){const e=Math.floor(t/12);return new Date(e,t-12*e,1)})),ee=te;var ie=new Dt((function(t){return t.getFullYear()}),(function(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e})),ne=ie;var ae=new Dt((function(t){return Math.floor(t.getTime()/kt)}),(function(t){return new Date(t*kt)}));var oe=new Dt((function(t){return Math.floor(t.getTime()/At)}),(function(t){return new Date(t*At)}));var re=new Dt((function(t){return Math.floor(t.getTime()/Ct)}),(function(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}));var se=new Dt((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){const e=Math.floor(t/12),i=t-12*e;return new Date(Date.UTC(e,i,1))}));var le=new Dt((function(t){return t.getUTCFullYear()}),(function(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e})),ce={};pt(ce,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>nn,fromToMotion:()=>an,staticFromToMotion:()=>on});var ue=new Map;function de(){ue.clear()}function he(t){var e;const i=t.constructor,n=Object.hasOwn(i,"className")?i.className:i.name;if(!n)throw new Error("The ".concat(i," is missing the 'className' property."));const a=(null!==(e=ue.get(n))&&void 0!==e?e:0)+1;return ue.set(n,a),"".concat(n,"-").concat(a)}function pe(){var t,e,i;return null!==(t=null===(e=(i=crypto).randomUUID)||void 0===e?void 0:e.call(i))&&void 0!==t?t:function(){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;let e="";for(let i=0;i<t.length;i++)4!==i&&6!==i&&8!==i&&10!==i||(e+="-"),e+=t[i].toString(16).padStart(2,"0");return e}()}function*ge(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)yield*n}function fe(t){return null!=t&&"object"===typeof t&&Symbol.iterator in t?t:[t]}var ye=Symbol("interpolate"),me=t=>null!=t[ye];function ve(t,e,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const a of i){const i=a.distanceSquared(t,e);if(0===i)return{nearest:a,distanceSquared:0};i<n.distanceSquared&&(n.nearest=a,n.distanceSquared=i)}return n}function xe(t,e,i){var n,a;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:r=t,y:s=e}=null!==(n=null===(a=i.transformPoint)||void 0===a?void 0:a.call(i,t,e))&&void 0!==n?n:{},l={nearest:void 0,distanceSquared:o};for(const c of i.children){const{nearest:t,distanceSquared:e}=c.nearestSquared(r,s,l.distanceSquared);if(0===e)return{nearest:t,distanceSquared:e};e<l.distanceSquared&&(l.nearest=t,l.distanceSquared=e)}return l}var be={};function Me(t){var e;return t?null===(e=be.document)||void 0===e?void 0:e[t]:be.document}function Se(t){var e;return t?null===(e=be.window)||void 0===e?void 0:e[t]:be.window}function Ie(t,e,i){const n=Me().createElement(t);if("object"===typeof e&&(i=e,e=void 0),e)for(const a of e.split(" "))n.classList.add(a);return i&&Object.assign(n.style,i),n}function De(t,e){return Me().createElementNS(t,e)}function we(t,e){const{body:i}=Me(),n=Ie("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function Ne(t){be.document=t}function Le(t){be.window=t}function ke(t,e){t&&(t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"))}function Ae(t){var e;if(t.focus({preventScroll:!0}),null==(null===(e=t.lastChild)||void 0===e?void 0:e.textContent))return;const i=Me().createRange();i.setStart(t.lastChild,t.lastChild.textContent.length),i.setEnd(t.lastChild,t.lastChild.textContent.length);const n=Se().getSelection();null===n||void 0===n||n.removeAllRanges(),null===n||void 0===n||n.addRange(i)}"undefined"!==typeof window?be.window=window:"undefined"!==typeof global&&(be.window=global.window),"undefined"!==typeof document?be.document=document:"undefined"!==typeof global&&(be.document=global.document);var Ce=0;function Te(t){return"".concat(null!==t&&void 0!==t?t:"ag-charts-element","-").concat(Ce++)}function Ee(t,e,i){return Math.min(i,Math.max(t,e))}function Re(t,e){const[i,n]=Oe(e);return Ee(i,t,n)}function Oe(t){if(0===t.length)return[];const e=[1/0,-1/0];for(const i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function ze(t){const[e,i]=Oe(t);return i-e}function je(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(t-e)<i}function Pe(t){return-1===Math.sign(t)||Object.is(t,-0)}function Be(t){const e=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(t*e)/e}function Fe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function Ge(t,e){return Math.floor(t%e+(t<0?e:0))}function Ue(t){var e,i;if(Math.floor(t)===t)return 0;let n=String(t),a=0;if(t<1e-6||t>=1e21){let t;[n,t]=n.split("e"),null!=t&&(a=Number(t))}const o=null!==(e=null===(i=n.split(".")[1])||void 0===i?void 0:i.length)&&void 0!==e?e:0;return Math.max(o-a,0)}function _e(t,e){var i;return e=null!==(i=e)&&void 0!==i?i:Se("navigator").language,new Intl.NumberFormat(e,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function Ye(t,e){return _e(t/100,e)}var Ve=class t{constructor(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}static fromDOMRect(e){let{x:i,y:n,width:a,height:o}=e;return new t(i,n,a,o)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:e,y:i,width:n,height:a}=this;return new t(e,i,n,a)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}intersection(e){if(!this.collidesBBox(e))return;const i=Ee(e.x,this.x,e.x+e.width),n=Ee(e.y,this.y,e.y+e.height),a=Ee(e.x,this.x+this.width,e.x+e.width),o=Ee(e.y,this.y+this.height,e.y+e.height);return new t(i,n,a-i,o-n)}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,e){if(this.containsPoint(t,e))return 0;const i=t-Ee(this.x,t,this.x+this.width),n=e-Ee(this.y,e,this.y+this.height);return i*i+n*n}static nearestBox(t,e,i){return ve(t,e,i)}clip(t){if(void 0===t)return this;const e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),a=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.y=i,this.width=Math.max(0,n-e),this.height=Math.max(0,a-i),this}shrink(t,e){const i=(t,e)=>{switch(t){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=2*e;break;case"horizontal":this.x+=e,this.width-=2*e;break;case void 0:this.x+=e,this.width-=2*e,this.y+=e,this.height-=2*e}};return"number"===typeof t?i(e,t):"object"===typeof t&&Object.entries(t).forEach((t=>{let[e,n]=t;return i(e,n)})),this}grow(t,e){if("number"===typeof t)this.shrink(-t,e);else{const e=O({},t);for(const t in e)e[t]*=-1;this.shrink(e)}return this}translate(t,e){return this.x+=t,this.y+=e,this}combine(t){const{x:e,y:i,width:n,height:a}=this;this.x=Math.min(e,t.x),this.y=Math.min(i,t.y),this.width=Math.max(e+n,t.x+t.width)-this.x,this.height=Math.max(i+a,t.y+t.height)-this.y}static merge(e){let i=1/0,n=1/0,a=-1/0,o=-1/0;for(const t of e)t.x<i&&(i=t.x),t.y<n&&(n=t.y),t.x+t.width>a&&(a=t.x+t.width),t.y+t.height>o&&(o=t.y+t.height);return new t(i,n,a-i,o-n)}[ye](e,i){return new t(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};Ve.zero=Object.freeze(new Ve(0,0,0,0)),Ve.NaN=Object.freeze(new Ve(NaN,NaN,NaN,NaN));var We=Ve,Ze=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(Ze||{});function He(t){return function(e,i){const n="__".concat(i);e[i]||function(t,e,i,n){const{redraw:a=1,type:o="normal",changeCb:r,convertor:s,checkDirtyOnAssignment:l=!1}=null!==n&&void 0!==n?n:{},c={redraw:a,type:o,changeCb:r,checkDirtyOnAssignment:l,convertor:s};let u;switch(o){case"normal":u=function(t,e){const{redraw:i=1,changeCb:n}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirty(i),null===n||void 0===n||n(this),e):Ke}}(i,c);break;case"transform":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this.markDirtyTransform(i),e):Ke}}(i,c);break;case"path":u=function(t,e){const{redraw:i=1}=e;return function(e){return e!==this[t]?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(i)),e):Ke}}(i,c)}u=function(t,e){const{checkDirtyOnAssignment:i}=e;if(i)return function(e){const i=t.call(this,e);return i!==Ke&&null!=e&&e._dirty>0&&this.markDirty(e._dirty),i};return t}(function(t,e){const{changeCb:i}=e;if(i)return function(e){const n=t.call(this,e);return n!==Ke&&i.call(this,this),n};return t}(function(t,e){const{convertor:i}=e;if(i)return function(e){t.call(this,i(e))};return t}(u,c),c),c);const d=function(){return this[i]};Object.defineProperty(t,e,{set:u,get:d,enumerable:!0,configurable:!0})}(e,i,n,t)}}var Ke=Symbol("no-change");var Qe=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(Qe||{}),Xe=class t{constructor(e){var i,n,a;this.serialNumber=t._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=he(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=null===e||void 0===e?void 0:e.name,this.isVirtual=null!==(i=null===e||void 0===e?void 0:e.isVirtual)&&void 0!==i&&i,this.tag=null!==(n=null===e||void 0===e?void 0:e.tag)&&void 0!==n?n:NaN,this.zIndex=null!==(a=null===e||void 0===e?void 0:e.zIndex)&&void 0!==a?a:0}static*extractBBoxes(t,e){for(const i of t)if(!e||i.visible&&!i.transitionOut){const t=i.getBBox();t&&(yield t)}}get datum(){var t,e;return null!==(t=this._datum)&&void 0!==t?t:null===(e=this.parentNode)||void 0===e?void 0:e.datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(const t of this.children()){const e=t.preRender();this.childNodeCounts.groups+=e.groups,this.childNodeCounts.nonGroups+=e.nonGroups}return this.childNodeCounts}render(t){const{stats:e}=t;if(this._dirty=0,t.debugNodeSearch){var i;const e=null!==(i=this.name)&&void 0!==i?i:this.id;var n;if(t.debugNodeSearch.some((t=>"string"===typeof t?t===e:t.test(e))))t.debugNodes[null!==(n=this.name)&&void 0!==n?n:this.id]=this}e&&e.nodesRendered++}_setLayerManager(t){this._layerManager=t,this._debug=null===t||void 0===t?void 0:t.debug;for(const e of this.children(!1))e._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes)return;if(this.hasVirtualChildren())return;const e=[...this.childNodes].sort(t);this.childNodes.clear();for(const i of e)this.childNodes.add(i)}*traverseUp(t){let e=this;for(t&&(yield e);e=e.parentNode;)yield e}children(){var t=this;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){if(!t.childNodes)return;const i=[];for(const n of t.childNodes)e&&n.isVirtual?i.push(n.children()):yield n;for(const t of i)yield*t}()}*virtualChildren(){if(this.childNodes&&this.virtualChildrenCount)for(const t of this.childNodes)t.isVirtual&&(yield t)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){var t;return!(null!==(t=this.childNodes)&&void 0!==t&&t.size)}isRoot(){return!this.parentNode}append(t){var e;null!==(e=this.childNodes)&&void 0!==e||(this.childNodes=new Set);for(const n of fe(t)){var i;null===(i=n.parentNode)||void 0===i||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager),n.isVirtual&&this.virtualChildrenCount++}this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(t){return this.append(t),t}removeChild(t){var e;return!(null===(e=this.childNodes)||void 0===e||!e.delete(t))&&(delete t.parentNode,t._setLayerManager(),t.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0)}remove(){var t,e;return null!==(t=null===(e=this.parentNode)||void 0===e?void 0:e.removeChild(this))&&void 0!==t&&t}clear(){var t;for(const e of this.children(!1))delete e.parentNode,e._setLayerManager();null===(t=this.childNodes)||void 0===t||t.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){var t;null===(t=this.parentNode)||void 0===t||t.removeChild(this)}setProperties(t,e){if(e)for(const i of e)this[i]=t[i];else Object.assign(this,t);return this}containsPoint(t,e){return!1}pickNode(t,e){if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,e))return;const i=[...this.children()];if(i.length>1e3)for(let n=i.length-1;n>=0;n--){const a=i[n],o=a.containsPoint(t,e)?a.pickNode(t,e):void 0;if(o)return o}else if(i.length)for(let n=i.length-1;n>=0;n--){const a=i[n].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var t;this.cachedBBox=void 0,null===(t=this.parentNode)||void 0===t||t.invalidateCachedBBox()}getBBox(){return null==this.cachedBBox&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const{_dirty:i}=this,n=i>t||i===t&&t===e;null==this.cachedBBox&&n||(this.invalidateCachedBBox(),this._dirty=Math.max(i,t),this.parentNode?this.parentNode.markDirty(e):this.layerManager&&this.layerManager.markDirty())}markClean(t){const{force:e=!1,recursive:i=!0}=null!==t&&void 0!==t?t:{};if(0!==this._dirty||e){this._dirty=0;for(const t of this.children(!1))(t.isVirtual?!1!==i:!0===i)&&t.markClean({force:e})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};Xe._nextSerialNumber=0,gt([He({redraw:3,changeCb:t=>t.onVisibleChange()})],Xe.prototype,"visible",2),gt([He({redraw:1,changeCb:t=>t.onZIndexChange()})],Xe.prototype,"zIndex",2),gt([He({redraw:1,changeCb:t=>t.onZIndexChange()})],Xe.prototype,"zIndexSubOrder",2);var Je=Xe,qe=(t,e,i)=>t*(1-i)+e*i,$e=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},ti=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},ei=class t{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=Ee(0,t||0,1),this.g=Ee(0,e||0,1),this.b=Ee(0,i||0,1),this.a=Ee(0,n||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return t.fromHexString(e);const i=t.nameToHex[e.toLowerCase()];if(i)return t.fromHexString(i);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '".concat(e,"'"))}static parseHex(t){var e;let i;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(let e=0;e<t.length;e+=2)i.push(parseInt("".concat(t[e]).concat(t[e+1]),16));break;case 3:case 4:i=t.split("").map((t=>parseInt(t,16))).map((t=>t+16*t))}if((null===(e=i)||void 0===e?void 0:e.length)>=3&&i.every((t=>t>=0)))return 3===i.length&&i.push(255),i}static fromHexString(e){const i=t.parseHex(e);if(i){const[e,n,a,o]=i;return new t(e/255,n/255,a/255,o/255)}throw new Error("Malformed hexadecimal color string: '".concat(e,"'"))}static stringToRgba(t){let e=-1,i=-1;for(let o=0;o<t.length;o++){const n=t[o];if(-1===e&&"("===n)e=o;else if(")"===n){i=o;break}}if(-1===e||-1===i)return;const n=t.substring(e+1,i).split(","),a=[];for(let o=0;o<n.length;o++){const t=n[o];let e=parseFloat(t);if(!Number.isFinite(e))return;t.indexOf("%")>=0?(e=Ee(0,e,100),e/=100):3===o?e=Ee(0,e,1):(e=Ee(0,e,255),e/=255),a.push(e)}return a}static fromRgbaString(e){const i=t.stringToRgba(e);if(i){if(3===i.length)return new t(i[0],i[1],i[2]);if(4===i.length)return new t(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '".concat(e,"'"))}static fromArray(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.HSBtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static fromHSL(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.HSLtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static fromOKLCH(e,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=t.OKLCHtoRGB(e,i,n);return new t(o[0],o[1],o[2],a)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e}toRgbaString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba(".concat(e.join(", "),")")):"rgb(".concat(e.join(", "),")")}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return t.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,i){const n=$e(t),a=$e(e),o=$e(i),r=Math.cbrt(.4122214708*n+.5363325363*a+.0514459929*o),s=Math.cbrt(.2119034982*n+.6806995451*a+.1073969566*o),l=Math.cbrt(.0883024619*n+.2817188376*a+.6299787005*o),c=.2104542553*r+.793617785*s-.0040720468*l,u=1.9779984951*r-2.428592205*s+.4505937099*l,d=.0259040371*r+.7827717662*s-.808675766*l,h=180*Math.atan2(d,u)/Math.PI;return[c,Math.hypot(u,d),h>=0?h:h+360]}static OKLCHtoRGB(t,e,i){const n=t,a=e*Math.cos(i*Math.PI/180),o=e*Math.sin(i*Math.PI/180),r=(n+.3963377774*a+.2158037573*o)**3,s=(n-.1055613458*a-.0638541728*o)**3,l=(n-.0894841775*a-1.291485548*o)**3,c=-1.2684380046*r+2.6097574011*s-.3413193965*l,u=-.0041960863*r-.7034186147*s+1.707614701*l;return[ti(4.0767416621*r-3.3077115913*s+.2309699292*l),ti(c),ti(u)]}static RGBtoHSL(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i),o=(a+n)/2;let r,s;if(a===n)r=0,s=0;else{const l=a-n;s=o>.5?l/(2-a-n):l/(a+n),r=a===t?(e-i)/l+(e<i?6:0):a===e?(i-t)/l+2:(t-e)/l+4,r*=60}return[r,s,o]}static HSLtoRGB(t,e,i){if(0===e)return[i,i,i];const n=i<.5?i*(1+e):i+e-i*e,a=2*i-n;function o(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+6*(n-a)*t:t<.5?n:t<2/3?a+(n-a)*(2/3-t)*6:a}return[o((t=(t%360+360)%360)/360+1/3),o(t/360),o(t/360-1/3)]}static RGBtoHSB(t,e,i){const n=Math.min(t,e,i),a=Math.max(t,e,i);let o=0;if(n!==a){const r=a-n,s=(a-t)/r,l=(a-e)/r,c=(a-i)/r;o=t===a?c-l:e===a?2+s-c:4+l-s,o/=6,o<0&&(o+=1)}return[360*o,0===a?0:(a-n)/a,a]}static HSBtoRGB(t,e,i){t=(t%360+360)%360/360;let n=0,a=0,o=0;if(0===e)n=a=o=i;else{const r=6*(t-Math.floor(t)),s=r-Math.floor(r),l=i*(1-e),c=i*(1-e*s),u=i*(1-e*(1-s));switch(r|0){case 0:n=i,a=u,o=l;break;case 1:n=c,a=i,o=l;break;case 2:n=l,a=i,o=u;break;case 3:n=l,a=c,o=i;break;case 4:n=u,a=l,o=i;break;case 5:n=i,a=l,o=c}}return[n,a,o]}static mix(e,i,n){return new t(qe(e.r,i.r,n),qe(e.g,i.g,n),qe(e.b,i.b,n),qe(e.a,i.a,n))}};ei.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var ii=ei;function ni(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function ai(t,e){if("string"===typeof t)try{t=ii.fromString(t)}catch(i){t=ii.fromArray([0,0,0])}if("string"===typeof e)try{e=ii.fromString(e)}catch(i){e=ii.fromArray([0,0,0])}return i=>ii.mix(t,e,i).toRgbaString()}var oi=Symbol("BREAK"),ri="__decorator_config";function si(t,e){null==Object.getOwnPropertyDescriptor(t,ri)&&Object.defineProperty(t,ri,{value:{}});const i=t[ri],n=e.toString();if("undefined"!==typeof i[n])return i[n];const a=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:a};const o=Object.getOwnPropertyDescriptor(t,e),r=null===o||void 0===o?void 0:o.set,s=null===o||void 0===o?void 0:o.get;return Object.defineProperty(t,e,{set:function(t){const{setters:o,observers:l}=i[n];let c;o.some((t=>t.length>2))&&(c=s?s.call(this):a.get(this));for(const i of o)if((t=i(this,e,t,c))===oi)return;r?r.call(this,t):a.set(this,t);for(const e of l)e(this,t,c)},get:function(){let t=s?s.call(this):a.get(this);for(const a of i[n].getters)if(t=a(this,e,t),t===oi)return;return t},enumerable:!0,configurable:!1}),i[n]}function li(t,e,i){return(n,a)=>{const o=si(n,a);o.setters.push(t),e&&o.getters.unshift(e),i&&Object.assign(o,i)}}function ci(t){return"undefined"!==typeof t&&ri in t}function ui(t){const e=new Set;for(;ci(t);){var i;e.add(null===(i=t)||void 0===i?void 0:i[ri]),t=Object.getPrototypeOf(t)}return Array.from(e).flatMap((t=>Object.keys(t)))}function di(t){return ui(t).reduce(((e,i)=>{var n;return e[i]=null!==(n=t[i])&&void 0!==n?n:null,e}),{})}function hi(t){return null!=t}function pi(t){return Array.isArray(t)}function gi(t){return"boolean"===typeof t}function fi(t){return t instanceof Date}function yi(t){return fi(t)&&!isNaN(Number(t))}function mi(t){return t instanceof RegExp}function vi(t){return"function"===typeof t}function xi(t){return"object"===typeof t&&null!==t&&!pi(t)}function bi(t){return pi(t)||Mi(t)}function Mi(t){return"object"===typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function Si(t){return"string"===typeof t}function Ii(t){return"number"===typeof t}function Di(t){return Number.isFinite(t)}function wi(t){return"undefined"!==typeof window&&t instanceof HTMLElement}function Ni(t,e){return Si(e)&&Object.keys(t).includes(e)}function Li(t,e){return Object.values(t).includes(e)}function ki(t){return"symbol"===typeof t}function Ai(t,e){return t.type!==e}function Ci(t,e,i){for(const n in e)if(!(n in t))return!1;for(const n in t){if(!(n in e))return!1;if(!i(t[n],e[n]))return!1}return!0}function Ti(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Ei(...e.reverse())}function Ei(){const t={};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const o of i){if(!xi(o))continue;const e=ci(o)?ui(o):Object.keys(o);for(const i of e){var a;if(Mi(t[i])&&Mi(o[i]))t[i]=Ei(t[i],o[i]);else null!==(a=t[i])&&void 0!==a||(t[i]=o[i])}}return t}function Ri(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i&&pi(t)?t.map((t=>Ei(t,...i))):t}function Oi(t,e){return Object.entries(t).reduce(((i,n)=>{let[a,o]=n;return i[a]=e(o,a,t),i}),{})}function zi(t,e){const i=O({},t);for(const n of e)delete i[n];return i}function ji(t,e){return(pi(e)?e:e.split(".")).reduce(((t,e)=>t[e]),t)}var Pi=new Set(["__proto__","constructor","prototype"]);function Bi(t,e,i){const n=pi(e)?e.slice():e.split("."),a=n.pop();if(n.some((t=>Pi.has(t))))return;const o=n.reduce(((t,e)=>t[e]),t);return o[a]=i,o[a]}function Fi(t,e,i){if(void 0===i)return e;for(const n of t){const t=i[n];void 0!==t&&(e[n]=t)}return e}var Gi={};pt(Gi,{easeIn:()=>_i,easeInOut:()=>Vi,easeInOutQuad:()=>Hi,easeInQuad:()=>Wi,easeOut:()=>Yi,easeOutQuad:()=>Zi,inverseEaseOut:()=>Ki,linear:()=>Ui});var Ui=t=>t,_i=t=>1-Math.cos(t*Math.PI/2),Yi=t=>Math.sin(t*Math.PI/2),Vi=t=>-(Math.cos(t*Math.PI)-1)/2,Wi=t=>t*t,Zi=t=>1-(1-t)**2,Hi=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,Ki=t=>2*Math.asin(t)/Math.PI,Qi=.2,Xi=["initial","remove","update","add","trailing","end","none"],Ji={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Qi,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},qi=(t=>(t.Loop="loop",t.Reverse="reverse",t))(qi||{});function $i(t){return t.every((t=>t instanceof Je))?{nodes:t,selections:[]}:{nodes:[],selections:t}}function tn(t,e){return t===e||(Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(((t,i)=>tn(t,e[i]))):me(t)&&me(e)?t.equals(e):!(!Mi(t)||!Mi(e))&&Ci(t,e,tn))}var en=class{constructor(t){var e,i,n,a;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=null===(e=t.autoplay)||void 0===e||e,this.ease=null!==(i=t.ease)&&void 0!==i?i:Ui,this.phase=t.phase;const o=null!==(n=t.duration)&&void 0!==n?n:Ji[this.phase].animationDuration;var r,s,l;(this.duration=o*t.defaultDuration,this.delay=(null!==(a=t.delay)&&void 0!==a?a:0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,!0===t.skip)&&(null===(r=this.onUpdate)||void 0===r||r.call(this,t.to,!1,this),null===(s=this.onStop)||void 0===s||s.call(this,this),null===(l=this.onComplete)||void 0===l||l.call(this,this),this.isComplete=!0);!1!==t.collapsable&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return tn(t.from,t.to)?0:e}play(){var t,e;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,null===(t=this.onPlay)||void 0===t||t.call(this,this),this.autoplay&&(this.autoplay=!1,i&&(null===(e=this.onUpdate)||void 0===e||e.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var t;(this.isPlaying=!1,this.isComplete)||(this.isComplete=!0,null===(t=this.onStop)||void 0===t||t.call(this,this))}update(t){var e;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);null===(e=this.onUpdate)||void 0===e||e.call(this,n,!1,this);const a=this.delay+this.duration;var o;return this.elapsed>=a?(this.stop(),this.isComplete=!0,null===(o=this.onComplete)||void 0===o||o.call(this,this),t-(a-i)):0}get delta(){return this.ease(Ee(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if("object"!==typeof e||me(e))return this.interpolateValue(t,e);const i=[];for(const n in e){const a=this.interpolateValue(t[n],e[n]);null!=a&&i.push([n,a])}return t=>{const e={};for(const[n,a]of i)e[n]=a(t);return e}}interpolateValue(t,e){if(null!=t&&null!=e){if(me(t))return i=>t[ye](e,i);try{switch(typeof t){case"number":return ni(t,e);case"string":return ai(t,e);case"boolean":if(t===e)return()=>t}}catch(i){}throw new Error("Unable to interpolate values: ".concat(t,", ").concat(e))}}},nn={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function an(t,e,i,n,a,o,r){const{fromFn:s,toFn:l,applyFn:c=(t,e)=>t.setProperties(e)}=a,{nodes:u,selections:d}=$i(n),h=(n,a)=>{let u,d=0,h=0;for(const g of a){var p;const f=n[d]===g,y={last:h>=a.length-1,lastLive:d>=n.length-1,prev:a[h-1],prevFromProps:u,prevLive:n[d-1],next:a[h+1],nextLive:n[d+(f?1:0)]},m="".concat(t,"_").concat(e,"_").concat(g.id);i.stopByAnimationId(m);let v="unknown";f?o&&r&&(v=rn(g,g.datum,o,r)):v="removed",g.transitionOut="removed"===v;const x=s(g,g.datum,v,y),{phase:b,start:M,finish:S,delay:I,duration:D}=x,w=z(x,j),N=l(g,g.datum,v,y),{phase:L,start:k,finish:A,delay:C,duration:T}=N,E=z(N,P),R=null==S;i.animate({id:m,groupId:t,phase:null!==(p=null!==b&&void 0!==b?b:L)&&void 0!==p?p:"update",duration:null!==D&&void 0!==D?D:T,delay:null!==I&&void 0!==I?I:C,from:w,to:E,ease:Yi,collapsable:R,onPlay:()=>{c(g,O(O(O({},M),k),w))},onUpdate(t){c(g,t)},onStop:()=>{c(g,O(O(O(O(O(O({},M),k),w),E),S),A))}}),f&&d++,h++,u=w}};let p=0;for(const g of d){const n=g.nodes();h(n.filter((t=>!g.isGarbage(t))),n),i.animate({id:"".concat(t,"_").concat(e,"_selection_").concat(p),groupId:t,phase:"end",from:0,to:1,ease:Yi,onStop(){g.cleanup()}}),p++}h(u,u)}function on(t,e,i,n,a,o,r){const{nodes:s,selections:l}=$i(n),{start:c,finish:u,phase:d}=r;i.animate({id:"".concat(t,"_").concat(e),groupId:t,phase:null!==d&&void 0!==d?d:"update",from:a,to:o,ease:Yi,onPlay:()=>{if(c){for(const t of s)t.setProperties(c);for(const t of l)for(const e of t.nodes())e.setProperties(c)}},onUpdate(t){for(const e of s)e.setProperties(t);for(const e of l)for(const i of e.nodes())i.setProperties(t)},onStop:()=>{for(const t of s)t.setProperties(O(O({},o),u));for(const t of l){for(const e of t.nodes())e.setProperties(O(O({},o),u));t.cleanup()}}})}function rn(t,e,i,n){const a=i(t,e);return n.added.has(a)?"added":n.removed.has(a)?"removed":"updated"}var sn=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(t){this[i]!==t&&(this[i]=t,this.invalid=!0)},enumerable:!0,configurable:!1})},ln=class t{constructor(e,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=i}static is(e){return e instanceof t}transform(t){return t}transformInvert(t){return t}calcBandwidth(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.getDomain(),i=this.getPixelRange(),n=Math.abs(e[1]-e[0])/t+1,a=Math.floor(i),o=Math.min(n,a);return i/Math.max(1,o)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var i;const n=null!==(i=null===e||void 0===e?void 0:e.clampMode)&&void 0!==i?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const a=this.getDomain().map((t=>this.transform(t))),[o,r]=a,{range:s}=this,[l,c]=s;if(t=this.transform(t),"clamped"===n){const[e,i]=Oe(a.map(Number));if(Number(t)<e)return l;if(Number(t)>i)return c}return o===r?(l+c)/2:t===o?l:t===r?c:l+(Number(t)-Number(o))/(Number(r)-Number(o))*(c-l)}invert(t){this.refresh();const e=this.getDomain().map((t=>this.transform(t))),[i,n]=e,{range:a}=this,[o,r]=a,s=o>r;let l;return t<(s?r:o)?s?n:i:t>(s?o:r)?s?i:n:(l=o===r?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(t-o)/(r-o)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&St.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[t,e]=this.range;return Math.abs(e-t)}};ln.defaultTickCount=5,ln.defaultMaxTickCount=6,gt([sn],ln.prototype,"domain",2),gt([sn],ln.prototype,"range",2),gt([sn],ln.prototype,"nice",2),gt([sn],ln.prototype,"interval",2),gt([sn],ln.prototype,"tickCount",2),gt([sn],ln.prototype,"minTickCount",2),gt([sn],ln.prototype,"maxTickCount",2);var cn=ln;function un(t){if(0===t.length)return null;let e=1/0,i=-1/0;for(let a of t)a instanceof Date&&(a=a.getTime()),"number"===typeof a&&(a<e&&(e=a),a>i&&(i=a));const n=[e,i];return n.every(isFinite)?n:null}function dn(t,e,i){let n=!1;var a;t.length>2&&(t=null!==(a=un(t))&&void 0!==a?a:[NaN,NaN]);return isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}function hn(t,e){if(null==t||null==e||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!hn(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function pn(t){return"undefined"===typeof t?[]:Array.isArray(t)?t:[t]}function gn(t){return Array.from(new Set(t))}function fn(t,e){return t.reduce(((t,i)=>{var n;const a=e(i);return null!==(n=t[a])&&void 0!==n||(t[a]=[]),t[a].push(i),t}),{})}function yn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t.length)return[];const n=[];for(let a=0;a<e;a++)n.push(t.at((a+i)%t.length));return n}function mn(t,e){const i=new Map;return e.forEach(((t,e)=>{i.set(t,e)})),t.sort(((t,e)=>{var n,a;return(null!==(n=i.get(t))&&void 0!==n?n:1/0)-(null!==(a=i.get(e))&&void 0!==a?a:1/0)}))}var vn={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function xn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(t.getFullYear(),0,1);const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+6e4*i;return Math.floor(n/864e5)}function bn(t,e){const i=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,n=new Date(t.getFullYear(),0,i+1);return n<=t?Math.floor(xn(t,n)/7)+1:0}function Mn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getFullYear();const i=new Date(e,0,1).getDay(),n=new Date(e,0,(4-i+7)%7-3+1);return n<=t?Math.floor(xn(t,n)/7)+1:Mn(t,e-1)}var Sn={a:t=>vn.shortDays[t.getDay()],A:t=>vn.days[t.getDay()],b:t=>vn.shortMonths[t.getMonth()],B:t=>vn.months[t.getMonth()],c:"%x, %X",d:(t,e)=>Dn(t.getDate(),2,null!==e&&void 0!==e?e:"0"),e:"%_d",f:(t,e)=>Dn(1e3*t.getMilliseconds(),6,null!==e&&void 0!==e?e:"0"),H:(t,e)=>Dn(t.getHours(),2,null!==e&&void 0!==e?e:"0"),I:(t,e)=>{const i=t.getHours()%12;return 0===i?"12":Dn(i,2,null!==e&&void 0!==e?e:"0")},j:(t,e)=>Dn(xn(t)+1,3,null!==e&&void 0!==e?e:"0"),m:(t,e)=>Dn(t.getMonth()+1,2,null!==e&&void 0!==e?e:"0"),M:(t,e)=>Dn(t.getMinutes(),2,null!==e&&void 0!==e?e:"0"),L:(t,e)=>Dn(t.getMilliseconds(),3,null!==e&&void 0!==e?e:"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>Dn(t.getSeconds(),2,null!==e&&void 0!==e?e:"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>Dn(bn(t,0),2,null!==e&&void 0!==e?e:"0"),V:(t,e)=>Dn(Mn(t),2,null!==e&&void 0!==e?e:"0"),w:(t,e)=>Dn(t.getDay(),2,null!==e&&void 0!==e?e:"0"),W:(t,e)=>Dn(bn(t,1),2,null!==e&&void 0!==e?e:"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>Dn(t.getFullYear()%100,2,null!==e&&void 0!==e?e:"0"),Y:(t,e)=>Dn(t.getFullYear(),4,null!==e&&void 0!==e?e:"0"),Z:t=>function(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return"".concat(e>0?"-":"+").concat(Dn(Math.floor(i/60),2,"0")).concat(Dn(Math.floor(i%60),2,"0"))}(t),"%":()=>"%"},In={_:" ",0:"0","-":""};function Dn(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:"".concat(i.repeat(e-n.length)).concat(n)}function wn(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(0!==i){const n=i>0?t.substring(0,i):t;e.push(n)}if(i<0)break;const n=t[i+1],a=In[n];null!=a&&i++;const o=t[i+1],r=Sn[o];if("function"===typeof r)e.push([r,a]);else if("string"===typeof r){const t=wn(r);e.push([t,a])}else e.push("".concat(null!==a&&void 0!==a?a:"").concat(o));t=t.substring(i+2)}return t=>{const i="number"===typeof t?new Date(t):t;return e.map((t=>"string"===typeof t?t:t[0](i,t[1]))).join("")}}function Nn(t){return t instanceof Date?t.getTime():t}function Ln(t,e,i){const n=wn(kn(t,e,i));return t=>n(t)}function kn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let s=1;s<t.length;s++)n=Math.min(n,Math.abs(t[s]-t[s-1]));const a=new Date(e[0]).getFullYear(),o=new Date(e.at(-1)).getFullYear()-a>0,r=isFinite(n)?function(t,e){if(t<Lt)return 0;if(t<kt)return 1;if(t<At)return 2;if(t<Ct)return 3;if(t<Tt)return 4;if(t<24192e5||t<26784e5&&function(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}(e))return 5;if(t<Rt)return 6;return 7}(n,t):function(t){if(jt.floor(t)<t)return 0;if(Ft.floor(t)<t)return 1;if(_t.floor(t)<t)return 2;if(Vt.floor(t)<t)return 3;if(ee.floor(t)<t)return $t.floor(t)<t?4:5;if(ne.floor(t)<t)return 6;return 7}(t[0]);return function(t,e,i){const n=Nn(i[0]),a=Nn(i.at(-1)),o=Math.abs(a-n),r=e||7===t,s=[["hour",216e5,12096e5,3,"%I %p"],["hour",kt,216e5,3,"%I:%M"],["second",1e3,216e5,1,":%S"],["ms",0,216e5,0,".%L"],["am/pm",kt,216e5,3,"%p"]," ",["day",Ct,Tt,4,"%a"],["month",0===o?0:Tt,314496e5,5,"%b %d"],["month",3024e6,31536e7,6,"%B"]," ",["year",r?0:Rt,1/0,7,"%Y"]].filter((e=>{if("string"===typeof e)return!0;const[i,n,a,r]=e;return r>=t&&n<=o&&o<a})).reduce(((t,e)=>("string"===typeof e?t.result.push(e):t.used.has(e[0])||(t.result.push(e),t.used.add(e[0])),t)),{result:[],used:new Set}).result,l=s.findIndex((t=>"string"!==typeof t)),c=s.findLastIndex((t=>"string"!==typeof t));return s.slice(l,c+1).map((t=>"string"===typeof t?t:t[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(r-i,0),o,t)}var An=class t{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof t}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&St.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(const e of t){const t=Nn(e);void 0===this.getIndex(t)&&this.index.set(t,this._domain.push(e)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){var e;this.refresh();const i=this.getIndex(t);return null==i?NaN:null!==(e=this.ordinalRange[i])&&void 0!==e?e:NaN}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>e===t));return this.domain[e]}invertNearest(t){var e;this.refresh();let i=-1,n=1/0;const a=this.ordinalRange.findIndex(((e,a)=>{if(e===t)return!0;const o=Math.abs(t-e);return o<n&&(n=o,i=a),!1}));return null!==(e=this.domain[a])&&void 0!==e?e:this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Ee(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=Ee(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=Ee(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(0===t)return;const[e,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:a,round:o}=this,r=i-e;let s;1===t?(n=0,s=r*(1-2*a)):s=r/Math.max(1,t-n+2*a);const l=o?Math.floor(s):s;let c=e+(r-l*(t-n))/2,u=l*(1-n);o&&(c=Math.round(c),u=Math.round(u)),this._step=l,this._inset=c,this._bandwidth=u,this._rawBandwidth=s*(1-n),this.ordinalRange=this._domain.map(((t,e)=>c+l*e))}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};gt([sn],An.prototype,"range",2),gt([sn],An.prototype,"round",2),gt([sn],An.prototype,"interval",2);var Cn=An,Tn=class{set(t){const{className:e=this.constructor.name}=this.constructor;if("object"!==typeof t)return St.warn("unable to set ".concat(e," - expecting a properties object")),this;const i=new Set(Object.keys(t));for(const n of ui(this))if(i.has(n)){const e=t[n],a=this;if(Rn(a[n]))if(a[n]instanceof En){const t=a[n].reset(e);null!=t?a[n]=t:St.warn("unable to set [".concat(n,"] - expecting a properties array"))}else a[n].set(e);else a[n]=e;i.delete(n)}for(const n of i)St.warn("unable to set [".concat(n,"] in ").concat(e," - property is unknown"));return this}isValid(t){return ui(this).every((e=>{const{optional:i}=function(t,e){const i=e.toString();for(;ci(t);){const e=t[ri];if(Object.hasOwn(e,i))return e[i];t=Object.getPrototypeOf(t)}}(this,e),n=!0===i||"undefined"!==typeof this[e];return n||St.warnOnce("".concat(null!==t&&void 0!==t?t:"","[").concat(e,"] is required.")),n}))}toJson(){return ui(this).reduce(((t,e)=>{const i=this[e];return t[e]=Rn(i)?i.toJson():i,t}),{})}},En=class t extends Array{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];super(i.length);const a=(t=>{var e;return Boolean(null===t||void 0===t||null===(e=t.prototype)||void 0===e||null===(e=e.constructor)||void 0===e?void 0:e.name)})(t)?e=>(new t).set(e):t;Object.defineProperty(this,"itemFactory",{value:a,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(pi(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=this.itemFactory(t[e])}return this}reset(e){if(Array.isArray(e))return new t(this.itemFactory,...e)}toJson(){return this.map((t=>{var e,i;return null!==(e=null===t||void 0===t||null===(i=t.toJson)||void 0===i?void 0:i.call(t))&&void 0!==e?e:t}))}};function Rn(t){return t instanceof Tn||t instanceof En}function On(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=e;return li(((a,o,r)=>{var s;const l=O(O({},e),{},{target:a,property:o});if(i&&"undefined"===typeof r||t(r,l))return Rn(a[o])&&!Rn(r)?(a[o].set(r),a[o]):r;const c=null!==n&&void 0!==n?n:String(o).replace(/^_*/,""),u=null!==(s=a.constructor.className)&&void 0!==s?s:a.constructor.name.replace(/Properties$/,"");let d=Ea(r);if(null!=d&&d.length>50){const t=d.length-50;d=d.slice(0,50)+"... (+".concat(t," characters)")}return St.warn("Property [".concat(c,"] of [").concat(u,"] cannot be set to [").concat(d,"]").concat(t.message?"; expecting ".concat(Ca(t,l)):"",", ignoring.")),oi}),void 0,{optional:i})}var zn,jn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=[];return Aa(((t,i)=>(n.length=0,e.every((e=>{const a=e(t,i);return a||n.push(Ca(e,i)),a})))),(()=>n.filter(Boolean).join(" AND ")))},Pn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Aa(((t,i)=>e.some((e=>e(t,i)))),(t=>e.map(function(t){return e=>Ca(e,t)}(t)).filter(Boolean).join(" OR ")))},Bn=Ta(Aa(((t,e)=>Rn(t)||xi(t)&&Rn(e.target[e.property])),"a properties object")),Fn=Ta(Aa((t=>xi(t)),"an object")),Gn=Aa(gi,"a boolean"),Un=Aa(vi,"a function"),_n=Aa(Si,"a string"),Yn=(zn=Aa(Di,"a number"),Object.assign(zn,{restrict(){let{min:t,max:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=Ii(t),a=Ii(e);return n&&a?i.push("between ".concat(t," and ").concat(e," inclusive")):n?i.push("greater than or equal to ".concat(t)):a&&i.push("less than or equal to ".concat(e)),Aa((i=>Di(i)&&(!n||i>=t)&&(!a||i<=e)),i.join(" "))}})),Vn=Aa((t=>Ii(t)&&!isNaN(t)),"a real number"),Wn=Aa((t=>Ii(t)&&isNaN(t)),"NaN"),Zn=Yn.restrict({min:0}),Hn=Yn.restrict({min:0,max:1}),Kn=Yn.restrict({min:-360,max:360}),Qn=Pn(Yn,Wn),Xn=function(t){return Object.assign(t,{restrict(){let{length:t,minLength:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return Ii(e)&&e>0?i="a non-empty array":Ii(t)&&(i="an array of length ".concat(t)),Aa((i=>pi(i)&&(!Ii(t)||i.length===t)&&(!Ii(e)||i.length>=e)),i)}})}(Aa(pi,"an array")),Jn=(t,e)=>Aa(((e,i)=>pi(e)&&e.every((e=>t(e,i)))),(t=>{var i;const n=null!==(i=Ca(Xn,t))&&void 0!==i?i:"";return e?"".concat(n," of ").concat(e):n})),qn=t=>Di(t)||yi(t),$n=t=>Aa(((e,i)=>!qn(e)||!qn(i.target[t])||e<i.target[t]),"to be less than ".concat(t)),ta=t=>Aa(((e,i)=>!qn(e)||!qn(i.target[t])||e>i.target[t]),"to be greater than ".concat(t)),ea=Aa(yi,"Date object"),ia=Pn(ea,Zn),na="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",aa=Aa((t=>Si(t)&&ii.validColorString(t)),"color String. ".concat(na)),oa=Aa(Jn(aa),"color strings. ".concat(na)),ra=Jn(Gn,"boolean values"),sa=Jn(Yn,"numbers"),la=Jn(_n,"strings"),ca=Aa(Jn(ea),"Date objects"),ua=Aa(Jn(Bn),"objects"),da=Na(["butt","round","square"],"a line cap"),ha=Na(["round","bevel","miter"],"a line join"),pa=Na(["solid","dashed","dotted"],"a line style"),ga=Aa(Jn(Zn),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),fa=Na(["top","right","bottom","left"],"a position"),ya=Na(["normal","italic","oblique"],"a font style"),ma=Pn(Na(["normal","bold","bolder","lighter"],"a font weight"),Yn.restrict({min:1,max:1e3})),va=Na(["never","always","hyphenate","on-space"],"a text wrap strategy"),xa=Na(["left","center","right"],"a text align"),ba=Na(["top","middle","bottom"],"a vertical align"),Ma=Na(["ellipsis","hide"],"an overflow strategy"),Sa=Na(["horizontal","vertical"],"a direction"),Ia=Na(["inside","outside"],"a placement"),Da=Pn(Na(["exact","nearest"],"interaction range"),Yn),wa=Na(["top","bottom","left","right"]);function Na(t){return Aa(((e,i)=>{const n=t.find((t=>{const i="string"===typeof t?t:t.value;return e===i}));if(null==n)return!1;if("string"!==typeof n&&(!0===n.deprecated||null!=n.deprecatedTo)){const t=["Property [%s] with value '".concat(n.value,"' is deprecated.")];n.deprecatedTo&&t.push("Use ".concat(n.deprecatedTo," instead.")),St.warnOnce(t.join(" "),i.property)}return!0}),"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"," keyword such as ").concat(function(t){const e=t.filter((t=>"string"===typeof t||!0!==t.undocumented)).map((t=>"'".concat("string"===typeof t?t:t.value,"'")));if(1===e.length)return e[0];const i=e.pop();return"".concat(e.join(", ")," or ").concat(i)}(t)))}var La=Pn(jn(Yn.restrict({min:1}),$n("maxSpacing")),Wn),ka=Pn(jn(Yn.restrict({min:1}),ta("minSpacing")),Wn);function Aa(t,e){return t.message=e,t}function Ca(t,e){return vi(t.message)?t.message(e):t.message}function Ta(t){return Object.assign(t,{restrict:e=>Aa((t=>t instanceof e),(i=>{var n;return null!==(n=Ca(t,i))&&void 0!==n?n:"an instance of ".concat(e.name)}))})}function Ea(t){if("number"===typeof t){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var Ra=(t=>(t.X="x",t.Y="y",t))(Ra||{}),Oa=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error("AG Charts - module already initialised: ".concat(t.optionsKey));this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var e;const i=Si(t)?t:t.optionsKey;null===(e=this.moduleMap.get(i))||void 0===e||e.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(t){var e;return null===(e=this.moduleMap.get(Si(t)?t:t.optionsKey))||void 0===e?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(Si(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),((e,i)=>t(e.moduleInstance,i)))}destroy(){for(const e of this.moduleMap.keys()){var t;null===(t=this.moduleMap.get(e))||void 0===t||t.moduleInstance.destroy()}this.moduleMap.clear()}},za={};function ja(t,e){const{nodes:i,selections:n}=$i(t);for(const a of n){for(const t of a.nodes()){const i=e(t,t.datum);t.setProperties(i)}a.cleanup()}for(const a of i){const t=e(a,a.datum);a.setProperties(t)}}function Pa(t){let e,i;const n=Ga.exec(t);n&&([,e,t,i]=n);const a=Fa.exec(t);if(!a)throw new Error("The number formatter is invalid: ".concat(t));const[,o,r,s,l,c,u,d,h,p,g]=a;return{fill:o,align:r,sign:s,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:Boolean(p),type:g,prefix:e,suffix:i}}function Ba(t){const e="string"===typeof t?Pa(t):t,{fill:i,align:n,sign:a="-",symbol:o,zero:r,width:s,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=e;let{trim:p}=e;const g=null==h||isNaN(h);let f,y;if(c)if(c in _a&&c in Ua)f=g?Ua[c]:_a[c];else if(c in _a)f=_a[c];else{if(!(c in Ua))throw new Error("The number formatter type is invalid: ".concat(c));f=Ua[c]}else f=_a.g,p=!0;return y=null==h||g?c?6:12:h,t=>{let e=f(t,y);return p&&(e=e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(e=function(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),a=t.substring(i);for(let o=n.length-3;o>0;o-=3)n.splice(o,0,e);return"".concat(n.join("")).concat(a)}(e,l)),e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return t>=0?e:"(".concat(e,")");const n="+"===i?"+":"";return"".concat(t>=0?n:Za).concat(e)}(t,e,a),o&&"#"!==o&&(e="".concat(o).concat(e)),"#"===o&&"x"===c&&(e="0x".concat(e)),"s"===c&&(e="".concat(e).concat(function(t){return Wa[Ka(t)]}(t))),"%"!==c&&"p"!==c||(e="".concat(e,"%")),null==s||isNaN(s)||(e=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",a=t;if(">"!==n&&n){if("<"===n)a=a.padEnd(e,i);else if("^"===n){const t=Math.max(0,e-a.length),n=Math.ceil(t/2),o=Math.floor(t/2);a=a.padStart(n+a.length,i),a=a.padEnd(o+a.length,i)}}else a=a.padStart(e,i);return a}(e,s,null!==i&&void 0!==i?i:r,n)),e="".concat(u).concat(e).concat(d),e}}pt(za,{resetMotion:()=>ja});var Fa=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,Ga=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Ua={b:t=>Ha(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>Ha(t).toString(8),x:t=>Ha(t).toString(16),X:t=>Ua.x(t).toUpperCase(),n:t=>Ua.d(t),"%":t=>"".concat(Ha(100*t).toFixed(0))},_a={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>_a.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>_a.f(t,e).toUpperCase(),g:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>_a.g(t,e).toUpperCase(),n:(t,e)=>_a.g(t,e),p:(t,e)=>_a.r(100*t,e),r:(t,e)=>{if(0===t)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i))-(e-1);if(n<=0)return i.toFixed(-n);const a=10**n;return(Math.round(i/a)*a).toFixed()},s:(t,e)=>{const i=Ka(t);return _a.r(t/10**i,e)},"%":(t,e)=>_a.f(100*t,e)},Ya=-24,Va=24,Wa={[Ya]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Va]:"Y"},Za="\u2212";function Ha(t){return Math.floor(Math.abs(t))}function Ka(t){return Ee(Ya,t?3*Math.floor(Math.log10(Math.abs(t))/3):0,Va)}var Qa=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),Xa=[Qa(jt,Lt,1),Qa(jt,Lt,5),Qa(jt,Lt,15),Qa(jt,Lt,30),Qa(Ft,kt,1),Qa(Ft,kt,5),Qa(Ft,kt,15),Qa(Ft,kt,30),Qa(_t,At,1),Qa(_t,At,3),Qa(_t,At,6),Qa(_t,At,12),Qa(Vt,Ct,1),Qa(Vt,Ct,2),Qa($t,Tt,1),Qa($t,Tt,2),Qa($t,Tt,3),Qa(ee,Et,1),Qa(ee,Et,2),Qa(ee,Et,3),Qa(ee,Et,4),Qa(ee,Et,6),Qa(ne,Rt,1)],Ja=[1,2,5,10];function qa(t,e){return Math.abs(Math.round(t)-t)<e}function $a(t,e,i,n,a){if(i<2)return[t,e];const o=eo(t,e,i,n,a);return Number.isFinite(o)?(qa(t/o,1e-12)||(t=Math.ceil(t/o)*o),qa(e/o,1e-12)||(e=Math.floor(e/o)*o),ao(t,e,o)):[]}function to(t,e,i,n,a,o){const r=null!==o&&void 0!==o?o:Math.abs(e-t)/Math.max(i,1);let s=0;for(const h of Xa){if(r<=h.duration)break;s++}if(0===s){const o=Math.max(eo(t,e,i,n,a),1);return Nt.every(o)}if(s===Xa.length){const r=null==o?eo(t/Rt,e/Rt,i,n,a):1;return ne.every(r)}const l=Xa[s-1],c=Xa[s],{timeInterval:u,step:d}=r-l.duration<c.duration-r?l:c;return u.every(d)}function eo(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(t===e)return Ee(1,n,a);if(i<1)return NaN;const o=Math.abs(e-t),r=10**Math.floor(Math.log10(o/i));let s=NaN,l=1/0,c=!1;for(const u of Ja){const t=Math.ceil(o/(u*r)),e=t>=n&&t<=a;if(c&&!e)continue;const d=Math.abs(t-i);(l>d||c!==e)&&(c||(c=e),l=d,s=u)}return s*r}function io(t){for(let e=t.length-1;e>=0;e-=1)if("0"!==t[e])return e+1;return 0}function no(t,e){const i=Pa(null!==e&&void 0!==e?e:",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t))return 0;const[e,n]=t.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==e&&"-1"!==e?1:0)+io(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...t.map((t=>{if(!Number.isFinite(t)||0===t)return 0;const e=Math.floor(Math.log10(Math.abs(t))),n=i.type?6:12,a=io(t.toExponential(n-1).split(/\.|e/g)[1]);return Math.max(0,a-e)})))));const n=Ba(i);return t=>n(Number(t))}function ao(t,e,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**Ue(i),a=Math.min(t,e),o=Math.max(t,e),r=[];for(let s=0;;s+=1){const t=Math.round((a+i*s)*n)/n;if(!(t<=o))break;r.push(t)}return r}function oo(t,e){return t>=e&&(St.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var ro=class t extends cn{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=bt,this.basePow=bt,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,St.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=t.getBaseLogMethod(this.base),this.basePow=t.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,i=t>e?Math.ceil:Math.floor,n=t>e?Math.floor:Math.ceil,a=this.pow(i(this.log(t))),o=this.pow(n(this.log(e)));this.niceDomain=[a,o]}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const i=this.base,[n,a]=this.getDomain(),o=Math.min(n,a),r=Math.max(n,a);let s=this.log(o),l=this.log(r);if(this.interval){const t=t=>t>=o&&t<=r,e=ao(s,l,Math.min(Math.abs(this.interval),Math.abs(l-s))).map(this.pow).filter(t);if(!oo(e.length,this.getPixelRange()))return e}if(!(i%1===0)||l-s>=e)return $a(s,l,Math.min(l-s,e)).map(this.pow);const c=[],u=o>0;s=Math.floor(s)-1,l=Math.round(l)+1;const d=ze(this.range)/e;let h=1/0;for(let p=s;p<=l;p++){const t=this.convert(this.pow(p+1));for(let e=1;e<i;e++){const n=u?e:i-e+1,a=this.pow(p)*n,s=this.convert(a),l=Math.abs(h-s),g=Math.abs(s-t);a>=o&&a<=r&&(1===e||l>=d&&g>=d||0===c.length)&&(c.push(a),h=s)}}return c}tickFormat(t){var e;let{count:i,ticks:n,specifier:a}=t;return i!==1/0&&null==n&&this.ticks(),null!==(e=a)&&void 0!==e||(a=10===this.base?".0e":","),Si(a)?Ba(a):a}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return e=>Math.log(e)/Math.log(t)}}static getBasePowerMethod(t){switch(t){case 10:return t=>t>=0?10**t:1/10**-t;case Math.E:return Math.exp;default:return e=>t**e}}};gt([sn],ro.prototype,"base",2);var so=ro,lo=class t extends cn{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return super.convert(new Date(t),e)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:e,nice:i,tickCount:n,minTickCount:a,maxTickCount:o}=this,[r,s]=Oe(this.getDomain().map(Nn));var l;return null!=e?null!==(l=t.getTicksForInterval({start:r,stop:s,interval:e,availableRange:this.getPixelRange()}))&&void 0!==l?l:t.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:a,maxTickCount:o}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):t.getDefaultTicks({start:r,stop:s,tickCount:n,minTickCount:a,maxTickCount:o})}static getDefaultTicks(t){let{start:e,stop:i,tickCount:n,minTickCount:a,maxTickCount:o}=t;const r=to(e,i,n,a,o);return r?r.range(new Date(e),new Date(i)):[]}static getTicksForInterval(t){let{start:e,stop:i,interval:n,availableRange:a}=t;if(!n)return[];if(n instanceof It){const t=n.range(new Date(e),new Date(i));if(oo(t.length,a))return;return t}const o=Math.abs(n);if(oo((i-e)/o,a))return;const r=Xa.findLast((t=>o%t.duration===0));if(r){return r.timeInterval.every(o/(r.duration/r.step)).range(new Date(e),new Date(i))}let s=new Date(e);const l=new Date(i),c=[];for(;s<=l;)c.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+o);return c}tickFormat(t){let{ticks:e,domain:i,specifier:n,formatOffset:a}=t;return null==n?Ln(e,i,a):wn(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,e);const[i,n]=this.niceDomain;if(Nn(t)===Nn(i)&&Nn(e)===Nn(n))break;t=i,e=n}}updateNiceDomainIteration(t,e){const i=Math.min(Nn(t),Nn(e)),n=Math.max(Nn(t),Nn(e)),a=t>e,{interval:o}=this;let r;if(o instanceof It)r=o;else{r=to(i,n,"number"===typeof o?(n-i)/Math.max(o,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(r){const t=r.range(new Date(i),new Date(n),!0),e=a?[...t].reverse():t,o=e[0],s=e.at(-1);this.niceDomain=[o,s]}}};function co(t,e){return t-e}var uo=class t extends Cn{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=cn.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(e){return e instanceof t}setVisibleRange(t){this.visibleRange=t}set domain(t){this.invalid=!0,0!==t.length?(this._domain=t,this.timestamps=gn(t.map(Nn)),this.sortedTimestamps=this.timestamps.slice().sort(co)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[t,e]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(t,e),n=Math.max(t,e),a=t>e;let o;if(null==this.interval)o=this.getDefaultTicks(this.maxTickCount,a);else{var r;const[t,e]=this.range,a=Math.abs(e-t);o=null!==(r=lo.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:a}))&&void 0!==r?r:[]}const s=new Set;return o.filter((t=>{const e=this.convert(t);return!isNaN(e)&&!s.has(e)&&(s.add(e),!0)}))}getDefaultTicks(t,e){const i=[],n=this.timestamps.length,a=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/t),o=Math.floor(a/2);for(const[r,s]of this.timestamps.entries())a>0&&(r+o)%a||(e?i.push(new Date(this.timestamps[n-r-1])):i.push(new Date(s)));return i}convert(t){var e;this.refresh();const i=Number(t);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),null!==(e=this.ordinalRange[n])&&void 0!==e?e:NaN}findInterval(t){const{sortedTimestamps:e}=this;let i=0,n=e.length-1;for(;i<=n;){const a=Math.floor((i+n)/2);if(e[a]===t)return a;e[a]<t?i=a+1:n=a-1}return i}tickFormat(t){let{ticks:e,domain:i,specifier:n}=t;return null==n?Ln(e,i):wn(n)}invert(t){this.refresh();const e=this.ordinalRange.findIndex((e=>t<=e));return this.domain[e]}invertNearest(t){return new Date(super.invertNearest(t))}};gt([sn],uo.prototype,"tickCount",2),gt([sn],uo.prototype,"minTickCount",2),gt([sn],uo.prototype,"maxTickCount",2),gt([sn],uo.prototype,"interval",2);var ho=uo;function po(t,e){return"number"===typeof t&&"number"===typeof e?t-e:"string"===typeof t&&"string"===typeof e?t.localeCompare(e):null==t&&null==e?0:null==t?-1:null==e?1:String(t).localeCompare(String(e))}function go(t){return"function"===typeof t?t():t}function fo(t,e,i){for(const n in t){const a=i(go(t[n]),go(e[n]));if(0!==a)return a}return 0}function yo(t){let e=1,i=t.visible?1:0,n=t.dirty>0?1:0;for(const a of t.children(!1)){const t=yo(a);e+=t.count,n+=t.dirtyCount,i+=t.visibleCount}return{count:e,visibleCount:i,dirtyCount:n}}var mo=Object.freeze([1,0,0,1,0,0]);function vo(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8;return t===e||Math.abs(e-t)<i}var xo=class t{get e(){return[...this.elements]}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[...mo];this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return vo(t[0],1)&&vo(t[1],0)&&vo(t[2],0)&&vo(t[3],1)&&vo(t[4],0)&&vo(t[5],0)}AxB(t,e,i){var n;const a=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],c=t[1]*e[4]+t[3]*e[5]+t[5];(i=null!==(n=i)&&void 0!==n?n:t)[0]=a,i[1]=o,i[2]=r,i[3]=s,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(e){const i=new Array(6);return e instanceof t?this.AxB(this.elements,e.elements,i):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],i),new t(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],a=e[2],o=e[3];const r=e[4],s=e[5],l=1/(i*o-n*a);return i*=l,n*=l,a*=l,o*=l,new t([o,-n,-a,i,a*s-o*r,n*r-i*s])}inverseTo(t){const e=this.elements;let i=e[0],n=e[1],a=e[2],o=e[3];const r=e[4],s=e[5],l=1/(i*o-n*a);return i*=l,n*=l,a*=l,o*=l,t.setElements([o,-n,-a,i,a*s-o*r,n*r-i*s]),this}invertSelf(){const t=this.elements;let e=t[0],i=t[1],n=t[2],a=t[3];const o=t[4],r=t[5],s=1/(e*a-i*n);return e*=s,i*=s,n*=s,a*=s,t[0]=a,t[1]=-i,t[2]=-n,t[3]=e,t[4]=n*r-a*o,t[5]=i*o-e*r,this}transformPoint(t,e){const i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}}transformBBox(t,e){var i;const n=this.elements,a=n[0],o=n[1],r=n[2],s=n[3],l=.5*t.width,c=.5*t.height,u=t.x+l,d=t.y+c,h=Math.abs(l*a)+Math.abs(c*r),p=Math.abs(l*o)+Math.abs(c*s);return null!==(i=e)&&void 0!==i||(e=new We(0,0,0,0)),e.x=u*a+d*r+n[4]-h,e.y=u*o+d*s+n[5]-p,e.width=h+h,e.height=p+p,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(e){return t.instance.setElements(e.elements)}static updateTransformMatrix(t,e,i,n,a,o,r){const s=e,l=i;let c,u;var d,h;1===s&&1===l?(c=0,u=0):(c=null!==(d=null===r||void 0===r?void 0:r.scalingCenterX)&&void 0!==d?d:0,u=null!==(h=null===r||void 0===r?void 0:r.scalingCenterY)&&void 0!==h?h:0);const p=n,g=Math.cos(p),f=Math.sin(p);let y,m;var v,x;0===p?(y=0,m=0):(y=null!==(v=null===r||void 0===r?void 0:r.rotationCenterX)&&void 0!==v?v:0,m=null!==(x=null===r||void 0===r?void 0:r.rotationCenterY)&&void 0!==x?x:0);const b=a,M=o,S=c*(1-s)-y,I=u*(1-l)-m;return t.setElements([g*s,f*s,-f*l,g*l,g*S-f*I+y+b,f*S+g*I+m+M]),t}static fromContext(e){const i=e.getTransform();return new t([i.a,i.b,i.c,i.d,i.e,i.f])}};xo.instance=new xo;var bo=xo;function Mo(t){return Io(t.constructor)}var So=Symbol("isMatrixTransform");function Io(t){return!0===t[So]}function Do(t){var e;const i=t;if(Io(t))return t;const n=Symbol("matrix_combined_transform");class a extends i{constructor(){super(...arguments),this[e]=new bo,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(t){}computeTransformMatrix(){this._dirtyTransform&&(this[n].setElements(mo),this.updateMatrix(this[n]),this._dirtyTransform=!1)}toParent(t){return this.computeTransformMatrix(),this[n].identity?t.clone():this[n].transformBBox(t)}toParentPoint(t,e){return this.computeTransformMatrix(),this[n].identity?{x:t,y:e}:this[n].transformPoint(t,e)}fromParent(t){return this.computeTransformMatrix(),this[n].identity?t.clone():this[n].inverse().transformBBox(t)}fromParentPoint(t,e){return this.computeTransformMatrix(),this[n].identity?{x:t,y:e}:this[n].inverse().transformPoint(t,e)}computeBBox(){const t=super.computeBBox();return t?this.toParent(t):t}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||({x:t,y:e}=this.fromParentPoint(t,e)),super.pickNode(t,e)}render(t){this._dirtyTransform&&(this.computeTransformMatrix(),t.forceRender||(t=O(O({},t),{},{forceRender:"dirtyTransform"})));const e=this[n];let i=!1;e.identity||(t.ctx.save(),i=!0,e.toContext(t.ctx)),super.render(t),i&&t.ctx.restore()}toSVG(){const t=super.toSVG(),e=this[n];if(e.identity||null==t)return t;const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.append(...t.elements);const[a,o,r,s,l,c]=e.e;return i.setAttribute("transform","matrix(".concat(a," ").concat(o," ").concat(r," ").concat(s," ").concat(l," ").concat(c,")")),{elements:[i],defs:t.defs}}}return e=n,a[So]=!0,a}function wo(t){var e;const i=t,n=Symbol("matrix_rotation");class a extends(Do(i)){constructor(){super(...arguments),this[e]=new bo,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(t){super.updateMatrix(t);const{rotation:e,rotationCenterX:i,rotationCenterY:a}=this;0!==e&&(bo.updateTransformMatrix(this[n],1,1,e,0,0,{rotationCenterX:i,rotationCenterY:a}),t.multiplySelf(this[n]))}}return e=n,gt([He({type:"transform"})],a.prototype,"rotationCenterX",2),gt([He({type:"transform"})],a.prototype,"rotationCenterY",2),gt([He({type:"transform"})],a.prototype,"rotation",2),a}function No(t){var e;const i=t,n=Symbol("matrix_scale");class a extends(Do(i)){constructor(){super(...arguments),this[e]=new bo,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(t){super.updateMatrix(t);const{scalingX:e,scalingY:i,scalingCenterX:a,scalingCenterY:o}=this;1===e&&1===i||(bo.updateTransformMatrix(this[n],e,i,0,0,0,{scalingCenterX:a,scalingCenterY:o}),t.multiplySelf(this[n]))}}return e=n,gt([He({type:"transform"})],a.prototype,"scalingX",2),gt([He({type:"transform"})],a.prototype,"scalingY",2),gt([He({type:"transform"})],a.prototype,"scalingCenterX",2),gt([He({type:"transform"})],a.prototype,"scalingCenterY",2),a}function Lo(t){var e;const i=t,n=Symbol("matrix_translation");class a extends(Do(i)){constructor(){super(...arguments),this[e]=new bo,this.translationX=0,this.translationY=0}updateMatrix(t){super.updateMatrix(t);const{translationX:e,translationY:i}=this;0===e&&0===i||(bo.updateTransformMatrix(this[n],1,1,0,e,i),t.multiplySelf(this[n]))}}return e=n,gt([He({type:"transform"})],a.prototype,"translationX",2),gt([He({type:"transform"})],a.prototype,"translationY",2),a}var ko=class{static fromCanvas(t,e){const i=[];for(const n of t.traverseUp())Mo(n)&&i.unshift(n);for(const n of i)e=n.fromParent(e);return Mo(t)&&(e=t.fromParent(e)),e}static toCanvas(t,e){null==e?e=t.getBBox():Mo(t)&&(e=t.toParent(e));for(const i of t.traverseUp())Mo(i)&&(e=i.toParent(e));return e}static fromCanvasPoint(t,e,i){const n=[];for(const a of t.traverseUp())Mo(a)&&n.unshift(a);for(const a of n)({x:e,y:i}=a.fromParentPoint(e,i));return Mo(t)&&({x:e,y:i}=t.fromParentPoint(e,i)),{x:e,y:i}}static toCanvasPoint(t,e,i){Mo(t)&&({x:e,y:i}=t.toParentPoint(e,i));for(const n of t.traverseUp())Mo(n)&&({x:e,y:i}=n.toParentPoint(e,i));return{x:e,y:i}}},Ao=class t extends Je{constructor(t){super(t),this.opts=t,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=null===t||void 0===t?void 0:t.zIndexSubOrder}static is(e){return e instanceof t}static computeChildrenBBox(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return We.merge(Je.extractBBoxes(t,e))}static compareChildren(t,e){var i,n;return fo([t.zIndex,...null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],t.serialNumber],[e.zIndex,...null!==(n=e.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],e.serialNumber],po)}containsPoint(t,e){return!0}computeBBox(){return t.computeChildrenBBox(this.children())}preRender(){const t=super.preRender();return t.groups+=1,t.nonGroups-=1,t}isDirty(t){var e;const{resized:i}=t,{dirty:n,dirtyZIndex:a}=this,o=n>=2||a||i;let r=o,s=!1;for(const c of this.children())if(r||(r=null==c.layerManager&&c.dirty>=1),s||(s=null!=c.layerManager&&c.dirty>=1),r)break;var l;null!==(e=this.opts)&&void 0!==e&&e.name&&(null===(l=this._debug)||void 0===l||l.call(this,{name:this.opts.name,group:this,isDirty:o,isChildDirty:r,renderCtx:t}));return{isDirty:o,isChildDirty:r,isChildLayerDirty:s}}debugSkip(t){var e,i;t.stats&&null!==(e=this.opts)&&void 0!==e&&e.name&&(null===(i=this._debug)||void 0===i||i.call(this,{name:this.opts.name,group:this,result:"skipping",counts:yo(this),renderCtx:t}))}render(e,i){var n;if(i)return super.render(e);const{opts:{name:a}={},_debug:o}=this,{isDirty:r,isChildDirty:s,isChildLayerDirty:l}=this.isDirty(e),{ctx:c,stats:u}=e;let{forceRender:d}=e;if(!r&&!s&&!l&&!d)return this.debugSkip(e),void this.markClean({recursive:!1});"dirtyTransform"!==d&&(d||(d=this.dirtyZIndex)),c.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(t.compareChildren);const h=this.sortedChildren(),p=null!==(n=this.renderClip(e))&&void 0!==n?n:e.clipBBox,g=d!==e.forceRender||p!==e.clipBBox;this.renderChildren(h,g?O(O({},e),{},{forceRender:d,clipBBox:p}):e),super.render(e),this.clipRect&&c.restore();for(const t of this.virtualChildren())t.markClean({recursive:"virtual"});a&&u&&(null===o||void 0===o||o({name:a,renderCtx:e,result:"rendered",skipped:u.nodesSkipped,counts:yo(this),group:this}))}sortedChildren(){let e=this.children();return this.hasVirtualChildren()&&(e=[...e].sort(t.compareChildren)),e}renderClip(t){var e;if(!this.clipRect)return;const{x:i,y:n,width:a,height:o}=this.clipRect,{ctx:r}=t;return r.save(),r.beginPath(),r.rect(i,n,a,o),r.clip(),null===(e=this._debug)||void 0===e||e.call(this,(()=>{var e;return{name:null===(e=this.opts)||void 0===e?void 0:e.name,clipRect:this.clipRect,ctxTransform:r.getTransform(),renderCtx:t,group:this}})),ko.toCanvas(this,this.clipRect)}renderChildren(t,e){const{ctx:i,forceRender:n,stats:a}=e;for(const o of t)o.visible&&this.visible?n||0!==o.dirty?(i.save(),o.render(e),i.restore()):a&&(a.nodesSkipped+=yo(o).count):(o.markClean(),a&&(a.nodesSkipped+=yo(o).count))}setClipRect(t){this.clipRect=t?ko.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}toSVG(){if(!this.visible)return;const t=[],e=[];for(const i of this.sortedChildren()){const n=i.toSVG();null!=n&&(e.push(...n.elements),null!=n.defs&&t.push(...n.defs))}return{elements:e,defs:t}}};Ao.className="Group",gt([He({redraw:3,convertor:t=>Ee(0,t,1)})],Ao.prototype,"opacity",2);var Co=Ao,To=class extends(No(Co)){},Eo=class extends(wo(Co)){},Ro=class extends(Lo(Co)){},Oo=class extends(wo(Lo(Co))){},zo=Date.now(),jo={create(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Object.assign((function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];jo.check(...e)&&("function"===typeof i[0]&&(i=pn(i[0]())),(()=>{const t=Date.now()-zo;if(t>2e3){const e=(Math.floor(t/100)/10).toFixed(1);St.log("**** ".concat(e,"s since last log message ****"))}zo=Date.now()})(),St.log(...i))}),{check:()=>jo.check(...e)})},check(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];0===e.length&&e.push(!0);return pn(Se("agChartsDebug")).some((t=>e.includes(t)))}},Po=class t{constructor(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=jo.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Je,e)?()=>new e:e}static select(e,i){return new t(e,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(t,e){const i=[],n=t=>{e(t)&&i.push(t);for(const e of t.children())n(e)};return n(t),i}static selectByClass(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return t.selectAll(e,(t=>n.some((e=>t instanceof e))))}static selectByTag(e,i){return t.selectAll(e,(t=>t.tag===i))}createNode(t,e,i){const n=this.nodeFactory(t);return n.datum=t,null===e||void 0===e||e(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(t,e,i){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage: ".concat(t)),i){const n=new Map(t.map(((t,e)=>[i(t),[t,e]])));for(const[t,e]of this._nodesMap.entries())if(n.has(e)){const[i]=n.get(e);t.datum=i,this.garbageBin.delete(t),n.delete(e)}else this.garbageBin.add(t);for(const[t,[i,a]]of n.entries())this._nodesMap.set(this.createNode(i,e,a),t)}else{const i=Math.max(t.length,this.data.length);for(let n=0;n<i;n++)n>=t.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(t[n],e):(this._nodes[n].datum=t[n],this.garbageBin.delete(this._nodes[n]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(const e of this._nodes.entries())t(e[1],e[1].datum,e[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t];yield{node:e,datum:e.datum,index:t}}}select(e){return t.selectAll(this.parentNode,e)}selectByClass(e){return t.selectByClass(this.parentNode,e)}selectByTag(e){return t.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}},Bo=2*Math.PI;function Fo(t){return t%=Bo,t+=Bo,t%=Bo}function Go(t){return t%=Bo,(t+=Bo)!==Bo&&(t%=Bo),t}function Uo(t){return(t%=Bo)<-Math.PI?t+=Bo:t>=Math.PI&&(t-=Bo),t}function _o(t,e,i){const n=Fo(t),a=Fo(e),o=Fo(i);return a<o?a<=n&&n<=o:!(a>o)||(a<=n||n<=o)}function Yo(t){return t/180*Math.PI}function Vo(t){return t/Math.PI*180}function Wo(t,e,i){i&&([t,e]=[e,t]);const n=Fo(t);return(Fo(e)+Bo-n)%Bo}function Zo(t,e){return t=Fo(t),(e=Fo(e))-t+(t>e?2*Math.PI:0)}function Ho(t,e,i,n){return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}function Ko(t,e){return Zo(t,e)<1e-6?e:Fo(t-e)+e}function Qo(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e-t)>=2*Math.PI?2*Math.PI:Fo(e-t);return{startAngle:t=Ko(t,i),endAngle:e=t+n}}function Xo(t,e,i,n){const a=t-i,o=e-n;return a*a+o*o}function Jo(t,e,i,n,a,o,r){if(i===a&&n===o)return Math.min(r,Xo(t,e,i,n));const s=a-i,l=o-n,c=Math.max(0,Math.min(1,((t-i)*s+(e-n)*l)/(s*s+l*l))),u=i+c*s,d=n+c*l;return Math.min(r,Xo(t,e,u,d))}function qo(t,e,i,n,a,o,r,s,l){s&&([r,o]=[o,r]);if(!_o(Math.atan2(e-n,t-i),o,r)){const r=i+Math.cos(o)*a,s=n+Math.sin(o)*a,c=i+Math.cos(o)*a,u=n+Math.sin(o)*a;return Math.min(l,Xo(t,e,r,s),Xo(t,e,c,u))}const c=a-Math.sqrt(Xo(t,e,i,n));return Math.min(l,c*c)}var $o=t=>{const e=ii.fromString(t),[i,n,a]=ii.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:a,a:e.a}},tr=1e-6,er=t=>t.c<tr||t.l<tr||t.l>.999999,ir=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map($o)}update(){const{domain:t,range:e}=this;t.length<2&&(St.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(let i=1;i<t.length;i++){if(t[i-1]>=t[i]){St.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort(((t,e)=>t-e));break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map($o)}convert(t){this.refresh();const{domain:e,range:i,parsedRange:n}=this,a=e[0],o=e.at(-1),r=i[0],s=i[i.length-1];if(t<=a)return r;if(t>=o)return s;let l,c;if(2===e.length){const e=(t-a)/(o-a),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(e*(i.length-1)),i.length-2),c=(e-l*n)/n}else{for(l=0;l<e.length-2&&!(t<e[l+1]);l++);const i=e[l];c=(t-i)/(e[l+1]-i)}return((t,e,i)=>{let n;if(i=Ee(0,i,1),er(t))n=e.h;else if(er(e))n=t.h;else{const a=t.h;let o=e.h;const r=e.h-t.h;r>180?o-=360:r<-180&&(o+=360),n=a*(1-i)+o*i}const a=t.c*(1-i)+e.c*i,o=t.l*(1-i)+e.l*i,r=t.a*(1-i)+e.a*i;return ii.fromOKLCH(o,a,n,r)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&St.warnOnce("Expected update to not invalidate scale"))}};gt([sn],ir.prototype,"domain",2),gt([sn],ir.prototype,"range",2);var nr=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;this.colorSpace=t,this.stops=e,this.bbox=i,this._cache=void 0}createGradient(t,e){var i;const n=null!==(i=this.bbox)&&void 0!==i?i:e;if(null!=this._cache&&this._cache.ctx===t&&this._cache.bbox.equals(n))return this._cache.gradient;const{stops:a,colorSpace:o}=this;if(0===a.length)return;if(1===a.length)return a[0].color;let r=this.createCanvasGradient(t,n);if(null==r)return;const s="oklch"===o;let l=a[0];r.addColorStop(l.offset,l.color);for(let c=1;c<a.length;c+=1){const t=a[c];if(s){const e=new ir;e.domain=[l.offset,t.offset],e.range=[l.color,t.color];for(let i=l.offset+.05;i<t.offset;i+=.05)r.addColorStop(i,e.convert(i))}r.addColorStop(t.offset,t.color),l=t}return"createPattern"in r&&(r=r.createPattern()),this._cache={ctx:t,bbox:n,gradient:r},r}},ar=class extends nr{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t,e,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(t,e){const{angle:i}=this,n=Fo(Yo(i+90)),a=Math.cos(n),o=Math.sin(n),r=e.width,s=e.height,l=e.x+.5*r,c=e.y+.5*s,u=Math.sqrt(s*s+r*r)/2,d=Math.atan2(s,r);let h;h=n<Math.PI/2?n:n<Math.PI?Math.PI-n:n<1.5*Math.PI?n-Math.PI:2*Math.PI-n;const p=u*Math.abs(Math.cos(h-d));return t.createLinearGradient(l+a*p,c+o*p,l-a*p,c-o*p)}},or=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,rr=class t extends Je{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=t.defaultStyles.fill,this.stroke=t.defaultStyles.stroke,this.strokeWidth=t.defaultStyles.strokeWidth,this.lineDash=t.defaultStyles.lineDash,this.lineDashOffset=t.defaultStyles.lineDashOffset,this.lineCap=t.defaultStyles.lineCap,this.lineJoin=t.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=t.defaultStyles.opacity,this.fillShadow=t.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){const{fill:t}=this;let e;if(t instanceof nr)this.gradient=t;else if(null!==t&&void 0!==t&&t.startsWith("linear-gradient")&&(e=or.exec(t))){const t=parseFloat(e[1]),i=[],n=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let o;for(;o=a.exec(n);)i.push(o[0]);this.gradient=new ar("rgb",i.map(((t,e)=>({color:t,offset:e/(i.length-1)}))),t)}else this.gradient=void 0}align(t,e){var i,n;const a=null!==(i=null===(n=this.layerManager)||void 0===n||null===(n=n.canvas)||void 0===n?void 0:n.pixelRatio)&&void 0!==i?i:1,o=Math.round(t*a)/a;return null==e?o:0===e?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-o}fillStroke(t,e){this.renderFill(t,e),this.renderStroke(t,e)}renderFill(t,e){if(this.fill){const{globalAlpha:i}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,e),t.globalAlpha=i}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,e){e?t.fill(e):t.fill()}applyFill(t){var e,i,n;t.fillStyle=null!==(e=null!==(i=null===(n=this.gradient)||void 0===n?void 0:n.createGradient(t,this.getBBox()))&&void 0!==i?i:"string"===typeof this.fill?this.fill:void 0)&&void 0!==e?e:"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){var e,i;const n=null!==(e=null===(i=this.layerManager)||void 0===i?void 0:i.canvas.pixelRatio)&&void 0!==e?e:1,a=this.fillShadow;null!==a&&void 0!==a&&a.enabled&&(t.shadowColor=a.color,t.shadowOffsetX=a.xOffset*n,t.shadowOffsetY=a.yOffset*n,t.shadowBlur=a.blur*n)}renderStroke(t,e){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),null!=this.miterLimit&&(t.miterLimit=this.miterLimit),this.executeStroke(t,e),t.globalAlpha=i}}executeStroke(t,e){e?t.stroke(e):t.stroke()}containsPoint(t,e){return this.isPointInPath(t,e)}};rr.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},gt([He({redraw:2})],rr.prototype,"fillOpacity",2),gt([He({redraw:2})],rr.prototype,"strokeOpacity",2),gt([He({redraw:2,changeCb:t=>t.onFillChange()})],rr.prototype,"fill",2),gt([He({redraw:2})],rr.prototype,"stroke",2),gt([He({redraw:2})],rr.prototype,"strokeWidth",2),gt([He({redraw:2})],rr.prototype,"lineDash",2),gt([He({redraw:2})],rr.prototype,"lineDashOffset",2),gt([He({redraw:2})],rr.prototype,"lineCap",2),gt([He({redraw:2})],rr.prototype,"lineJoin",2),gt([He({redraw:2})],rr.prototype,"miterLimit",2),gt([He({redraw:2,convertor:t=>Ee(0,t,1)})],rr.prototype,"opacity",2),gt([He({redraw:2,checkDirtyOnAssignment:!0})],rr.prototype,"fillShadow",2);var sr=rr,lr=class extends sr{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new We(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){return(this.x1===this.x2||this.y1===this.y2)&&this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(t,e)}distanceSquared(t,e){const{x1:i,y1:n,x2:a,y2:o}=this;return Jo(t,e,i,n,a,o,1/0)}render(t){var e;const{ctx:i,forceRender:n,stats:a,devicePixelRatio:o}=t;if(0===this.dirty&&!n)return void(a&&(a.nodesSkipped+=yo(this).count));let{x1:r,y1:s,x2:l,y2:c}=this;if(r===l){const{strokeWidth:t}=this,e=Math.round(r*o)/o+Math.trunc(t*o)%2/(2*o);r=e,l=e}else if(s===c){const{strokeWidth:t}=this,e=Math.round(s*o)/o+Math.trunc(t*o)%2/(2*o);s=e,c=e}i.beginPath(),i.moveTo(r,s),i.lineTo(l,c),this.fillStroke(i),null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}toSVG(){var t;if(!this.visible)return;const e=document.createElementNS("http://www.w3.org/2000/svg","line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),e.setAttribute("stroke",null!==(t=this.stroke)&&void 0!==t?t:"none"),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[e]}}};lr.className="Line",lr.defaultStyles=O(O({},sr.defaultStyles),{},{fill:void 0,strokeWidth:1}),gt([He({redraw:3})],lr.prototype,"x1",2),gt([He({redraw:3})],lr.prototype,"y1",2),gt([He({redraw:3})],lr.prototype,"x2",2),gt([He({redraw:3})],lr.prototype,"y2",2);var cr=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;const e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){const t=this.store.keys();let e=this.store.size-this.maxCacheSize;for(;e>0;){const i=t.next();i.done||this.store.delete(i.value),e--}}return e}clear(){this.store.clear()}},ur=class{static measureText(t,e){return this.getMeasurer(e).measureText(t)}static measureLines(t,e){return this.getMeasurer(e).measureLines(t)}static getMeasurer(t){var e,i,n;const a="string"===typeof t.font?t.font:hr.toFontString(t.font),o="".concat(a,"-").concat(null!==(e=t.textAlign)&&void 0!==e?e:"start","-").concat(null!==(i=t.textBaseline)&&void 0!==i?i:"alphabetic");return null!==(n=this.instanceMap.get(o))&&void 0!==n?n:this.createFontMeasurer(a,t,o)}static createFontMeasurer(t,e,i){var n,a;const o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Ie("canvas");return i.style.display="block",i.style.width=t+"px",i.style.height=e+"px",i.getContext("2d")}();o.font=t,o.textAlign=null!==(n=e.textAlign)&&void 0!==n?n:"start",o.textBaseline=null!==(a=e.textBaseline)&&void 0!==a?a:"alphabetic";const r=new dr(o,e);return this.instanceMap.set(i,r),r}};ur.instanceMap=new cr(10);var dr=class{constructor(t,e){var i;this.ctx=t,this.measureMap=new cr(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font="string"===typeof e.font?e.font:hr.toFontString(e.font),this.textMeasurer=new pr((t=>this.cachedCtxMeasureText(t)),null!==(i=e.textBaseline)&&void 0!==i?i:"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){const e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},hr=class{static toFontString(t){let{fontSize:e=10,fontStyle:i,fontWeight:n,fontFamily:a,lineHeight:o}=t,r="";return i&&(r+="".concat(i," ")),n&&(r+="".concat(n," ")),r+="".concat(e,"px"),o&&(r+="/".concat(o,"px")),r+=" ".concat(a),r.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};hr.EllipsisChar="\u2026",hr.defaultLineHeight=1.15,hr.lineSplitter=/\r?\n/g;var pr=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabetic";this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){var e,i;const n=this.measureTextFn(t);return null!==(e=n.fontBoundingBoxAscent)&&void 0!==e||(n.fontBoundingBoxAscent=n.emHeightAscent),null!==(i=n.fontBoundingBoxDescent)&&void 0!==i||(n.fontBoundingBoxDescent=n.emHeightDescent),{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,lineHeight:n.fontBoundingBoxAscent+n.fontBoundingBoxDescent,offsetTop:n.actualBoundingBoxAscent,offsetLeft:n.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,a=0,o=0;const r=hr.getVerticalModifier(this.textBaseline),s=[];let l=0;const c=t.length;for(const h of t){var u,d;const t=this.measureTextFn(h);null!==(u=t.fontBoundingBoxAscent)&&void 0!==u||(t.fontBoundingBoxAscent=t.emHeightAscent),null!==(d=t.fontBoundingBoxDescent)&&void 0!==d||(t.fontBoundingBoxDescent=t.emHeightDescent),e<t.width&&(e=t.width),a<t.actualBoundingBoxLeft&&(a=t.actualBoundingBoxLeft),0===l?(i+=t.actualBoundingBoxAscent,n+=t.actualBoundingBoxAscent):o+=t.fontBoundingBoxAscent,l===c-1?i+=t.actualBoundingBoxDescent:o+=t.fontBoundingBoxDescent,s.push({text:h,width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}),l++}return i+=o,n+=o*r,{width:e,height:i,offsetTop:n,offsetLeft:a,lineMetrics:s}}textWidth(t,e){var i;if(e){let e=0;for(let i=0;i<t.length;i++)e+=this.textWidth(t.charAt(i));return e}return t.length>1?this.measureTextFn(t).width:null!==(i=this.charMap.get(t))&&void 0!==i?i:this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){const e="string"===typeof t?t.split(hr.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){const{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}},gr=class t extends sr{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=t.defaultStyles.textAlign,this.textBaseline=t.defaultStyles.textBaseline}onTextChange(){var t,e;this.lines=null!==(t=null===(e=this.text)||void 0===e?void 0:e.split("\n").map((t=>t.trim())))&&void 0!==t?t:[]}static computeBBox(t,e,i,n){const{offsetTop:a,offsetLeft:o,width:r,height:s}=ur.measureLines(t,n);return new We(e-o,i-a,r,s)}computeBBox(){const{x:e,y:i,lines:n,textBaseline:a,textAlign:o}=this;return t.computeBBox(n,e,i,{font:this,textBaseline:a,textAlign:o})}isPointInPath(t,e){const i=this.getBBox();return!!i&&i.containsPoint(t,e)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=yo(this).count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=yo(this).count));const{fill:a,stroke:o,strokeWidth:r}=this,{pixelRatio:s}=this.layerManager.canvas;if(e.font=hr.toFontString(this),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,a){this.applyFill(e),e.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:t}=this;null!==t&&void 0!==t&&t.enabled&&(e.shadowColor=t.color,e.shadowOffsetX=t.xOffset*s,e.shadowOffsetY=t.yOffset*s,e.shadowBlur=t.blur*s),this.renderLines(((t,i,n)=>e.fillText(t,i,n)))}if(o&&r){e.strokeStyle=o,e.lineWidth=r,e.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:t,lineDashOffset:i,lineCap:n,lineJoin:a}=this;t&&e.setLineDash(t),i&&(e.lineDashOffset=i),n&&(e.lineCap=n),a&&(e.lineJoin=a),this.renderLines(((t,i,n)=>e.strokeText(t,i,n)))}super.render(t)}renderLines(t){var e;const{lines:i,x:n,y:a}=this,o=null!==(e=this.lineHeight)&&void 0!==e?e:hr.getLineHeight(this.fontSize);let r=(o-o*i.length)*hr.getVerticalModifier(this.textBaseline);for(const s of i)t(s,n,a+r),r+=o}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}toSVG(){var t,e,i,n,a,o,r;if(!this.visible||!this.text)return;const s=document.createElementNS("http://www.w3.org/2000/svg","text");return s.setAttribute("font-family",null!==(t=null===(e=this.fontFamily)||void 0===e?void 0:e.split(",")[0])&&void 0!==t?t:""),s.setAttribute("font-size",String(this.fontSize)),s.setAttribute("font-style",null!==(i=this.fontStyle)&&void 0!==i?i:""),s.setAttribute("font-weight",String(null!==(n=this.fontWeight)&&void 0!==n?n:"")),s.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[null!==(a=this.textAlign)&&void 0!==a?a:"start"]),s.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[null!==(o=this.textBaseline)&&void 0!==o?o:"alphabetic"]),s.setAttribute("x",String(this.x)),s.setAttribute("y",String(this.y)),s.textContent=null!==(r=this.text)&&void 0!==r?r:"",{elements:[s]}}};gr.className="Text",gr.defaultStyles=O(O({},sr.defaultStyles),{},{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),gt([He({redraw:3})],gr.prototype,"x",2),gt([He({redraw:3})],gr.prototype,"y",2),gt([He({redraw:3,changeCb:t=>t.onTextChange()})],gr.prototype,"text",2),gt([He()],gr.prototype,"fontStyle",2),gt([He()],gr.prototype,"fontWeight",2),gt([He()],gr.prototype,"fontSize",2),gt([He()],gr.prototype,"fontFamily",2),gt([He({redraw:3})],gr.prototype,"textAlign",2),gt([He({redraw:3})],gr.prototype,"textBaseline",2),gt([He({redraw:3})],gr.prototype,"lineHeight",2);var fr=gr,yr=class extends(wo(fr)){},mr=class extends(wo(Lo(fr))){};function vr(t,e,i,n,a,o){if(0===t.size)return!1;let r=t.x,s=t.y;null!=e&&(r-=(e.x-.5)*t.size,s-=(e.y-.5)*t.size);let l=r;r<i?l=i:r>i+a&&(l=i+a);let c=s;s<n?c=n:s>n+o&&(c=n+o);const u=r-l,d=s-c;return Math.sqrt(u*u+d*d)<=.5*t.size}function xr(t,e,i,n,a){const o=t.x+t.width>e&&t.x<e+n,r=t.y+t.height>i&&t.y<i+a;return o&&r}var br={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Mr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[];for(let n=0;n<t.length;n++){const a=t[n],{point:{x:o,y:r},label:{text:s}}=a;let{width:l,height:c}=a.label;if(l+=e,c+=e,i.some((t=>xr(t,o,r,l,c))))return!0;i.push({index:n,text:s,x:o,y:r,width:l,height:c,datum:a})}return!1}function Sr(t,e){return t.length===e.length&&t.every(((t,i)=>Number(t)===Number(e[i])))}var Ir="class-instance";function Dr(t,e,i){if(pi(e)){if(!pi(t)||t.length!==e.length||e.some(((e,i)=>null!=Dr(t[i],e))))return e}else{if(Mi(e)){if(!Mi(t))return e;const n={},a=new Set([...Object.keys(t),...Object.keys(e)]);for(const o of a)if(!(t[o]===e[o]||null!==i&&void 0!==i&&i.includes(o)))if(typeof t[o]===typeof e[o]){const i=Dr(t[o],e[o]);null!==i&&(n[o]=i)}else n[o]=e[o];return Object.keys(n).length?n:null}if(t!==e)return e}return null}function wr(t,e){return pi(t)?t.map((t=>wr(t,e))):Mi(t)?Oi(t,((t,i)=>{var n;return null!==e&&void 0!==e&&null!==(n=e.shallow)&&void 0!==n&&n.includes(i)?Nr(t):wr(t,e)})):t instanceof Map?new Map(wr(Array.from(t))):Nr(t)}function Nr(t){return pi(t)?[...t]:Mi(t)?O({},t):fi(t)?new Date(t):mi(t)?new RegExp(t.source,t.flags):t}function Lr(t,e,i){for(var n=arguments.length,a=new Array(n>3?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];if(pi(t))e(t,...a),t.forEach(((t,n)=>{Lr(t,e,i,...Ar(a,n))}));else if(Mi(t)){e(t,...a);for(const n of Object.keys(t)){var r;if(null!==i&&void 0!==i&&null!==(r=i.skip)&&void 0!==r&&r.includes(n))continue;const o=t[n];(pi(o)||Mi(o))&&Lr(o,e,i,...Ar(a,n))}}}function kr(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,matcherPath:a=(null===n||void 0===n?void 0:n.replace(/(\[[0-9+]+])/i,"[]")),skip:o=[]}=i;if(null==t)throw new Error("AG Charts - target is uninitialised: ".concat(null!==n&&void 0!==n?n:"<root>"));if(null==e)return t;if(Rn(t))return t.set(e);const r=t,s=Cr(t);for(const c in e){if(Pi.has(c))continue;const u="".concat(a?a+".":"").concat(c);if(o.includes(u))continue;const d=e[c],h="".concat(n?n+".":"").concat(c),p=r.constructor,g=r[c];try{const e=Cr(g),n=Cr(d);if(s===Ir&&!(c in t)){St.warn("unable to set [".concat(h,"] in ").concat(null===p||void 0===p?void 0:p.name," - property is unknown"));continue}if(null!=e&&null!=n&&n!==e&&(e!==Ir||"object"!==n)){St.warn("unable to set [".concat(h,"] in ").concat(null===p||void 0===p?void 0:p.name," - can't apply type of [").concat(n,"], allowed types are: [").concat(e,"]"));continue}Rn(g)?r[c].set(d):"object"===n?(null==g&&(r[c]={}),kr(null!==g&&void 0!==g?g:r[c],d,O(O({},i),{},{path:h,matcherPath:u}))):r[c]=d}catch(l){St.warn("unable to set [".concat(h,"] in [").concat(null===p||void 0===p?void 0:p.name,"]; nested error is: ").concat(l.message))}}return t}function Ar(t,e){return t.map((t=>null===t||void 0===t?void 0:t[e]))}function Cr(t){return null==t?null:wi(t)||fi(t)?"primitive":pi(t)?"array":xi(t)?Mi(t)?"object":Ir:vi(t)?"function":"primitive"}function Tr(t,e){const i=pi(t)?t:t.split(".");if(1===i.length){const[t]=i;return li(((e,i,n)=>e[t]=n),(e=>e[t]),e)}return li(((t,e,n)=>Bi(t,i,n)),(t=>ji(t,i)),e)}function Er(t){return li(((e,i,n)=>e[t]=n))}function Rr(t,e){return li(((i,n,a)=>i[t][null!==e&&void 0!==e?e:n]=a))}function Or(t){const{newValue:e,oldValue:i,changeValue:n}=t;return li(((t,a,o,r)=>(o!==r&&(void 0!==r&&(null===i||void 0===i||i.call(t,r)),void 0!==o&&(null===e||void 0===e||e.call(t,o)),null===n||void 0===n||n.call(t,o,r)),o)))}function zr(t){return e=t,(t,i)=>{si(t,i).observers.push(e)};var e}var jr="color: green",Pr="color: grey",Br=class t{constructor(t,e,i){this.defaultState=t,this.states=e,this.enterEach=i,this.debug=jo.create(!0,"animation"),this.state=t,this.debug("%c".concat(this.constructor.name," | init -> ").concat(t),jr)}transition(e,i){var n;if(!this.transitionChild(e,i)||this.state===t.child||this.state===t.parent)return;const a=this.state,o=this.states[this.state];let r=o[e];const s="%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(e," ->");if(Array.isArray(r))r=r.find((t=>{if(!t.guard)return!0;const e=t.guard(i);return e||this.debug("".concat(s," ").concat(t.target," (guarded)"),Pr),e}));else if("object"===typeof r&&!(r instanceof t)&&r.guard&&!r.guard(i))return void this.debug("".concat(s," ").concat(r.target," (guarded)"),Pr);if(!r)return void this.debug("".concat(s," ").concat(this.state),Pr);const l=this.getDestinationState(r),c=l===this.state?void 0:o.onExit;if(this.debug("".concat(s," ").concat(l),jr),this.state=l,"function"===typeof r)r(i);else if("object"===typeof r&&!(r instanceof t)){var u,d;null===(u=(d=r).action)||void 0===u||u.call(d,i)}var h,p;(null===c||void 0===c||c(),null===(n=this.enterEach)||void 0===n||n.call(this,a,l),l!==a&&l!==t.child&&l!==t.parent)&&(null===(h=(p=this.states[l]).onEnter)||void 0===h||h.call(p,a,i))}transitionAsync(t,e){setTimeout((()=>{this.transition(t,e)}),0)}is(e){return this.state===t.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> [resetHierarchy] -> ").concat(this.defaultState),"color: green"),this.state=this.defaultState}transitionChild(e,i){var n,a;return this.state!==t.child||!this.childState||(this.childState.transition(e,i),!this.childState.is(t.parent)||(this.debug("%c".concat(this.constructor.name," | ").concat(this.state," -> ").concat(e," -> ").concat(this.defaultState),jr),this.state=this.defaultState,null===(n=(a=this.states[this.state]).onEnter)||void 0===n||n.call(a),this.childState.resetHierarchy(),!1))}getDestinationState(e){let i=this.state;return"string"===typeof e?i=e:e instanceof t?(this.childState=e,i=t.child):"object"===typeof e&&(e.target instanceof t?(this.childState=e.target,i=t.child):null!=e.target&&(i=e.target)),i}};Br.child="__child",Br.parent="__parent";var Fr=Br,Gr=class{static wrapText(t,e){return this.wrapLines(t,e).join("\n")}static wrapLines(t,e){const i=this.textWrap(t,e);return"hide"===e.overflow&&i.some((t=>t.endsWith(hr.EllipsisChar)))?[]:i}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+hr.EllipsisChar}static truncateLine(t,e,i,n){const a=e.textWidth(hr.EllipsisChar);let o=0,r=0;for(;r<t.length;r++){const n=e.textWidth(t.charAt(r));if(o+n>i)break;o+=n}if(t.length===r&&(!n||o+a<=i))return n?t+hr.EllipsisChar:t;for(t=t.slice(0,r).trimEnd();t.length&&e.textWidth(t)+a>i;)t=t.slice(0,-1).trimEnd();return t+hr.EllipsisChar}static textWrap(t,e){const i=t.split(hr.lineSplitter),n=ur.getMeasurer(e);if("never"===e.textWrap)return i.map((t=>this.truncateLine(t.trimEnd(),n,e.maxWidth)));const a=[],o="hyphenate"===e.textWrap,r=null==e.textWrap||"on-space"===e.textWrap;for(let s of i)if(s=s.trimEnd(),""!==s){for(let t=0,i=0,l=0;t<s.length;t++){const c=s.charAt(t);if(i+=n.textWidth(c)," "===c&&(l=t),i>e.maxWidth){if(0===t)break;const c=n.textWidth(s.slice(0,t+1));if(c<=e.maxWidth){i=c;continue}if(l){const o=this.getWordAt(s,l+1),c=n.textWidth(o);if(c<=e.maxWidth){a.push(s.slice(0,l).trimEnd()),s=s.slice(l).trimStart(),t=-1,i=0,l=0;continue}r&&c>e.maxWidth&&a.push(s.slice(0,l).trimEnd(),this.truncateLine(s.slice(l).trimStart(),n,e.maxWidth,!0))}else r&&a.push(this.truncateLine(s,n,e.maxWidth,!0));if(r){s="";break}const u=o?"-":"";let d=s.slice(0,t).trim();for(;d.length&&n.textWidth(d+u)>e.maxWidth;)d=d.slice(0,-1).trimEnd();if(a.push(d+u),!d.length){s="";break}s=s.slice(d.length).trimStart(),t=-1,i=0,l=0}}s&&a.push(s)}else a.push(s);return this.avoidOrphans(a,n,e),this.clipLines(a,n,e)}static getWordAt(t,e){const i=t.indexOf(" ",e);return-1===i?t.slice(e):t.slice(e,i)}static clipLines(t,e,i){if(!i.maxHeight)return t;const{height:n,lineMetrics:a}=e.measureLines(t);if(n<=i.maxHeight)return t;for(let o=0,r=0;o<a.length;o++){const{lineHeight:n}=a[o];if(r+=n,r>i.maxHeight){if("hide"===i.overflow)return[];const n=t.slice(0,o||1),a=n.pop();return n.concat(this.truncateLine(a,e,i.maxWidth,!0))}}return t}static avoidOrphans(t,e,i){if(!1===i.avoidOrphans||t.length<2)return;const{length:n}=t,a=t[n-1],o=t[n-2];if(o.length<a.length)return;const r=o.lastIndexOf(" ");if(-1===r||r===o.indexOf(" ")||a.includes(" "))return;const s=o.slice(r+1);e.textWidth(a+s)<=i.maxWidth&&(t[n-2]=o.slice(0,r),t[n-1]=s+" "+a)}},Ur={isEnterprise:!1};function _r(t,e,i){void 0===i||""===i?null===t||void 0===t||t.removeAttribute(e):null===t||void 0===t||t.setAttribute(e,i.toString())}function Yr(t,e){if(null==e)return;let i;for(i in e)"class"!==i&&_r(t,i,e[i])}function Vr(t,e,i){if(!(t instanceof HTMLElement))return;const n=t.getAttribute(e);if(null===n)return i;const a=typeof{}[e];return"boolean"===a?"true"===n:"number"===a?Number(n):"string"===a?n:void 0}function Wr(t,e,i){null!=t&&(null==i?t.style.removeProperty(e):t.style.setProperty(e,i))}function Zr(t,e,i,n){let{top:a,right:o,bottom:r,left:s,width:l,height:c}=n;return null!=s?null!=l?o=i.width-s+l:null!=o&&(l=i.width-s-o):null!=o&&null!=l&&(s=i.width-o-l),null!=a?null!=c?r=i.height-a-c:null!=r&&(c=i.height-r-a):null!=r&&null!=c&&(a=i.height-r-c),null==l?null==c?(l=t,c=e):l=Math.ceil(t*c/e):null==c&&(c=Math.ceil(e*l/t)),null==s&&(s=null==o?Math.floor((i.width-l)/2):i.width-o-l),null==a&&(a=null==r?Math.floor((i.height-c)/2):i.height-c-r),{x:s,y:a,width:l,height:c}}var Hr="ag-chart-tooltip",Kr="ag-chart-dark-tooltip",Qr={html:"",ariaLabel:""};function Xr(t){const e=(t,e,i)=>0===e||"."!==i[e-1]?". ":" ";return t.replace(/<br\s*\/?>/g,e).replace(/<\/p\s+>/g,e).replace(/<\/li\s*>/g,e).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function Jr(t,e){var i,n,a;if("string"===typeof t)return{html:t,ariaLabel:t};const{content:o=(null!==(i=null===e||void 0===e?void 0:e.content)&&void 0!==i?i:""),title:r=(null===e||void 0===e?void 0:e.title),color:s=(null!==(n=null===e||void 0===e?void 0:e.color)&&void 0!==n?n:"white"),backgroundColor:l=(null!==(a=null===e||void 0===e?void 0:e.backgroundColor)&&void 0!==a?a:"#888")}=t,c=r?'<div class="'.concat(Hr,'-title"\n        style="color: ').concat(s,"; background-color: ").concat(l,'">').concat(r,"</div>"):"",u=r?"".concat(r,": "):"",d=o?'<div class="'.concat(Hr,'-content">').concat(o,"</div>"):"";return{html:"".concat(c).concat(d),ariaLabel:Xr("".concat(u).concat(o))}}var qr=class extends Tn{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};gt([On(Na(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],qr.prototype,"type",2),gt([On(Yn)],qr.prototype,"xOffset",2),gt([On(Yn)],qr.prototype,"yOffset",2);var $r=class extends Tn{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new qr,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(t){this.element=t.addChild("canvas-overlay",Hr),this.element.classList.add(Hr)}destroy(t){t.removeChild("canvas-overlay",Hr)}isVisible(){var t;return!(null!==(t=this.element)&&void 0!==t&&t.classList.contains(Hr+"-hidden"))}show(t,e,i,n){var a,o,r,s,l,c,u,d;let h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{element:p}=this,g=null===p||void 0===p?void 0:p.getBoundingClientRect();if(null!=n&&null!=p)p.innerHTML=n.html;else if(null===p||void 0===p||!p.innerHTML)return void this.toggle(!1);const f=null!==(a=null===(o=i.position)||void 0===o?void 0:o.type)&&void 0!==a?a:this.position.type,y=null!==(r=null===(s=i.position)||void 0===s?void 0:s.xOffset)&&void 0!==r?r:0,m=null!==(l=null===(c=i.position)||void 0===c?void 0:c.yOffset)&&void 0!==l?l:0,v=this.getTooltipBounds({positionType:f,meta:i,yOffset:m,xOffset:y,canvasRect:e}),x={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height},b=Zr(p.clientWidth,p.clientHeight,x,v),M=x.x,S=x.y,I=x.width-p.clientWidth-1+M,D=x.height-p.clientHeight+S,w=Ee(M,b.x,I),N=Ee(S,b.y,D);let L=!1;if(null!=g){const t=x.width-g.width-1+M,e=x.height-g.height+S;L=t>I||e>D}const k=w!==b.x||N!==b.y,A=("node"===f||"pointer"===f||"sparkline"===f)&&!k&&!y&&!m,C=null!==(u=null!==(d=i.showArrow)&&void 0!==d?d:this.showArrow)&&void 0!==u?u:A;this.updateShowArrow(C),L&&(p.style.transition="none"),p.style.transform="translate(".concat(Math.round(w),"px, ").concat(Math.round(N),"px)"),L&&(p.style.transition=""),i.enableInteraction?(this.enableInteraction=!0,p.style.pointerEvents="auto",_r(p,"aria-hidden",void 0)):(this.enableInteraction=!1,p.style.pointerEvents="none",_r(p,"aria-hidden",!0)),this.delay>0&&!h?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}toggle(t){if(!this.element)return;const{classList:e}=this.element,i=(t,i)=>e.toggle("".concat(Hr,"-").concat(t),i),n=this.isVisible();let a=1/0;if(t||clearTimeout(this.showTimeout),n!==t){const t=Date.now();a=t-this.lastVisibilityChange,this.lastVisibilityChange=t}a>5&&i("no-animation",!n&&t&&a>100),i("no-interaction",!this.enableInteraction),i("hidden",!t),i("arrow",this._showArrow),e.toggle(Kr,this.darkTheme);for(const o of this.wrapTypes)e.toggle("".concat(Hr,"-wrap-").concat(o),o===this.wrapping)}updateShowArrow(t){this._showArrow=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,meta:i,yOffset:n,xOffset:a,canvasRect:o}=t,{clientWidth:r,clientHeight:s}=this.element,l={width:r,height:s};switch(e){case"node":case"pointer":return l.top=i.offsetY+n-s-8,l.left=i.offsetX+a-r/2,l;case"top":return l.top=n,l.left=o.width/2-r/2+a,l;case"right":return l.top=o.height/2-s/2+n,l.left=o.width-r/2+a,l;case"left":return l.top=o.height/2-s/2+n,l.left=a,l;case"bottom":return l.top=o.height-s+n,l.left=o.width/2-r/2+a,l;case"top-left":return l.top=n,l.left=a,l;case"top-right":return l.top=n,l.left=o.width-r+a,l;case"bottom-right":return l.top=o.height-s+n,l.left=o.width-r+a,l;case"bottom-left":return l.top=o.height-s+n,l.left=a,l;case"sparkline":return l.top=Ur.isEnterprise?n-s-8:i.offsetY+n-s-8,l.left=i.offsetX+a-r/2,l}}};gt([On(Gn)],$r.prototype,"enabled",2),gt([On(Gn,{optional:!0})],$r.prototype,"showArrow",2),gt([zr(((t,e,i)=>{var n,a;e&&(null===(n=t.element)||void 0===n||n.classList.add(e));i&&(null===(a=t.element)||void 0===a||a.classList.remove(i))})),On(_n,{optional:!0})],$r.prototype,"class",2),gt([On(Zn)],$r.prototype,"delay",2),gt([On(Da,{optional:!0})],$r.prototype,"range",2),gt([On(va)],$r.prototype,"wrapping",2),gt([On(Bn)],$r.prototype,"position",2),gt([On(Gn)],$r.prototype,"darkTheme",2),gt([On(Na(["extended","canvas"]))],$r.prototype,"bounds",2);var ts=class extends Tn{constructor(){super(...arguments),this.id=he(this),this.node=new yr({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(t,e){const{regionManager:i,proxyInteractionService:n,layoutManager:a}=t,o=i.getRegion("root");return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return()=>{for(const t of e)t()}}(...[a.addListener("layout:complete",(()=>this.updateA11yText(n,e))),o.addListener("hover",(e=>this.handleMouseMove(t,e))),o.addListener("leave",(e=>this.handleMouseLeave(t,e)))])}computeTextWrap(t,e){var i,n;const{text:a,padding:o,wrapping:r}=this,s=Math.min(null!==(i=this.maxWidth)&&void 0!==i?i:1/0,t)-2*o,l=null!==(n=this.maxHeight)&&void 0!==n?n:e-2*o;if(!isFinite(s)&&!isFinite(l))return void(this.node.text=a);const c=Gr.wrapText(null!==a&&void 0!==a?a:"",{maxWidth:s,maxHeight:l,font:this,textWrap:r});this.node.text=c,this.truncated=c.includes(hr.EllipsisChar)}updateA11yText(t,e){if(this.enabled&&this.text){const n=ko.toCanvas(this.node);if(n){var i;const{id:a}=this;null!==(i=this.proxyText)&&void 0!==i||(this.proxyText=t.createProxyElement({type:"text",id:a,parent:e})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(n)}}else{var n;null===(n=this.proxyText)||void 0===n||n.remove(),this.proxyText=void 0}}handleMouseMove(t,e){if(void 0!==e&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=e;t.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},Jr({content:this.text}))}}handleMouseLeave(t,e){t.tooltipManager.removeTooltip(this.id)}};ts.SMALL_PADDING=10,ts.LARGE_PADDING=20,gt([On(Gn),Rr("node","visible")],ts.prototype,"enabled",2),gt([On(_n,{optional:!0}),Rr("node")],ts.prototype,"text",2),gt([On(xa,{optional:!0}),Rr("node")],ts.prototype,"textAlign",2),gt([On(ya,{optional:!0}),Rr("node")],ts.prototype,"fontStyle",2),gt([On(ma,{optional:!0}),Rr("node")],ts.prototype,"fontWeight",2),gt([On(Zn),Rr("node")],ts.prototype,"fontSize",2),gt([On(_n),Rr("node")],ts.prototype,"fontFamily",2),gt([On(aa,{optional:!0}),Rr("node","fill")],ts.prototype,"color",2),gt([On(Zn,{optional:!0})],ts.prototype,"spacing",2),gt([On(Zn,{optional:!0})],ts.prototype,"maxWidth",2),gt([On(Zn,{optional:!0})],ts.prototype,"maxHeight",2),gt([On(va)],ts.prototype,"wrapping",2),gt([On(Zn)],ts.prototype,"padding",2),gt([On(_n)],ts.prototype,"layoutStyle",2);var es=class t extends Co{constructor(t){super(t),this.opts=t,this.lastBBox=void 0}static is(e){return e instanceof t}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super.markDirty(t,1)}preRender(){const t=super.preRender();var e,i,n;t.nonGroups>0&&(null!==(e=this.layer)&&void 0!==e||(this.layer=null===(i=this._layerManager)||void 0===i?void 0:i.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),null!==(n=this.opts)&&void 0!==n&&n.deriveZIndexFromChildren&&this.deriveZIndexFromChildren());return t}debugSkip(t){super.debugSkip(t);const{stats:e}=t;e&&(e.layersSkipped++,e.nodesSkipped+=yo(this).count)}render(t){var e,i;if(!this.layer)return super.render(t);const{opts:{name:n}={},_debug:a,clipRect:o}=this,{isDirty:r,isChildDirty:s,isChildLayerDirty:l}=this.isDirty(t),{stats:c}=t;let{forceRender:u,clipBBox:d}=t;const h=this.getBBox();if(null!==(e=this.lastBBox)&&void 0!==e&&e.equals(h)||(u="dirtyTransform",this.lastBBox=h),!r&&!s&&!l&&!u)return this.debugSkip(t),void this.markClean({recursive:!1});"dirtyTransform"!==u&&(u=s||this.dirtyZIndex),u&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(Co.compareChildren);const p=this.sortedChildren(),g=t.ctx.getTransform(),{context:f}=this.layer;if(f.save(),d){const{width:e,height:i,x:o,y:r}=d;f.beginPath(),f.rect(o,r,e,i),f.clip(),null===a||void 0===a||a((()=>({name:n,clipBBox:d,renderCtx:t,group:this,ctxTransform:f.getTransform()})))}f.setTransform(g),this.clipRect&&(d=this.renderClip(O(O({},t),{},{ctx:f}))),this.renderChildren(p,O(O({},t),{},{ctx:f,forceRender:u,clipBBox:d})),super.render(t,!0),o&&f.restore();for(const y of this.virtualChildren())y.markClean({recursive:"virtual"});c&&c.layersRendered++,f.restore(),null===(i=f.verifyDepthZero)||void 0===i||i.call(f),n&&c&&(null===a||void 0===a||a({name:n,renderCtx:t,result:"rendered",skipped:c.nodesSkipped,counts:yo(this),group:this}))}deriveZIndexFromChildren(){var t,e,i;let n;for(const a of this.children())a.childNodeCounts.nonGroups&&(!n||Co.compareChildren(n,a)<0)&&(n=a);this.zIndex=null!==(t=null===(e=n)||void 0===e?void 0:e.zIndex)&&void 0!==t?t:-1/0,this.zIndexSubOrder=null===(i=n)||void 0===i?void 0:i.zIndexSubOrder}_setLayerManager(t){var e;this.layer&&(null===(e=this._layerManager)||void 0===e||e.removeLayer(this.layer),this.layer=void 0);super._setLayerManager(t)}getComputedOpacity(){let t=1;for(const e of this.traverseUp(!0))e instanceof Co&&(t*=e.opacity);return t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){var t;(super.onZIndexChange(),this.layer)&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}};es.className="Layer";var is=es,ns=class extends(Lo(is)){},as=class extends sr{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new We(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;const{ctx:i,forceRender:n,stats:a}=t;if(0===this.dirty&&!n)return void(a&&(a.nodesSkipped+=yo(this).count));let{x1:o,y1:r,x2:s,y2:l}=this;o=this.align(o),r=this.align(r),s=this.align(s),l=this.align(l);const{fill:c,opacity:u,isRange:d}=this;if(!(!d||!c)){const{fillOpacity:t}=this;this.applyFill(i),i.globalAlpha=u*t,i.beginPath(),i.moveTo(o,r),i.lineTo(s,r),i.lineTo(s,l),i.lineTo(o,l),i.closePath(),i.fill()}const{stroke:h,strokeWidth:p,startLine:g,endLine:f}=this;if(!(!g&&!f||!h||!p)){const{strokeOpacity:t,lineDash:e,lineDashOffset:n,lineCap:a,lineJoin:c}=this;i.strokeStyle=h,i.globalAlpha=u*t,i.lineWidth=p,e&&i.setLineDash(e),n&&(i.lineDashOffset=n),a&&(i.lineCap=a),c&&(i.lineJoin=c),i.beginPath(),g&&(i.moveTo(o,r),i.lineTo(s,r)),f&&(i.moveTo(s,l),i.lineTo(o,l)),i.stroke()}null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}};as.className="Range",as.defaultStyles=O(O({},sr.defaultStyles),{},{strokeWidth:1}),gt([He({redraw:2})],as.prototype,"x1",2),gt([He({redraw:2})],as.prototype,"y1",2),gt([He({redraw:2})],as.prototype,"x2",2),gt([He({redraw:2})],as.prototype,"y2",2),gt([He({redraw:2})],as.prototype,"startLine",2),gt([He({redraw:2})],as.prototype,"endLine",2),gt([He({redraw:2})],as.prototype,"isRange",2);var os=class extends Tn{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return hr.toFontString(this)}};function rs(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?Fo(Yo(t.rotation)):0,a=!n&&e>=0&&e<=Math.PI?-1:1,o=!n&&i>=0&&i<=Math.PI?-1:1;let r=0;return t.parallel?r=a*Math.PI/2:-1===o&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:a,regularFlipFlag:o}}function ss(t,e){return isNaN(t)?e?0:10:t}function ls(t,e,i,n,a){const o=e>0&&e<=Math.PI,r=i>0&&i<=Math.PI;if(t){if(!e&&!i)return"center";if(n*(o||r?-1:1)===-1)return"end"}else if(n*a===-1)return"end";return"start"}function cs(t,e,i){const{x:n,y:a,width:o,height:r}=e,s=new We(n,a,0,0);i.transformBBox(s,e);const{x:l,y:c}=e;return{point:{x:l,y:c},label:{text:t,width:o,height:r}}}gt([On(Gn)],os.prototype,"enabled",2),gt([On(aa,{optional:!0})],os.prototype,"color",2),gt([On(ya,{optional:!0})],os.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],os.prototype,"fontWeight",2),gt([On(Zn)],os.prototype,"fontSize",2),gt([On(_n)],os.prototype,"fontFamily",2),gt([On(Un,{optional:!0})],os.prototype,"formatter",2);var us=(t=>(t[t.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",t[t.AXIS_GRID=1]="AXIS_GRID",t[t.AXIS=2]="AXIS",t[t.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=4]="SERIES_LAYER",t[t.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",t[t.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",t[t.CHART_OVERLAY=8]="CHART_OVERLAY",t[t.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=11]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=13]="STATUS_BAR",t[t.SERIES_LABEL=14]="SERIES_LABEL",t[t.LEGEND=15]="LEGEND",t[t.NAVIGATOR=16]="NAVIGATOR",t[t.FOREGROUND=17]="FOREGROUND",t))(us||{});function ds(t){return null!=t&&Object.hasOwn(t,"toString")&&Si(t.toString())}function hs(t){return null!=t&&Object.hasOwn(t,"valueOf")&&Di(t.valueOf())}function ps(t){return Di(t)||yi(t)||hs(t)}function gs(t,e){return null!=t&&(!e||ps(t))}function fs(t){return ds(t)&&Object.hasOwn(t,"id")?t.id:t}var ys=t=>"value"===t?Aa(((t,e)=>"line"===e.target.type),(t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):Aa(((t,e)=>"range"===e.target.type),(t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),ms=(t,e,i,n,a)=>{const o="line"===t&&void 0!==e,r="range"===t&&void 0!==i;if(!o&&!r)return!0;const[s,l]=null!==i&&void 0!==i?i:[e,void 0],c=cn.is(n)||ho.is(n),u=gs(s,c)&&!isNaN(n.convert(s)),d=gs(l,c)&&!isNaN(n.convert(l));var h;if(o&&u||r&&u&&d)return null===(h=null===a||void 0===a?void 0:a())||void 0===h||h;const p=["Expecting crossLine"];return r?(u||p.push("range start ".concat(Ea(s))),d||p.push("".concat(u?"":"and ","range end ").concat(Ea(l)))):p.push("value ".concat(Ea(s))),p.push("to match the axis scale domain."),St.warnOnce(p.join(" ")),!1},vs={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},xs={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function bs(t){let{yDirection:e,padding:i=0,position:n="top",bbox:a}=t;const o=e?vs:xs,{xTranslationDirection:r,yTranslationDirection:s}=o[n];return{xTranslation:r*(i+a.width/2),yTranslation:s*(i+a.height/2)}}function Ms(t){let{yDirection:e,bbox:i,padding:n=0,position:a="top"}=t;const o={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?o.left=n+i.width:"right"===a&&e&&(o.right=n+i.width):o.bottom=n+i.height:o.top=n+i.height),o}var Ss=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i/2,y:n}:{x:i,y:isNaN(a)?n:(n+a)/2}},Is=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return"y"===e?{x:i,y:isNaN(o)?a:(a+o)/2}:{x:n/2,y:a}},Ds=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:isNaN(a)?n:(n+a)/2}:{x:i/2,y:isNaN(a)?n:a}},ws=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return"y"===e?{x:n/2,y:isNaN(o)?a:o}:{x:i,y:isNaN(o)?a:(a+o)/2}},Ns=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a}=t;return"y"===e?{x:i/2,y:a}:{x:n,y:a}},Ls=t=>{let{direction:e,xStart:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:isNaN(a)?n:a}:{x:i,y:n}},ks=t=>{let{direction:e,xEnd:i,yStart:n,yEnd:a}=t;return"y"===e?{x:i,y:n}:{x:i,y:isNaN(a)?n:a}},As=t=>{let{direction:e,xStart:i,xEnd:n,yStart:a,yEnd:o}=t;return"y"===e?{x:n,y:isNaN(o)?a:o}:{x:i,y:isNaN(o)?a:o}},Cs={top:{c:Ss},bottom:{c:ws},left:{c:Is},right:{c:Ds},topLeft:{c:Ns},topRight:{c:ks},bottomLeft:{c:Ls},bottomRight:{c:As},inside:{c:t=>{let{xEnd:e,yStart:i,yEnd:n}=t;return{x:e/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:Is},insideRight:{c:Ds},insideTop:{c:Ss},insideBottom:{c:ws},insideTopLeft:{c:Ns},insideBottomLeft:{c:Ls},insideTopRight:{c:ks},insideBottomRight:{c:As}},Ts=Na(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Es=class extends Tn{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};gt([On(Gn,{optional:!0})],Es.prototype,"enabled",2),gt([On(_n,{optional:!0})],Es.prototype,"text",2),gt([On(ya,{optional:!0})],Es.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],Es.prototype,"fontWeight",2),gt([On(Zn)],Es.prototype,"fontSize",2),gt([On(_n)],Es.prototype,"fontFamily",2),gt([On(Yn)],Es.prototype,"padding",2),gt([On(aa,{optional:!0})],Es.prototype,"color",2),gt([On(Ts,{optional:!0})],Es.prototype,"position",2),gt([On(Kn,{optional:!0})],Es.prototype,"rotation",2),gt([On(Gn,{optional:!0})],Es.prototype,"parallel",2);var Rs=class t extends Tn{constructor(){super(),this.id=he(this),this.label=new Es,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new is({name:this.id,zIndex:t.LINE_LAYER_ZINDEX}),this.labelGroup=new is({name:this.id,zIndex:t.LABEL_LAYER_ZINDEX}),this.crossLineRange=new as,this.crossLineLabel=new mr,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:a,range:o,scale:r}=this;if(!n||!r||!e||!t||!ms(n,a,o,r)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){var i,n,a;if(!t)return;const{scale:o,gridLength:r,sideFlag:s,direction:l,label:{position:c="top"},clippedRange:u,strokeWidth:d=0}=this;if(this.data=[],!o)return;const h=null!==(i=o.bandwidth)&&void 0!==i?i:0,p=null!==(n=o.step)&&void 0!==n?n:0,g=(e?-1:1)*(o instanceof Cn?(p-h)/2:0),[f,y]=[0,s*r];let[m,v]=this.getRange();const x=void 0===v&&ho.is(o)?h/2+g:0;let[b,M]=[Number(o.convert(m,{clampMode:"clamped"}))-g+x,o.convert(v,{clampMode:"clamped"})+h+g];b=Re(b,u),M=Re(M,u),[m,v]=[Number(o.convert(m))+x,o.convert(v)+h];const S=(m===b||v===M||b!==M)&&Math.abs(M-b)>0;if(S&&b>M&&([b,M]=[M,b],[m,v]=[v,m]),m-g>=b&&(m-=g),v+g<=M&&(v+=g),this.isRange=S,this.startLine=d>0&&m>=b&&m<=b+g,this.endLine=d>0&&v>=M-h-g&&v<=M,!S&&!this.startLine&&!this.endLine)return;if(this.data=[b,M],!this.label.enabled)return;const{c:I=Ss}=null!==(a=Cs[c])&&void 0!==a?a:{},{x:D,y:w}=I({direction:l,xStart:f,xEnd:y,yStart:b,yEnd:M});this.labelPoint={x:D,y:w}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:i,gridLength:n,data:a,startLine:o,endLine:r,isRange:s,fill:l,fillOpacity:c,stroke:u,strokeWidth:d,lineDash:h}=this;e.x1=0,e.x2=i*n,e.y1=a[0],e.y2=a[1],e.startLine=o,e.endLine=r,e.isRange=s,e.fill=l,e.fillOpacity=null!==c&&void 0!==c?c:1,e.stroke=u,e.strokeWidth=null!==d&&void 0!==d?d:1,e.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,e.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:i}={},label:{parallel:n,rotation:a,position:o="top",padding:r=0},direction:s,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===e||void 0===i)return;const{defaultRotation:u,configuredRotation:d}=rs({rotation:a,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});t.rotation=u+d,t.textBaseline="middle",t.textAlign="center";const h=t.getBBox();if(!h)return;const p="y"===s,{xTranslation:g,yTranslation:f}=bs({yDirection:p,padding:r,position:o,bbox:h});t.translationX=e+g,t.translationY=i+f}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:i,scale:n}=this,a=cn.is(n)||ho.is(n),o=null!==(t=null===i||void 0===i?void 0:i[0])&&void 0!==t?t:e;let r=null===i||void 0===i?void 0:i[1];return a||void 0!==r||(r=o),a&&o===r&&(r=void 0),[o,r]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new mr;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i,y:n}={},label:{parallel:a,rotation:o,position:r="top",padding:s=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(void 0===i||void 0===n)return;const{configuredRotation:d}=rs({rotation:o,parallel:a,regularFlipRotation:u,parallelFlipRotation:c});e.rotation=d,e.textBaseline="middle",e.textAlign="center";const h=e.getBBox();if(!h)return;const p="y"===l,{xTranslation:g,yTranslation:f}=bs({yDirection:p,padding:s,position:r,bbox:h});return e.x=i+g,e.y=n+f,e.getBBox()}calculatePadding(t){var e,i,n,a,o,r,s,l;const{isRange:c,startLine:u,endLine:d,direction:h,label:{padding:p=0,position:g="top"}}=this;if(!c&&!u&&!d)return;const f=this.computeLabelBBox();if(null==(null===f||void 0===f?void 0:f.x)||null==(null===f||void 0===f?void 0:f.y))return;const y=Ms({yDirection:"y"===h,padding:p,position:g,bbox:f});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(i=y.left)&&void 0!==i?i:0),t.right=Math.max(null!==(n=t.right)&&void 0!==n?n:0,null!==(a=y.right)&&void 0!==a?a:0),t.top=Math.max(null!==(o=t.top)&&void 0!==o?o:0,null!==(r=y.top)&&void 0!==r?r:0),t.bottom=Math.max(null!==(s=t.bottom)&&void 0!==s?s:0,null!==(l=y.bottom)&&void 0!==l?l:0)}};Rs.LINE_LAYER_ZINDEX=9,Rs.RANGE_LAYER_ZINDEX=3,Rs.LABEL_LAYER_ZINDEX=14,Rs.className="CrossLine",gt([On(Gn,{optional:!0})],Rs.prototype,"enabled",2),gt([On(Na(["range","line"],"a crossLine type"),{optional:!0})],Rs.prototype,"type",2),gt([On(jn(ys("range"),Xn.restrict({length:2})),{optional:!0})],Rs.prototype,"range",2),gt([On(ys("value"),{optional:!0})],Rs.prototype,"value",2),gt([On(aa,{optional:!0})],Rs.prototype,"fill",2),gt([On(Hn,{optional:!0})],Rs.prototype,"fillOpacity",2),gt([On(aa,{optional:!0})],Rs.prototype,"stroke",2),gt([On(Yn,{optional:!0})],Rs.prototype,"strokeWidth",2),gt([On(Hn,{optional:!0})],Rs.prototype,"strokeOpacity",2),gt([On(ga,{optional:!0})],Rs.prototype,"lineDash",2),gt([On(Bn)],Rs.prototype,"label",2);var Os=Rs,zs=["stroke","lineDash"],js=Jn((t=>xi(t)&&Object.keys(t).every((t=>zs.includes(t)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),Ps=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function Bs(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return li(((i,n,a)=>e.includes(a)?vi(t)?t(a):t:a))}gt([On(Gn)],Ps.prototype,"enabled",2),gt([On(Zn)],Ps.prototype,"width",2),gt([On(js)],Ps.prototype,"style",2);var Fs=Aa((t=>Di(t)&&t>0||t instanceof It),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Gs=class extends Tn{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};gt([On(Fs,{optional:!0})],Gs.prototype,"step",2),gt([On(Xn,{optional:!0})],Gs.prototype,"values",2),gt([On(La),Bs(NaN)],Gs.prototype,"minSpacing",2),gt([On(ka),Bs(NaN)],Gs.prototype,"maxSpacing",2);var Us=class extends Tn{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};gt([On(Gn)],Us.prototype,"enabled",2),gt([On(ya,{optional:!0})],Us.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],Us.prototype,"fontWeight",2),gt([On(Yn.restrict({min:1}))],Us.prototype,"fontSize",2),gt([On(_n)],Us.prototype,"fontFamily",2),gt([On(Zn)],Us.prototype,"padding",2),gt([On(Qn),Bs(NaN)],Us.prototype,"minSpacing",2),gt([On(aa,{optional:!0})],Us.prototype,"color",2),gt([On(Kn,{optional:!0})],Us.prototype,"rotation",2),gt([On(Gn)],Us.prototype,"avoidCollisions",2),gt([On(Gn)],Us.prototype,"mirrored",2),gt([On(Gn)],Us.prototype,"parallel",2),gt([On(Un,{optional:!0})],Us.prototype,"formatter",2),gt([On(_n,{optional:!0})],Us.prototype,"format",2);var _s=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};gt([On(Gn)],_s.prototype,"enabled",2),gt([On(Zn)],_s.prototype,"width",2),gt([On(aa,{optional:!0})],_s.prototype,"stroke",2);var Ys=class extends Tn{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};gt([On(Gn)],Ys.prototype,"enabled",2),gt([On(Zn)],Ys.prototype,"width",2),gt([On(Zn)],Ys.prototype,"size",2),gt([On(aa,{optional:!0})],Ys.prototype,"stroke",2);var Vs=class extends Tn{constructor(){super(...arguments),this.caption=new ts,this.enabled=!1,this.spacing=ts.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function Ws(t){const[e,i]=Oe(t.range),n=Math.floor(e),a=Math.ceil(i);return{min:n,max:a,visible:n!==a}}gt([On(Gn)],Vs.prototype,"enabled",2),gt([On(_n,{optional:!0})],Vs.prototype,"text",2),gt([On(Zn,{optional:!0})],Vs.prototype,"spacing",2),gt([On(ya,{optional:!0})],Vs.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],Vs.prototype,"fontWeight",2),gt([On(Zn)],Vs.prototype,"fontSize",2),gt([On(_n)],Vs.prototype,"fontFamily",2),gt([On(aa,{optional:!0})],Vs.prototype,"color",2),gt([On(va)],Vs.prototype,"wrapping",2),gt([On(Un,{optional:!0})],Vs.prototype,"formatter",2);var Zs=2*Math.PI,Hs=Zs/2;function Ks(t){const e=(e,i)=>{const[n=t.min,a=t.max]=Oe(null!==i&&void 0!==i?i:[]);return e<n||e>a},i={fromFn(t,i,n){let a=t.y1+t.translationY,o=t.opacity;return("added"===n||e(t.datum.translationY,t.datum.range))&&(a=i.translationY,o=0),{y:0,translationY:a,opacity:o,phase:nn[n]}},toFn(t,e,i){const n=e.translationY;let a=1;return"removed"===i&&(a=0),{y:0,translationY:n,opacity:a,finish:{y:n,translationY:0}}},applyFn(t,i){t.setProperties(i),t.visible=!e(t.y)}},n={fromFn(t,i,n){var a;const o=null!==(a=t.previousDatum)&&void 0!==a?a:i,r=o.x,s=o.y,l=o.rotationCenterX;let c=Math.round(t.translationY),u=o.rotation,d=t.opacity;return"removed"===n||e(o.y,o.range)?u=i.rotation:("added"===n||e(t.datum.y,t.datum.range))&&(c=Math.round(o.translationY),d=0,u=i.rotation),{x:r,y:s,rotationCenterX:l,translationY:c,rotation:u,opacity:d,phase:nn[n]}},toFn(t,e,i){const n=e.x,a=e.y,o=e.rotationCenterX,r=Math.round(e.translationY);let s=0,l=1;if("added"===i)l=1,s=e.rotation;else if("removed"===i)l=0,s=e.rotation;else{var c,u;d=null!==(c=null===(u=t.previousDatum)||void 0===u?void 0:u.rotation)&&void 0!==c?c:e.rotation,h=e.rotation,s=Math.abs(h-d)<Hs?h:d>h?h+Zs:h-Zs}var d,h;return{x:n,y:a,rotationCenterX:o,translationY:r,rotation:s,opacity:l,finish:{rotation:e.rotation}}}};return{tick:i,line:{fromFn(t,e){var i;return O(O({},null!==(i=t.previousDatum)&&void 0!==i?i:e),{},{phase:nn.updated})},toFn:(t,e)=>O({},e)},label:n,group:{fromFn(t,e){const{rotation:i,translationX:n,translationY:a}=t;return{rotation:i,translationX:n,translationY:a,phase:nn.updated}},toFn(t,e){const{rotation:i,translationX:n,translationY:a}=e;return{rotation:i,translationX:n,translationY:a}}}}}function Qs(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function Xs(t){const{visible:e,min:i,max:n}=t;return(t,a)=>{const o=a.translationY;return{y:o,translationY:0,opacity:1,visible:e&&o>=i&&o<=n}}}function Js(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function qs(){return(t,e)=>O({},e)}var $s=class extends(Lo(lr)){},tl=class t{constructor(e,i){let n;this.moduleCtx=e,this.scale=i,this.id=he(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Gs,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Oo({name:"".concat(this.id,"-axis"),zIndex:2}),this.lineNode=this.axisGroup.appendChild(new $s({name:"".concat(this.id,"-Axis-line")})),this.tickLineGroup=this.axisGroup.appendChild(new Co({name:"".concat(this.id,"-Axis-tick-lines"),zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Co({name:"".concat(this.id,"-Axis-tick-labels"),zIndex:2})),this.crossLineGroup=new Oo({name:"".concat(this.id,"-CrossLines")}),this.labelGroup=new Co({name:"".concat(this.id,"-Labels"),zIndex:10}),this.gridGroup=new Oo({name:"".concat(this.id,"-Axis-grid")}),this.gridLineGroup=this.gridGroup.appendChild(new Co({name:"".concat(this.id,"-gridLines"),zIndex:1})),this.tickLineGroupSelection=Po.select(this.tickLineGroup,$s,!1),this.tickLabelGroupSelection=Po.select(this.tickLabelGroup,mr,!1),this.gridLineGroupSelection=Po.select(this.gridLineGroup,$s,!1),this._crossLines=[],this.line=new _s,this.tick=new Ys,this.gridLine=new Ps,this.label=this.createLabel(),this.defaultTickMinSpacing=t.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Vs,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new Oa,this.range=this.scale.range.slice(),this.crossLines.forEach((t=>this.initCrossLine(t))),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=e.animationManager,this.animationState=new Fr("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:t=>this.animateReadyUpdate(t),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),e.layoutManager.addListener("layout:complete",(t=>{null!=n&&null!=Dr(t.chart,n)&&this.animationState.transition("resize"),n=O({},t.chart)})))}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}set crossLines(t){const{CrossLineConstructor:e}=this.constructor;this._crossLines.forEach((t=>this.detachCrossLine(t))),this._crossLines=t.map((t=>{const i=new e;return i.set(t),i})),this._crossLines.forEach((t=>{this.attachCrossLine(t),this.initCrossLine(t)}))}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((t=>t()))}updateRange(){var t;const{range:e,visibleRange:i,scale:n}=this,a=(e[1]-e[0])/(i[1]-i[0]),o=a*i[0],r=e[0]-o;null===(t=n.setVisibleRange)||void 0===t||t.call(n,i),n.range=[r,r+a],this.crossLines.forEach((t=>{t.clippedRange=[e[0],e[1]]}))}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}inRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=Oe(this.range);return t>=i-e&&t<=n+e}onFormatChange(t,e,i,n){const{scale:a}=this,o=a instanceof so,r=t=>o?String:i=>"number"===typeof i?i.toFixed(e+t):String(i);if(n&&a&&a.tickFormat)try{const e=a.tickFormat({ticks:t,specifier:n});this.labelFormatter=e,this.datumFormatter=e}catch(s){this.labelFormatter=r(0),this.datumFormatter=r(1),St.warnOnce("the axis label format string ".concat(n," is invalid. No formatting will be applied"))}else this.labelFormatter=r(0),this.datumFormatter=r(1)}onGridLengthChange(t,e){e^t&&this.onGridVisibilityChange(),this.crossLines.forEach((t=>this.initCrossLine(t)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Us}update(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.tickGenerationResult)return;const{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const o=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:s,textBaseline:l,textAlign:c,primaryTickCount:u}=this.tickGenerationResult,d=this.tickLabelGroupSelection.nodes().map((t=>t.datum.tickId));if(this.updateSelections(o,r.ticks,{combinedRotation:s,textAlign:c,textBaseline:l,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{const t=this.calculateUpdateDiff(d,r);this.animationState.transition("update",t)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:e,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(r.fractionDigits),u}getAxisLineCoordinates(){const[t,e]=Oe(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const e=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,e);return{x1:i,x2:i+Math.abs(e),y:t.translationY}}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:a,textAlign:o,range:r}=e,s=t.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==s&&null!=s;return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:s,textAlign:o,textBaseline:a,visible:c,x:l,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,e){var i;const{title:n}=this;if(!n.enabled)return t.enabled=!1,void(t.node.visible=!1);t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping;const a=t.node,o=(null!==(i=n.spacing)&&void 0!==i?i:0)+e.spacing,r=this.label.getSideFlag(),s=Fo(this.rotation),l=-1===r&&s>Math.PI&&s<2*Math.PI?-1:1,c=l*r*Math.PI/2,u=1===l?"bottom":"top",{range:d}=this,h=Math.floor(l*r*(d[0]+d[1])/2),p=-1===r?Math.floor(l*-o):Math.floor(-o),{callbackCache:g}=this.moduleCtx,{formatter:f=t=>t.defaultValue}=n,y=g.call(f,this.getTitleFormatterParams());t.text=y,a.setProperties({visible:!0,text:y,textBaseline:u,x:h,y:p,rotation:c})}calculateLayout(t,e){var i;const{rotation:n,parallelFlipRotation:a,regularFlipRotation:o}=this.calculateRotations(),r=this.label.getSideFlag(),s=r*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(t),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:a,regularFlipRotation:o,labelX:s,sideFlag:r});const l=this.tickGenerationResult,{tickData:c,combinedRotation:u,textBaseline:d,textAlign:h}=l,p=z(l,B);this.updateLayoutState(c.fractionDigits);const g=[],{x:f,y1:y,y2:m}=this.getAxisLineCoordinates(),v=new We(f+Math.min(r*this.seriesAreaPadding,0),y,this.seriesAreaPadding,m-y);if(g.push(v),this.tick.enabled&&c.ticks.forEach((t=>{const{x1:e,x2:i,y:n}=this.getTickLineCoordinates(t),a=new We(e,n,i-e,0);g.push(a)})),this.label.enabled){const t=new mr;c.ticks.forEach((e=>{const i=this.getTickLabelProps(e,{combinedRotation:u,textAlign:h,textBaseline:d,range:this.scale.range});if(!i.visible)return;t.setProperties(O(O({},i),{},{translationY:Math.round(e.translationY)}));const n=t.getBBox();n&&g.push(n)}))}if(null!==(i=this.title)&&void 0!==i&&i.enabled){const t=new ts,e=We.merge(g).width;this.setTitleProps(t,{spacing:e});const i=t.node.getBBox();i&&g.push(i)}const x=We.merge(g),b=this.getTransformBox(x),M=this.isAnySeriesActive();return this.crossLines.forEach((t=>{var e,i,s;(t.sideFlag=-r,t.direction=n===-Math.PI/2?"x":"y",t instanceof Os)&&(null!==(s=(i=t.label).parallel)&&void 0!==s||(i.parallel=this.label.parallel));t.parallelFlipRotation=a,t.regularFlipRotation=o,null===(e=t.calculateLayout)||void 0===e||e.call(t,M,this.reverse)})),{primaryTickCount:p.primaryTickCount,bbox:b}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}getTransformBox(t){const e=new bo,{rotation:i,translationX:n,translationY:a}=this.getAxisTransform();return bo.updateTransformMatrix(e,1,1,i,n,a),e.transformBBox(t)}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(t){t?this.setDomain(t):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,cn.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){const t=Yo(this.rotation);return{rotation:t,parallelFlipRotation:Fo(t),regularFlipRotation:Fo(t-Math.PI/2)}}generateTicks(t){let{primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:a,sideFlag:o}=t;const{scale:r,interval:{minSpacing:s,maxSpacing:l},label:{parallel:c,rotation:u,fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g}}=this,f=void 0!==e,{defaultRotation:y,configuredRotation:m,parallelFlipFlag:v,regularFlipFlag:x}=rs({rotation:u,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),b=m+y,M=new bo,{maxTickCount:S}=this.estimateTickCount({minSpacing:s,maxSpacing:l}),I=!(cn.is(r)||ho.is(r))||isNaN(S)?10:S;let D=ls(c,m,0,o,x);const w=function(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}(c,m,o,v),N=hr.toFontString({fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g}),L=ur.getMeasurer({font:N}),k={fontFamily:d,fontSize:h,fontStyle:p,fontWeight:g,textBaseline:w,textAlign:D};let A={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},C=0,T=0,E=!0,R=[],O=!1;for(;E&&C<=I&&!O;){T=0,D=ls(c,m,0,o,x);const t=this.getTickStrategies({secondaryAxis:f,index:C});for(const i of t){({tickData:A,index:C,autoRotation:T,terminate:O}=i({index:C,tickData:A,textProps:k,labelOverlap:E,terminate:O,primaryTickCount:e}));const t=0!==m||0!==T,n=b+T,r=ss(this.label.minSpacing,t);bo.updateTransformMatrix(M,1,1,n,0,0),D=ls(c,m,T,o,x),R=this.createLabelData(A.ticks,a,M,L),E=!!this.label.avoidCollisions&&Mr(R,r)}}const z=y+m+T;return!f&&A.rawTicks.length>0&&(e=A.rawTicks.length),{tickData:A,primaryTickCount:e,combinedRotation:z,textBaseline:w,textAlign:D,labelData:R}}getTickStrategies(t){let{index:e,secondaryAxis:i}=t;const{scale:n,label:a}=this,{minSpacing:o}=this.interval,r=cn.is(n)||ho.is(n),s=a.enabled&&a.avoidCollisions,l=!r&&0!==e&&s,c=!0===a.autoRotate&&void 0===a.rotation,u=[];let d;d=this.interval.values?3:i?1:l?2:0;if(u.push((t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(d,e,i,a,n)})),!r&&!isNaN(o)){const t=t=>{let{index:e,tickData:i,primaryTickCount:n,terminate:a}=t;return this.createTickData(2,e,i,a,n)};u.push(t)}if(!s)return u;if(c){const t=t=>{let{index:e,tickData:i,labelOverlap:n,terminate:a}=t;return{index:e,tickData:i,autoRotation:this.getAutoRotation(n),terminate:a}};u.push(t)}return u}createTickData(t,e,i,n,a){const{scale:o}=this,{step:r,values:s,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:u,minTickCount:d,defaultTickCount:h}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=cn.is(o)||ho.is(o),g=!p||isNaN(u)?10:u;let f=p?Math.max(h-e,d):u;const y=void 0===r&&void 0===s&&f>d&&(p||2===t);let m=!0;for(;m&&e<=g;){const n=i.rawTicks;f=p?Math.max(h-e,d):u;const{rawTicks:o,fractionDigits:r,ticks:s,labelCount:l}=this.getTicks({tickGenerationType:t,previousTicks:n,tickCount:f,minTickCount:d,maxTickCount:u,primaryTickCount:a});i.rawTicks=o,i.fractionDigits=r,i.ticks=s,i.labelCount=l,m=!!y&&Sr(o,n),e++}return n||(n=void 0!==r||void 0!==s),{tickData:i,index:e,autoRotation:0,terminate:n}}createLabelData(t,e,i,n){const a=[];for(const{tickLabel:o,translationY:r}of t){if(!o)continue;const{width:t,height:s}=n.measureLines(o),l=cs(o,new We(e,r,t,s),i);a.push(l)}return a}getAutoRotation(t){var e;return t?Fo(Yo(null!==(e=this.label.autoRotateAngle)&&void 0!==e?e:0)):0}getTicks(t){var e;let{tickGenerationType:i,previousTicks:n,tickCount:a,minTickCount:o,maxTickCount:r,primaryTickCount:s}=t;const{range:l,scale:c,visibleRange:u}=this;let d;switch(i){case 3:if(d=this.interval.values,cn.is(c)){const[t,e]=Oe(c.getDomain().map(Number));d=d.filter((i=>i>=t&&i<=e)).sort(((t,e)=>t-e))}break;case 1:d=cn.is(c)?this.updateSecondaryAxisTicks(s):this.createTicks(a,o,r);break;case 2:d=this.filterTicks(n,a);break;default:d=this.createTicks(a,o,r)}const h=d.reduce(((t,e)=>Math.max(t,"number"===typeof e?Ue(e):0)),0),p=(null!==(e=c.bandwidth)&&void 0!==e?e:0)/2,g=[];let f=0;const y=new Map,m=Math.max(0,Math.floor(u[0]*d.length)),v=Math.min(d.length,Math.ceil(u[1]*d.length)),x=d.slice(m,v);this.onFormatChange(x,h,d,this.label.format);for(let b=0;b<x.length;b++){const t=x[b],e=c.convert(t)+p;if(l.length>0&&!this.inRange(e,.001))continue;const i=this.formatTick(t,h,m+b);let n=i;if(y.has(n)){const t=y.get(n);y.set(n,t+1),n="".concat(n,"_").concat(t)}else y.set(n,1);g.push({tick:t,tickId:n,tickLabel:i,translationY:Math.floor(e)}),""!==i&&null!=i&&f++}return{rawTicks:d,fractionDigits:h,ticks:g,labelCount:f}}filterTicks(t,e){const{minSpacing:i,maxSpacing:n}=this.interval,a=!isNaN(i)||!isNaN(n)?Math.ceil(t.length/e):2;return t.filter(((t,e)=>e%a===0))}createTicks(t,e,i){var n,a;const{scale:o}=this;return t&&(cn.is(o)||ho.is(o))&&(o.tickCount=t,o.minTickCount=null!==e&&void 0!==e?e:0,o.maxTickCount=null!==i&&void 0!==i?i:1/0),null!==(n=null===(a=o.ticks)||void 0===a?void 0:a.call(o))&&void 0!==n?n:[]}estimateTickCount(t){let{minSpacing:e,maxSpacing:i}=t;if(!this.label.avoidCollisions)return{minTickCount:cn.defaultMaxTickCount,maxTickCount:cn.defaultMaxTickCount,defaultTickCount:cn.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),a=Math.max(this.defaultTickMinSpacing,n/cn.defaultMaxTickCount);let o=!isNaN(i);isNaN(e)&&(e=a),isNaN(i)&&(i=n),e>i&&(e===a?e=i:i=e);o&&(o=2<a);const r=Ee(1,Math.floor(n/e),o?Math.min(Math.floor(n/2),100):100),s=Math.min(r,Math.ceil(n/i));return{minTickCount:s,maxTickCount:r,defaultTickCount:Ee(s,cn.defaultTickCount,r)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(t){let{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}=t;const a=this.label.getSideFlag(),o=this.isAnySeriesActive();this.crossLines.forEach((t=>{var r,s;(t.sideFlag=-a,t.direction=e===-Math.PI/2?"x":"y",t instanceof Os)&&(null!==(s=(r=t.label).parallel)&&void 0!==s||(r.parallel=this.label.parallel));t.parallelFlipRotation=i,t.regularFlipRotation=n,t.update(o)}))}updateTickLines(){const{tick:t,label:e}=this,i=e.getSideFlag();this.tickLineGroupSelection.each((e=>{e.strokeWidth=t.width,e.stroke=t.stroke,e.x1=i*this.getTickSize(),e.x2=0}))}calculateAvailableRange(){return ze(this.range)}calculateRangeWithBleed(){const t=1/ze(this.visibleRange);return Be(this.calculateAvailableRange()*t,2)}calculateDomain(){const t=this.boundSeries.filter((t=>this.includeInvisibleDomains||t.isEnabled())).flatMap((t=>t.getDomain(this.direction)));this.setDomain(t)}getAxisTransform(){return{rotation:Yo(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:i,translation:n}=this,{rotation:a}=this.calculateRotations(),o=Math.floor(n.x),r=Math.floor(n.y);t.setProperties({rotation:a,translationX:o,translationY:r}),i.setProperties({rotation:a,translationX:o,translationY:r}),e.datum=this.getAxisTransform()}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,i){const n=t=>t.tickId,a=e.map((t=>this.getTickLabelProps(t,i)));this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],void 0,n),this.tickLineGroupSelection.update(e,void 0,n),this.tickLabelGroupSelection.update(a,void 0,n)}updateAxisLine(){const{enabled:t,stroke:e,width:i}=this.line;this.lineNode.setProperties({stroke:e,strokeWidth:t?i:0})}updateGridLines(t){const{gridLine:{style:e,width:i},gridPadding:n,gridLength:a}=this;0!==a&&0!==e.length&&this.gridLineGroupSelection.each(((o,r,s)=>{const{stroke:l,lineDash:c}=e[s%e.length];o.setProperties({x1:n,x2:-t*a+n,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each(((t,e)=>{t.setProperties(e,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}updateTitle(t){const{title:e,lineNode:i,tickLineGroup:n,tickLabelGroup:a}=this;let o=0;if(e.enabled&&t.anyTickVisible){o+=Co.computeChildrenBBox([n,a,i]).width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(e.caption,{spacing:o})}formatTick(t,e,i){return String(this.getFormatter(i,!0)(t,e))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:a,moduleCtx:{callbackCache:o}}=this;return i.formatter?(e,n)=>{var a;return null!==(a=o.call(i.formatter,{value:e,index:t,fractionDigits:n}))&&void 0!==a?a:e}:!e&&a?t=>{var e;return null!==(e=o.call(a,t))&&void 0!==e?e:String(t)}:n?t=>{var e;return null!==(e=o.call(n,t))&&void 0!==e?e:String(t)}:t=>String(t)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((t=>this.includeInvisibleDomains||t.isEnabled()))}clipTickLines(t,e,i,n){this.tickLineGroup.setClipRect(new We(t,e,i,n))}clipGrid(t,e,i,n){this.gridGroup.setClipRect(new We(t,e,i,n))}getTitleFormatterParams(){var t;const{direction:e}=this,i=[];for(const n of this.boundSeries){const t=n.getKeys(e),a=n.getNames(e);for(let e=0;e<t.length;e++)i.push({key:t[e],name:a[e]})}return{direction:e,boundSeries:i,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return O({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return null!==(t=this.axisContext)&&void 0!==t||(this.axisContext=this.createAxisContext()),O(O({},this.moduleCtx),{},{parent:this.axisContext})}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:cn.is(t)||ho.is(t),keys:()=>this.boundSeries.flatMap((t=>t.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((t,e)=>(e.getKeyProperties(this.direction).forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t)),[]),scaleValueFormatter:t=>this.getScaleValueFormatter(t),scaleBandwidth:()=>{var e;return null!==(e=t.bandwidth)&&void 0!==e?e:0},scaleDomain:()=>{var e;return null===(e=t.getDomain)||void 0===e?void 0:e.call(t)},scaleConvert:e=>t.convert(e),scaleInvert:ho.is(t)?e=>{var i;return null===(i=t.invertNearest)||void 0===i?void 0:i.call(t,e)}:e=>{var i;return null===(i=t.invert)||void 0===i?void 0:i.call(t,e)},scaleInvertNearest:e=>{var i;return null===(i=t.invertNearest)||void 0===i?void 0:i.call(t,e)},scaleStep:()=>{var e;return null!==(e=t.step)&&void 0!==e?e:0},attachLabel:t=>this.attachLabel(t),inRange:(t,e)=>this.inRange(t,e)}}getScaleValueFormatter(t){const{scale:e}=this;if(t&&e&&e.tickFormat)try{return e.tickFormat({specifier:t})}catch(i){St.warnOnce("the format string ".concat(t," is invalid, ignoring."))}return this.getFormatter()}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,i=Ks(Ws(this));an(this.id,"axis-group",e,[this.axisGroup],i.group),an(this.id,"line",e,[this.lineNode],i.line),an(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((t,e)=>e.tickId),t),an(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,((t,e)=>e.tickId),t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:i,lineNode:n}=this,a=Ws(this);ja([this.axisGroup],((t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY}))),ja([t,e],Xs(a)),ja([i],((t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX}))),ja([n],qs())}calculateUpdateDiff(t,e){const i=new Set,n=new Set,a={},o=Math.max(t.length,e.ticks.length);for(let r=0;r<o;r++){const o=e.ticks[r],s=t[r],l=null===o||void 0===o?void 0:o.tickId;a[null!==l&&void 0!==l?l:s]=o,s!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(s)?i.delete(s):s&&n.add(s))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};tl.defaultTickMinSpacing=50,tl.CrossLineConstructor=Os,gt([On(Gn)],tl.prototype,"nice",2),gt([On(Gn)],tl.prototype,"reverse",2),gt([On(la)],tl.prototype,"keys",2),gt([On(Bn)],tl.prototype,"interval",2),gt([On(Bn)],tl.prototype,"title",2),gt([zr(((t,e,i)=>t.onGridLengthChange(e,i)))],tl.prototype,"gridLength",2);var el=tl,il=class extends Us{constructor(){super(...arguments),this.autoRotateAngle=335}};gt([On(Gn,{optional:!0})],il.prototype,"autoRotate",2),gt([On(Kn)],il.prototype,"autoRotateAngle",2);var nl=class t extends el{constructor(){super(...arguments),this.thickness=0}static is(e){return e instanceof t}get direction(){return"top"===this.position||"bottom"===this.position?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t){return this.updateDirection(),super.update(t)}calculateLayout(t,e){return this.updateDirection(),super.calculateLayout(t,e)}createAxisContext(){return O(O({},super.createAxisContext()),{},{position:this.position})}createLabel(){return new il}getRegionNode(){return this.axisGroup}};gt([On(Zn)],nl.prototype,"thickness",2),gt([On(fa)],nl.prototype,"position",2);var al=nl,ol=class t extends al{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cn),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(e){return e instanceof t}normaliseDataDomain(t){const e=[],i=new Set;for(const n of t){const t=n instanceof Date?n.getTime():n;i.has(t)||(i.add(t),e.push(n))}return{domain:e,clipped:!1}}updateScale(t){var e,i;let{paddingInner:n,paddingOuter:a}=this;if(!Di(n)||!Di(a)){var o,r;const t=this.reduceBandScalePadding();null!==(o=n)&&void 0!==o||(n=t.inner),null!==(r=a)&&void 0!==r||(a=t.outer)}this.scale.paddingInner=null!==(e=n)&&void 0!==e?e:0,this.scale.paddingOuter=null!==(i=a)&&void 0!==i?i:0,super.updateScale(t)}reduceBandScalePadding(){return this.boundSeries.reduce(((t,e)=>{var i;const n=null===(i=e.getBandScalePadding)||void 0===i?void 0:i.call(e);return n&&(t.inner>n.inner&&(t.inner=n.inner),t.outer<n.outer&&(t.outer=n.outer)),t}),{inner:1/0,outer:-1/0})}};ol.className="CategoryAxis",ol.type="category",gt([On(Hn)],ol.prototype,"groupPaddingInner",2),gt([On(Hn,{optional:!0})],ol.prototype,"paddingInner",2),gt([On(Hn,{optional:!0})],ol.prototype,"paddingOuter",2);var rl=ol,sl=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((t,e)=>e!==this.number)):[]}};function ll(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new sl;let n=0;return e&&t.forEach((t=>n=Math.max(n,t.labels.length))),t.forEach((t=>{if(e)for(;t.labels.length<n;)t.labels.unshift("");!function(t,e){const i=e.labels.slice().reverse(),n=i.length-1;i.forEach(((e,i)=>{const a=t.children,o=a.find((t=>t.label===e)),r=i!==n;if(o&&r)t=o;else{const i=new sl(e,t);i.number=a.length,a.push(i),r&&(t=i)}}))}(i,t)})),i}function cl(t,e,i){const n=i/(e.number-t.number);e.change-=n,e.shift+=i,t.change+=n,e.prelim+=i,e.mod+=i}function ul(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function dl(t,e){const i=t.children;if(i.length){let n=i[0];i.forEach((t=>{dl(t,e),n=function(t,e,i){const n=t.getLeftSibling();if(n){let a=t,o=t,r=n,s=o.getLeftmostSibling(),l=o.mod,c=a.mod,u=r.mod,d=s.mod;for(;r.nextRight()&&o.nextLeft();){r=r.nextRight(),o=o.nextLeft(),s=s.nextLeft(),a=a.nextRight(),a.ancestor=t;const n=r.prelim+u-(o.prelim+l)+i;n>0&&(cl(ul(r,t,e),t,n),l+=n,c+=n),u+=r.mod,l+=o.mod,d+=s.mod,c+=a.mod}r.nextRight()&&!a.nextRight()?(a.thread=r.nextRight(),a.mod+=u-c):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),e=t)}return e}(t,n,e)})),function(t){const e=t.children;if(e){let t=0,i=0;for(let n=e.length-1;n>=0;n--){const a=e[n];a.prelim+=t,a.mod+=t,i+=a.change,t+=a.shift+i}}}(t);const a=(i[0].prelim+i.at(-1).prelim)/2,o=t.getLeftSibling();o?(t.prelim=o.prelim+e,t.mod=t.prelim-a):t.prelim=a}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+e:0}}var hl=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){const{x:i,y:n}=e(t);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function pl(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach((n=>pl(n,e+t.mod,i)))}function gl(t){const e=t.children;let i=0;e.forEach((t=>{gl(t),t.children.length?i+=t.leafCount:i++})),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function fl(t){const e=new yl;return dl(t,1),pl(t,-t.prelim,e),gl(t),e}var yl=class{constructor(){this.dimensions=new hl,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,(t=>({x:t.x,y:t.y}))),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=this.leafCount-1,r=this.depth,s=this.dimensions;let l=1,c=1;if(t>0&&o){const e=(s.right-s.left)/o;l=t/o/e,a&&(l=-l)}if(e>0&&r){const t=(s.bottom-s.top)/r;c=e/r/t}const u=new hl;this.nodes.forEach((t=>{t.screenX=t.x*l,t.screenY=t.y*c,u.update(t,(t=>({x:t.screenX,y:t.screenY})))}));const d=-u.left,h=-u.top;this.nodes.forEach((t=>{t.screenX+=d+i,t.screenY+=h+n}))}},ml=class extends Us{constructor(){super(...arguments),this.grid=!1}};gt([On(Gn)],ml.prototype,"grid",2);var vl=class extends al{constructor(t){const e=new Cn;e.paddingOuter=.1,e.paddingInner=2*e.paddingOuter,super(t,e),this.tickScale=new Cn,this.line=new _s,this.label=new ml,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:a,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=Po.select(a,lr),this.axisLineSelection=Po.select(i,lr),this.separatorSelection=Po.select(i,lr),this.labelSelection=Po.select(n,mr),this.lineNode.visible=!1}updateRange(){const{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),a=n*e[0],o=t[0]-a;this.tickScale.range=i.range=[o,o+n],this.resizeTickTree()}resizeTickTree(){const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,n=this.lineHeight;var a;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*n,(Math.min(e[0],e[1])||0)+(null!==(a=t.bandwidth)&&void 0!==a?a:0)/2,-i.depth*n,e[1]-e[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var t;const{direction:e}=this;let i=null;const n=this.boundSeries.filter((t=>t.visible)).flatMap((t=>{if("y"===e||i)return t.getDomain(e);if(null===i){const n=t.getDomain(e);return i=Ii(n[0]),n}return[]}));this.setDomain(null!==(t=un(n))&&void 0!==t?t:gn(n));const{domain:a}=this.dataDomain;this.tickTreeLayout=fl(ll(a)),this.tickScale.domain=a.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each(((t,e)=>{t.setProperties(e)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:t}=this.computedLayout,{range:e}=this;this.separatorSelection.update(t).each(((t,i)=>{t.x1=i.x1,t.x2=i.x2,t.y1=i.y,t.y2=i.y,t.visible=this.tick.enabled&&i.y>=e[0]-1e-7&&i.y<=e[1]+1e-7,t.stroke=this.tick.stroke,t.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each(((t,e)=>{t.setProperties(e),t.stroke=this.line.stroke,t.strokeWidth=this.line.width}))}updateCategoryGridLines(){const{gridLength:t,gridLine:e,label:i,range:n,tickScale:a}=this,o=a.ticks(),r=i.getSideFlag(),s=this.gridLineSelection.update(t?o:[]);if(t){const{width:i,style:o}=e,l=o.length;s.each(((s,c,u)=>{const d=Math.round(a.convert(c)),{stroke:h,lineDash:p}=o[u%l];s.visible=e.enabled&&d>=n[0]&&d<=n[1],s.x1=0,s.x2=-r*t,s.y1=d,s.y2=d,s.stroke=h,s.strokeWidth=i,s.lineDash=p}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:t,label:e,label:{parallel:i},moduleCtx:{callbackCache:n},range:a,title:o,title:{formatter:r=t=>t.defaultValue}={}}=this,s=t.range[0],l=t.range[1],c=Math.abs(l-s)/t.domain.length||0,u=Math.ceil(e.fontSize/c),d=Yo(this.rotation),h=Math.abs(Math.cos(d))<1e-8,p=e.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,y=t.ticks(),m=f?f.nodes:[],v=!!f&&f.depth>1,x=(null===o||void 0===o?void 0:o.enabled)&&y.length>0,{defaultRotation:b,configuredRotation:M,parallelFlipFlag:S}=rs({rotation:e.rotation,parallel:i,regularFlipRotation:Fo(d-Math.PI/2),parallelFlipRotation:Fo(d)}),I=[],D=new Map;let w=0;const N=new mr,L=(t,i)=>{if(0===i){if(x){const e=n.call(r,this.getTitleFormatterParams());return N.setProperties({text:e,fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:t.screenY-.25*o.fontSize,translationY:t.screenX}),!0}return!1}if(N.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:-1===S?"bottom":"hanging",translationX:t.screenY-.25*e.fontSize,translationY:t.screenX}),i%u!==0)return!1;if(t.screenX<a[0]||t.screenX>a[1])return!1;var s;e.formatter?N.text=null!==(s=n.call(e.formatter,{value:String(t.label),index:i}))&&void 0!==s?s:String(t.label):N.text=String(t.label);return!0};m.forEach(((t,e)=>{if(!L(t,e))return;const i=N.getBBox();if(!i)return;D.set(e,i);!t.children.length&&i.width>w&&(w=i.width)}));const k=p*e.padding,A=this.label.grid,C=[];m.forEach(((t,e)=>{var i;const n=!t.children.length;let a,r=L(t,e);if(N.x=k,N.y=0===e&&x&&null!==(i=o.spacing)&&void 0!==i?i:0,N.rotationCenterX=k,n)N.rotation=M,N.textAlign="end",N.textBaseline="middle";else{const i=t.leafCount*c,n=D.get(e);N.translationX-=w-g+this.label.padding,n&&n.width>i?(r=!1,D.delete(e)):N.rotation=h?b:-Math.PI/2}if(t.parent&&v){const e=n?t.screenX-c/2:t.screenX-t.leafCount*c/2;if(n)(t.number!==t.children.length-1||A)&&C.push({y:e,x1:0,x2:-w-2*this.label.padding});else{const i=-w-2*this.label.padding+t.screenY;C.push({y:e,x1:i+g,x2:i})}}if(r){const t=ko.toCanvas(N);t&&D.set(e,t),a=O(O({},{fill:(s=N).fill,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,rotation:s.rotation,rotationCenterX:s.rotationCenterX,rotationCenterY:s.rotationCenterY,text:s.text,textAlign:s.textAlign,textBaseline:s.textBaseline,translationX:s.translationX,translationY:s.translationY,visible:s.visible,x:s.x,y:s.y}),{},{visible:r})}else D.delete(e),a={visible:r};var s;I.push(a)}));let T=0;C.forEach((t=>T=Math.min(T,t.x2))),C.push({y:Math.max(s,l),x1:0,x2:T});const E=[],R=[];C.forEach((t=>{if(t.y>=a[0]-1e-7&&t.y<=a[1]+1e-7){const{x1:e,x2:i,y:n}=t,a=new We(Math.min(e,i),n,Math.abs(e-i),0);R.push(a),E.push({x1:e,x2:i,y:n})}}));const z=[],j=[],P=f?f.depth+1:1;for(let O=0;O<P;O++){const t=y.length>0&&(0===O||A&&v),e=O>0?-w-2*this.label.padding-(O-1)*g:0,i=new We(e,Math.min(...a),0,Math.abs(a[1]-a[0]));j.push(i),z.push({x:e,y1:a[0],y2:a[1],visible:t})}const B=We.merge(ge(D.values(),R,j));return{bbox:this.getTransformBox(B),tickLabelLayout:I,separatorLayout:E,axisLineLayout:z}}calculateLayout(){const{axisLineLayout:t,separatorLayout:e,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};vl.className="GroupedCategoryAxis",vl.type="grouped-category",gt([On(aa,{optional:!0})],vl.prototype,"labelColor",2);var xl=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},bl=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e){this.registerDependencies(n);const t=this.modules.find((t=>n.type===t.type&&n.optionsKey===t.optionsKey&&n.identifier===t.identifier));if(t){if("enterprise"===n.packageType&&"community"===t.packageType){const e=this.modules.indexOf(t);this.modules.splice(e,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((t=>"enterprise"===t.packageType))}*byType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const{dependents:n}=this,a=new Set;let o=0;const r=this.modules.filter((t=>e.includes(t.type)));do{for(const t of r)if(!a.has(t.optionsKey)&&!n.has(t.optionsKey)){yield t,a.add(t.optionsKey);for(const[e,i]of n.entries())i.delete(t.optionsKey),0===i.size&&n.delete(e)}o++}while(a.size<r.length&&o<3);if(n.size>0)throw new Error("Could not resolve module dependencies: [".concat([...n.keys()],"]"))}registerDependencies(t){if(null!=t.dependencies&&0!==t.dependencies.length){for(const i of t.dependencies){var e;const n=null!==(e=this.dependencies.get(i))&&void 0!==e?e:new Set;n.add(t.optionsKey),this.dependencies.set(i,n)}this.dependents.set(t.optionsKey,new Set(t.dependencies))}}},Ml=new bl;function Sl(t){return new Promise((e=>{setTimeout((()=>e(void 0)),t)}))}var Il=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise((e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch((t=>St.errorOnce(t)))}))}async acquireImmediately(t){return!!this.available&&(await this.acquire(t),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){var t;this.available=!1;let[e,i]=null!==(t=this.acquireQueue.shift())&&void 0!==t?t:[];for(;e;){var n;try{var a;await e(),null===(a=i)||void 0===a||a()}catch(r){var o;St.error("mutex callback error",r),null===(o=i)||void 0===o||o()}[e,i]=null!==(n=this.acquireQueue.shift())&&void 0!==n?n:[]}this.available=!0}},Dl=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if("function"!==typeof e)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;null===(i=this.eventListeners.get(t))||void 0===i||i.delete(e),0===this.eventListeners.size&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;null===(e=this.eventListeners.get(t.type))||void 0===e||e.forEach((e=>e(t)))}},wl=class extends Tn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;super(),this.top=t,this.right=e,this.bottom=i,this.left=n}};function Nl(t,e){let i,n,a=0,o=!1;const r=()=>o,s=()=>{var e;o=!1,null===(e=n)||void 0===e||e(),n=void 0,i=void 0,a>0&&t(l)},l=()=>{const t=a;a=0,o=!0;const i=e({count:t});i?i.then(s,s):s()};return{schedule(e){0!==a||r()||t(l,e),a++},async await(){if(r())for(null==i&&(i=new Promise((t=>{n=t})));r();)await i}}}gt([On(Zn)],wl.prototype,"top",2),gt([On(Zn)],wl.prototype,"right",2),gt([On(Zn)],wl.prototype,"bottom",2),gt([On(Zn)],wl.prototype,"left",2);var Ll=class{constructor(){this.events=new Map}on(t,e){var i;return this.events.has(t)||this.events.set(t,new Set),null===(i=this.events.get(t))||void 0===i||i.add(e),()=>this.off(t,e)}off(t,e){const i=this.events.get(t);i&&(i.delete(e),0===i.size&&this.events.delete(t))}emit(t,e){var i;null===(i=this.events.get(t))||void 0===i||i.forEach((t=>t(e)))}clear(t){t?this.events.delete(t):this.events.clear()}},kl=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.Toolbar=2]="Toolbar",t[t.Navigator=3]="Navigator",t[t.Overlay=4]="Overlay",t))(kl||{}),Al=class{constructor(){this.events=new Ll,this.elements=new Map}addListener(t,e){return this.events.on(t,e)}registerElement(t,e){return this.elements.has(t)?this.elements.get(t).add(e):this.elements.set(t,new Set([e])),()=>{var i;return null===(i=this.elements.get(t))||void 0===i?void 0:i.delete(e)}}createContext(t,e){const i=new Cl(t,e);for(const a of Object.values(kl)){var n;"number"===typeof a&&(null===(n=this.elements.get(a))||void 0===n||n.forEach((t=>t(i))))}return i}emitLayoutComplete(t,e){var i,n;const a="layout:complete",{width:o,height:r}=t;this.events.emit(a,{type:a,axes:null!==(i=e.axes)&&void 0!==i?i:[],chart:{width:o,height:r},clipSeries:null!==(n=e.clipSeries)&&void 0!==n&&n,series:e.series})}},Cl=class{constructor(t,e){this.width=t,this.height=e,this.layoutBox=new We(0,0,t,e)}},Tl=class{constructor(){this.title=new ts,this.subtitle=new ts,this.footnote=new ts}positionCaptions(t){const{title:e,subtitle:i,footnote:n}=this,a=t.layoutBox.height/10;if(e.enabled){const{spacing:n=(i.enabled?ts.SMALL_PADDING:ts.LARGE_PADDING)}=e;this.positionCaption("top",e,t.layoutBox,a),this.shrinkLayoutByCaption("top",e,t.layoutBox,n)}i.enabled&&(this.positionCaption("top",i,t.layoutBox,a),this.shrinkLayoutByCaption("top",i,t.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,a),this.shrinkLayoutByCaption("bottom",n,t.layoutBox,n.spacing))}positionAbsoluteCaptions(t){const{title:e,subtitle:i,footnote:n}=this,{rect:a}=t.series;for(const o of[e,i,n])if("overlay"===o.layoutStyle)if("left"===o.textAlign)o.node.x=a.x+o.padding;else if("right"===o.textAlign){const t=o.node.getBBox();o.node.x=a.x+a.width-t.width-o.padding}}computeX(t,e){return"left"===t?e.x:"right"===t?e.x+e.width:e.x+e.width/2}positionCaption(t,e,i,n){const a=Math.max(hr.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,i)+e.padding,e.node.y=i.y+("top"===t?0:i.height)+e.padding,e.node.textBaseline=t,e.computeTextWrap(i.width,a)}shrinkLayoutByCaption(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("block"===e.layoutStyle){const a=e.node.getBBox();i.shrink("top"===t?Math.ceil(a.y-i.y+a.height+n):Math.ceil(i.y+i.height-a.y+n),t)}}};gt([On(Bn)],Tl.prototype,"title",2),gt([On(Bn)],Tl.prototype,"subtitle",2),gt([On(Bn)],Tl.prototype,"footnote",2);var El=class{constructor(){this.registeredListeners=new Map}addListener(t,e){const i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(const[e,i]of this.registeredListeners.entries()){const n=i.findIndex((e=>e.symbol===t));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(e);break}}}dispatch(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const o of this.getListenersByType(t))try{o.handler(...i)}catch(a){St.errorOnce(a)}}dispatchWrapHandlers(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];for(const r of this.getListenersByType(t))try{e(r.handler,...n)}catch(o){St.errorOnce(o)}}getListenersByType(t){var e;return null!==(e=this.registeredListeners.get(t))&&void 0!==e?e:[]}destroy(){this.registeredListeners.clear()}},Rl=class{constructor(){this.listeners=new El,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((t=>t()))}},Ol=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.All=63]="All",t))(Ol||{}),zl=class extends Rl{addListener(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return super.addListener(t,(t=>{this.getState()&i&&e(t)}))}},jl=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach((t=>t())),this.destroyFns.length=0}setFns(t){this.destroy(),this.destroyFns=t}},Pl="10.3.3",Bl=Symbol("previous-memento-not-found"),Fl=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=jo.create(!0,"history"),this.destroyFns=new jl,this.destroyFns.setFns([t.addListener("undo",this.undo.bind(this),63),t.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[t,e]of this.originators.entries())this.clearState.set(t,e.createMemento())}record(t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const e=new Map;for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(const o of n){if(!this.originators.has(o.mementoOriginatorKey))throw new Error("Originator [".concat(o.mementoOriginatorKey,"] has not been added to the HistoryManager."));e.set(o.mementoOriginatorKey,o.createMemento())}this.history.push({label:t,mementos:e}),this.historyIndex=this.history.length-1,this.debugEvent("History record: [".concat(t,"]"))}undo(){const t=this.history[this.historyIndex];if(t){for(const e of t.mementos.keys()){const t=this.findPreviousMemento(e);if(t===Bl)throw new Error("Could not find previous memento for [".concat(e,"]."));this.restoreMemento(e,t)}this.historyIndex-=1,this.debugEvent("History undo: [".concat(t.label,"]"))}}redo(){const t=this.history[this.historyIndex+1];if(t){for(const[e,i]of t.mementos.entries())this.restoreMemento(e,i);this.historyIndex+=1,this.debugEvent("History redo: [".concat(t.label,"]"))}}findPreviousMemento(t){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(t))return this.history[e].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):Bl}restoreMemento(t,e){var i;null===(i=this.originators.get(t))||void 0===i||i.restoreMemento(Pl,Pl,e)}debugEvent(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.debug(...e,this.history.map(((t,e)=>e===this.historyIndex?"** ".concat(t.label," **"):t.label)))}},Gl=class{constructor(t){this.version=t.split("-")[0]}save(){const t={version:this.version};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(const a of Object.values(i))t[a.mementoOriginatorKey]=this.encode(a,a.createMemento());return t}restore(t){if("object"===typeof t)if(null!=t)if("version"in t&&"string"===typeof t.version){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const e of i){if(!(e.mementoOriginatorKey in t))continue;const i=this.decode(e,t[e.mementoOriginatorKey]);if(!e.guardMemento(i))return void St.warnOnce("Could not restore [".concat(e.mementoOriginatorKey,"] data, value was invalid, ignoring."),i);e.restoreMemento(this.version,t.version,i)}}else St.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else St.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else St.warnOnce("Could not restore data of type [".concat(typeof t,"], expecting an object, ignoring."))}encode(t,e){try{return JSON.parse(JSON.stringify(e,this.encodeTypes))}catch(i){throw new Error("Failed to encode [".concat(t.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}decode(t,e){try{return JSON.parse(JSON.stringify(e),this.decodeTypes)}catch(i){throw new Error("Failed to decode [".concat(t.mementoOriginatorKey,"] value [").concat(i,"]."),{cause:i})}}encodeTypes(t,e){return fi(this[t])?{__type:"date",value:String(this[t])}:e}decodeTypes(t,e){return xi(this[t])&&"__type"in this[t]&&"date"===this[t].__type?new Date(this[t].value):e}},Ul=class{constructor(){this.caretaker=new Gl(Pl),this.state=new Map}setState(t,e){null!=Dr(this.state.get(t.mementoOriginatorKey),e)&&(this.state.set(t.mementoOriginatorKey,e),this.restoreState(t))}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}};function _l(t,e,i,n){e.addEventListener(i,n);const a=()=>e.removeEventListener(i,n);return t.push(a),a}function Yl(t,e,i){_l(t,e,"keydown",(t=>{"Escape"===t.key&&i(t)}))}function Vl(t,e,i){const n=_l(t,window,"mousedown",(t=>{[0,2].includes(t.button)&&!function(t,e){if(e.target instanceof Element){const{x:i,y:n,width:a,height:o}=t.getBoundingClientRect(),{clientX:r,clientY:s}=e;return r>=i&&s>=n&&r<=i+a&&s<=n+o}return!1}(e,t)&&(i(),n())}));return n}function Wl(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function Zl(t,e){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return Wl(t)&&(t.key===e||n.some((e=>t.key===e)))}function Hl(t,e,i,n){i&&_l(t,e,"keydown",(t=>{Zl(t,n)&&i.focus()}))}function Kl(t,e,i,n,a,o){Hl(t,e,a,o),Hl(t,e,i,n),_l(t,e,"keydown",(t=>{Zl(t,n,o)&&t.preventDefault()}))}var Ql={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function Xl(t){return t.toolbar.role="toolbar",t.toolbar.ariaOrientation=t.orientation,t.toolbar.ariaHidden=(0===t.buttons.length).toString(),Jl(t)}function Jl(t){const{orientation:e,buttons:i,wrapAround:n=!1,onEscape:a,onFocus:o,onBlur:r}=t,{nextKey:s,prevKey:l}=Ql[e],c=t=>{t.target&&"tabIndex"in t.target&&(i.forEach((t=>t.tabIndex=-1)),t.target.tabIndex=0)},[u,d]=n?[i.length,i.length]:[0,1/0],h=[];for(let p=0;p<i.length;p++){const t=i[(u+p-1)%d],e=i[p],n=i[(u+p+1)%d];_l(h,e,"focus",c),o&&_l(h,e,"focus",o),r&&_l(h,e,"blur",r),a&&Yl(h,e,a),Kl(h,e,t,l,n,s),e.tabIndex=0===p?0:-1}return h}var ql=class{constructor(t,e,i){this.lastFocus=e,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(Vl(this.destroyFns,t,(()=>this.close())))}close(){this.destroyFns.forEach((t=>t())),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){var t;this.destroyFns.forEach((t=>t())),this.destroyFns.length=0,_r(this.lastFocus,"aria-expanded",!1),null===(t=this.lastFocus)||void 0===t||t.focus(),this.lastFocus=void 0}};function $l(t){var e;const{sourceEvent:i,orientation:n,menu:a,buttons:o,closeCallback:r,autoCloseOnBlur:s=!1}=t,{nextKey:l,prevKey:c}=Ql[n],u=ic(i);_r(u,"aria-expanded",!0);const d=new ql(a,u,r),h=()=>d.close(),{destroyFns:p}=d;if(a.role="menu",a.ariaOrientation=n,p.push(...Jl({orientation:n,buttons:o,onEscape:h,wrapAround:!0})),a.tabIndex=-1,Yl(p,a,h),_l(p,a,"keydown",(t=>{var e;t.target!==a||t.key!==l&&t.key!==c||(t.preventDefault(),null===(e=o[0])||void 0===e||e.focus())})),s){const t=t=>{!o.includes(t.relatedTarget)&&h()};for(const e of o)_l(p,e,"blur",t)}return null===(e=o[0])||void 0===e||e.focus(),d}function tc(t,e){return i=>{if("true"===t.ariaDisabled)return i.preventDefault();e(i)}}function ec(t){return"button"in t?0===t.button:Wl(t)&&("Space"===t.code||"Enter"===t.key)}function ic(t){if((null===t||void 0===t?void 0:t.target)instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function nc(t){const e=t=>{if(t.defaultPrevented)return;Vr(t.target,"data-preventdefault",!0)&&Zl(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}var ac=class{constructor(){var t;(this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((t=>{let[e,i]=t;return this.observe(e,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver)&&(this.resizeObserver=new ResizeObserver((t=>{for(const{target:e,contentRect:{width:i,height:n}}of t){const t=this.elements.get(e);this.checkSize(t,e,i,n)}})),this.documentReady="complete"===Me("readyState"),this.documentReady||null===(t=Se())||void 0===t||t.addEventListener("load",this.onLoad))}destroy(){var t,e;null===(t=Se())||void 0===t||t.removeEventListener("load",this.onLoad),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=null}checkSize(t,e,i,n){var a,o;t&&(i===(null===(a=t.size)||void 0===a?void 0:a.width)&&n===(null===(o=t.size)||void 0===o?void 0:o.height)||(t.size={width:i,height:n},t.cb(t.size,e)))}observe(t,e){if(!this.documentReady)return void this.queuedObserveRequests.push([t,e]);var i;this.elements.has(t)?this.removeFromQueue(t):null===(i=this.resizeObserver)||void 0===i||i.observe(t);const n={cb:e};this.elements.set(t,n)}unobserve(t){var e;null===(e=this.resizeObserver)||void 0===e||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter((e=>{let[i]=e;return i!==t}))}},oc=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],rc=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);var sc={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>sc},lc=class extends Rl{constructor(t,e){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new ac;const i=Ie("div");i.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=i.children.item(0),this.styleRootElement=e,this.rootElements=oc.reduce(((t,e)=>{const i="ag-charts-".concat(e),n=this.element.classList.contains(i)?this.element:this.element.querySelector(".".concat(i));if(!n)throw new Error("AG Charts - unable to find DOM element ".concat(i));return t[e]={element:n,children:new Map,listeners:[]},t}),{});let n=!1;this.observer=function(t,e){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===t&&e(n.intersectionRatio)}),{root:t});return i.observe(t),i}(this.element,(t=>{0!==t||n||this.listeners.dispatch("hidden",{type:"hidden"}),n=0===t})),this.setSizeOptions(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}\n'),t&&this.setContainer(t),this.destroyFns.push(nc(this.element))}destroy(){var t;super.destroy(),null===(t=this.observer)||void 0===t||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((t=>{t.children.forEach((t=>t.remove())),t.element.remove()})),this.element.remove()}setSizeOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:a}=this.element;a.width="".concat(null!==i&&void 0!==i?i:t,"px"),a.height="".concat(null!==n&&void 0!==n?n:e,"px")}updateContainerSize(){var t,e,i,n;const{style:a}=this.rootElements["canvas-center"].element;a.width="".concat(null!==(t=null===(e=this.containerSize)||void 0===e?void 0:e.width)&&void 0!==t?t:0,"px"),a.height="".concat(null!==(i=null===(n=this.containerSize)||void 0===n?void 0:n.height)&&void 0!==i?i:0,"px")}setContainer(t){if(t===this.container)return;this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container));if(!(null!=this.getShadowDocumentRoot(t)))for(const e of this.rootElements.styles.children.keys())this.removeChild("styles",e);this.container=t;for(const[e,i]of this.styles)this.addStyles(e,i);t.appendChild(this.element),this.sizeMonitor.observe(t,(t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){this.element.classList.forEach((e=>{e.startsWith("ag-charts-theme-")&&e!==t&&this.element.classList.remove(e)})),this.element.classList.add(t)}setTabIndex(t){this.rootElements["series-area"].element.tabIndex=t}updateCanvasLabel(t){_r(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:t}addEventListener(t,e,i){this.getEventElement(this.element,t).addEventListener(t,e,i)}removeEventListener(t,e,i){this.getEventElement(this.element,t).removeEventListener(t,e,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var t,e;const i=Se(),n=new We(0,0,i.innerWidth,i.innerHeight),a=this.getRawOverlayClientRect(),o=We.fromDOMRect(null!==a&&void 0!==a?a:this.getBoundingClientRect());return null!==(t=null===(e=n.intersection(o))||void 0===e?void 0:e.toDOMRect())&&void 0!==t?t:sc}getRawOverlayClientRect(){let t=this.element;for(;null!=t;){var e,i,n,a;const o=null===(e=(i=t).computedStyleMap)||void 0===e?void 0:e.call(i),r=null===o||void 0===o||null===(n=o.get("overflow-x"))||void 0===n?void 0:n.toString(),s=null===o||void 0===o||null===(a=o.get("overflow-y"))||void 0===a?void 0:a.toString();if(null!=r&&"visible"!==r||s&&"visible"!==s)return t.getBoundingClientRect();t=t.parentElement}const o=this.getShadowDocumentRoot();if(o)return o.getBoundingClientRect()}getShadowDocumentRoot(){var t,e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;const n=null!==(t=null===(e=i)||void 0===e||null===(e=e.ownerDocument)||void 0===e?void 0:e.body)&&void 0!==t?t:Me("body");for(;null!=i;){if(i===n)return;if(i.parentNode instanceof DocumentFragment)return i;i=i.parentNode}return this.container}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(We.fromDOMRect(n.getBoundingClientRect()));return We.merge(i)}calculateCanvasPosition(t){var e;let i=0,n=0;const{x:a=0,y:o=0}=null!==(e=this.getChildBoundingClientRect("canvas"))&&void 0!==e?e:{},r=t.getBoundingClientRect();return i=r.x-a,n=r.y-o,{x:i,y:n}}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],a=null===n||void 0===n?void 0:n.get(i);return null!=a&&t.contains(a)}isEventOverElement(t){const e=t.target;return null!=e&&this.element.contains(e)}addStyles(t,e){const i="data-ag-charts";if(this.styles.set(t,e),null==this.container)return;const n=e=>e.getAttribute(i)===t,a=t=>{for(const i of t.children)if(n(i))return;const e=Ie("style");return t.appendChild(e),e};let o;if(this.styleRootElement)o=a(this.styleRootElement);else{o=null!=this.getShadowDocumentRoot(this.container)?this.addChild("styles",t):a(Me("head"))}null==o||n(o)||(o.setAttribute(i,t),o.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t){this.element.style.cursor=t}getCursor(){return this.element.style.cursor}addChild(t,e,i,n){var a;const{element:o,children:r,listeners:s}=this.rootElements[t];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(e))return r.get(e);const{childElementType:l="div"}=null!==(a=rc.get(t))&&void 0!==a?a:{};if(i&&i.tagName.toLowerCase()!==l.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const c=null!==i&&void 0!==i?i:Ie(l);for(const[u,d,h]of s)c.addEventListener(u,d,h);if(r.set(e,c),n){const t=o.querySelector(n.query);if(null==t)throw new Error("AG Charts - addChild query failed ".concat(n.query));t.insertAdjacentElement(n.where,c)}else null===o||void 0===o||o.appendChild(c);return c}removeChild(t,e){var i;const{children:n}=this.rootElements[t];n&&(null===(i=n.get(e))||void 0===i||i.remove(),n.delete(e))}incrementDataCounter(t){var e;const{dataset:i}=this.element;null!==(e=i[t])&&void 0!==e||(i[t]="0"),i[t]=String(Number(i[t])+1)}setDataBoolean(t,e){this.element.dataset[t]=String(e)}getIconClassNames(t){return"ag-charts-icon ag-charts-icon-".concat(t)}};function cc(t,e,i,n){if(0===t)return function(t,e,i){if(0===t)return function(t,e){const i=-e/t;return 0!==t&&i>=0&&i<=1?[i]:[]}(e,i);const n=e*e-4*t*i,a=[];if(0===n){const i=-e/(2*t);i>=0&&i<=1&&a.push(i)}else if(n>0){const i=Math.sqrt(n),o=(-e-i)/(2*t),r=(-e+i)/(2*t);o>=0&&o<=1&&a.push(o),r>=0&&r<=1&&a.push(r)}return a}(e,i,n);const a=e/t,o=i/t,r=(3*o-a*a)/9,s=(9*a*o-27*(n/t)-2*a*a*a)/54,l=r*r*r+s*s,c=1/3,u=[];if(l>=0){const t=Math.sqrt(l),e=Math.sign(s+t)*Math.pow(Math.abs(s+t),c),i=Math.sign(s-t)*Math.pow(Math.abs(s-t),c),n=Math.abs(Math.sqrt(3)*(e-i)/2),o=-c*a+(e+i);if(o>=0&&o<=1&&u.push(o),0===n){const t=-c*a-(e+i)/2;t>=0&&t<=1&&u.push(t)}}else{const t=Math.acos(s/Math.sqrt(-r*r*r)),e=c*a,i=2*Math.sqrt(-r),n=i*Math.cos(c*t)-e,o=i*Math.cos(c*(t+2*Math.PI))-e,l=i*Math.cos(c*(t+4*Math.PI))-e;n>=0&&n<=1&&u.push(n),o>=0&&o<=1&&u.push(o),l>=0&&l<=1&&u.push(l)}return u}function uc(t,e,i,n,a,o,r,s){const l=(i-t)*(s-o)-(n-e)*(r-a);if(0===l)return 0;const c=((r-a)*(e-o)-(t-a)*(s-o))/l,u=((i-t)*(e-o)-(n-e)*(t-a))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function dc(t,e,i,n,a,o,r,s,l,c,u,d){let h=0;const p=c-d,g=u-l,f=l*(d-c)-c*(u-l),y=hc(t,i,a,r),m=hc(e,n,o,s),v=cc(p*y[0]+g*m[0],p*y[1]+g*m[1],p*y[2]+g*m[2],p*y[3]+g*m[3]+f);for(const x of v){const t=x*x,e=x*t,i=y[0]*e+y[1]*t+y[2]*x+y[3],n=m[0]*e+m[1]*t+m[2]*x+m[3];let a;a=l===u?(n-c)/(d-c):(i-l)/(u-l),a>=0&&a<=1&&h++}return h}function hc(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function pc(t,e,i,n,a,o,r,s,l,c){if(isNaN(t)||isNaN(e))return 0;o&&([a,n]=[n,a]);const u=(c-s)/(l-r),d=s-u*r,h=Math.pow(u,2)+1,p=2*(u*(d-e)-t),g=Math.pow(t,2)+Math.pow(d-e,2)-Math.pow(i,2),f=Math.pow(p,2)-4*h*g;if(f<0)return 0;const y=(-p+Math.sqrt(f))/2/h,m=(-p-Math.sqrt(f))/2/h;let v=0;return[y,m].forEach((i=>{if(!(i>=Math.min(r,l)&&i<=Math.max(r,l)))return;const o=i-t,s=u*i+d-e;_o(Math.atan2(s,o),n,a)&&v++})),v}function gc(t,e,i,n,a){return(1-a)**3*t+3*(1-a)**2*a*e+3*(1-a)*a**2*i+a**3*n}function fc(t,e,i,n,a){if(a<=Math.min(t,n))return t<n?0:1;if(a>=Math.max(t,n))return t<n?1:0;let o=0,r=1,s=NaN;for(let l=0;l<12;l+=1){s=(o+r)/2;gc(t,e,i,n,s)<a?o=s:r=s}return s}function yc(t,e,i,n,a,o,r,s,l){const c=(1-l)*t+l*i,u=(1-l)*e+l*n,d=(1-l)*i+l*a,h=(1-l)*n+l*o,p=(1-l)*a+l*r,g=(1-l)*o+l*s,f=(1-l)*c+l*d,y=(1-l)*u+l*h,m=(1-l)*d+l*p,v=(1-l)*h+l*g,x=(1-l)*f+l*m,b=(1-l)*y+l*v;return[[{x:t,y:e},{x:c,y:u},{x:f,y:y},{x:x,y:b}],[{x:x,y:b},{x:m,y:v},{x:p,y:g},{x:r,y:s}]]}function mc(t,e,i,n){const a=3*e-t-3*i+n,o=3*t-6*e+3*i,r=-3*t+3*e;if(0===a){if(0!==o){const t=-r/o;if(t>0&&t<1)return[t]}return[]}const s=o*o-4*a*r;if(s>=0){const t=Math.sqrt(s);return[(-o+t)/(2*a),(-o-t)/(2*a)].filter((t=>t>0&&t<1))}return[]}function vc(t,e,i,n,a,o,r,s){return[...mc(t,i,a,r),...mc(e,n,o,s)]}var xc=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,e){this.openedPath=!0,this.path2d.moveTo(t,e),this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.openedPath?(this.path2d.lineTo(t,e),this.commands.push(1),this.params.push(t,e)):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,a){a=Math.min(a,i/2,n/2),this.moveTo(t,e+a),this.arc(t+a,e+a,a,Math.PI,1.5*Math.PI),this.lineTo(t+a,e),this.lineTo(t+i-a,e),this.arc(t+i-a,e+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(t+i,e+a),this.lineTo(t+i,e+n-a),this.arc(t+i-a,e+n-a,a,0,Math.PI/2),this.lineTo(t+i-a,e+n),this.lineTo(t+a,e+n),this.arc(t+ +a,e+n-a,a,Math.PI/2,Math.PI),this.lineTo(t,e+n-a),this.closePath()}arc(t,e,i,n,a,o){this.openedPath=!0,this.path2d.arc(t,e,i,n,a,o),this.commands.push(2),this.params.push(t,e,i,n,a,o?1:0)}cubicCurveTo(t,e,i,n,a,o){this.openedPath||this.moveTo(t,e),this.path2d.bezierCurveTo(t,e,i,n,a,o),this.commands.push(3),this.params.push(t,e,i,n,a,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,e){const i=this.commands,n=this.params,a=i.length,o=-1e4,r=-1e4;let s=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<a;h++)switch(i[h]){case 0:d+=uc(s,l,c,u,o,r,t,e),c=n[p++],s=c,u=n[p++],l=u;break;case 1:d+=uc(c,u,n[p++],n[p++],o,r,t,e),c=n[p-2],u=n[p-1];break;case 3:d+=dc(c,u,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],o,r,t,e),c=n[p-2],u=n[p-1];break;case 2:{const i=n[p++],a=n[p++],l=n[p++],h=n[p++],g=n[p++];if(d+=pc(i,a,l,h,g,Boolean(n[p++]),o,r,t,e),!isNaN(s)){d+=uc(c,u,i+Math.cos(h)*l,a+Math.sin(h)*l,o,r,t,e)}c=i+Math.cos(g)*l,u=a+Math.sin(g)*l;break}case 4:d+=uc(s,l,c,u,o,r,t,e)}return d%2===1}distanceSquared(t,e){let i=1/0;const n=this.commands,a=this.params,o=n.length;let r=NaN,s=NaN,l=0,c=0;for(let u=0,d=0;u<o;u++)switch(n[u]){case 0:l=r=a[d++],c=s=a[d++];break;case 1:i=Jo(t,e,l,c,a[d++],a[d++],i);break;case 3:St.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=a[d++],o=a[d++],r=a[d++],s=a[d++],u=a[d++],h=n+Math.cos(s)*r,p=o+Math.sin(s)*r,g=Boolean(a[d++]);i=Jo(t,e,l,c,h,p,i),i=qo(t,e,n,o,r,s,u,g,i),l=n+Math.cos(u)*r,c=o+Math.sin(u)*r;break}case 4:i=Jo(t,e,l,c,r,s,i)}return i}getPoints(){const{commands:t,params:e}=this,i=[];let n=0;for(const a of t)switch(a){case 0:case 1:i.push({x:e[n++],y:e[n++]});break;case 3:n+=4,i.push({x:e[n++],y:e[n++]});break;case 2:i.push({x:e[n++],y:e[n++]}),n+=4}return i}toSVG(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t,e)=>({x:t,y:e});const e=[],{commands:i,params:n}=this,a=function(i){e.push(i);for(let n=0;n<(arguments.length<=1?0:arguments.length-1);n+=2){const{x:i,y:a}=t(n+1<1||arguments.length<=n+1?void 0:arguments[n+1],n+1+1<1||arguments.length<=n+1+1?void 0:arguments[n+1+1]);e.push(i,a)}};let o=0;for(const r of i)switch(r){case 0:a("M",n[o++],n[o++]);break;case 1:a("L",n[o++],n[o++]);break;case 3:a("C",n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);break;case 2:{const t=n[o++],i=n[o++],r=n[o++],s=n[o++],l=n[o++],c=n[o++];let u=c?s-l:l-s;u<0&&(u+=2*Math.ceil(-u/(2*Math.PI))*Math.PI),c&&(u=-u);const d=Math.max(Math.ceil(Math.abs(u)/(Math.PI/2)),1),h=u/d,p=4/3*Math.tan(h/4);a(0===e.length?"M":"L",t+Math.cos(s)*r,i+Math.sin(s)*r);for(let e=0;e<d;e+=1){const n=s+h*(e+0),o=s+h*(e+1),l=r*Math.sin(n),c=r*Math.cos(n),u=r*Math.sin(o),d=r*Math.cos(o);a("C",t+c-p*l,i+l+p*c,t+d+p*u,i+u-p*d,t+d,i+u)}break}case 4:e.push("Z")}return e.join(" ")}computeBBox(){const{commands:t,params:e}=this;let[i,n,a,o]=[1/0,1/0,-1/0,-1/0],[r,s]=[NaN,NaN],[l,c]=[NaN,NaN];const u=(t,e,l)=>{i=Math.min(e,i),n=Math.min(t,n),a=Math.max(t,a),o=Math.max(e,o),l&&([r,s]=[t,e])};let d=0;for(const h of t)switch(h){case 0:u(e[d++],e[d++],!0),[l,c]=[r,s];break;case 1:u(e[d++],e[d++],!0);break;case 3:{const t=e[d++],i=e[d++],n=e[d++],a=e[d++],o=e[d++],l=e[d++];u(o,l,!0);vc(r,s,t,i,n,a,o,l).forEach((e=>{const c=gc(r,t,n,o,e),d=gc(s,i,a,l,e);u(c,d)}));break}case 2:{const t=e[d++],i=e[d++],n=e[d++];let a=Fo(e[d++]),o=Fo(e[d++]);e[d++]&&([a,o]=[o,a]);const r=(e,a)=>{const o=t+n*Math.cos(e),r=i+n*Math.sin(e);u(o,r,a)};r(a),r(o,!0);const s=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const e of s)(a<o&&a<=e&&e<=o||a>o&&(a<=e||e<=o))&&r(e);break}case 4:[r,s]=[l,c]}return new We(n,i,a-n,o-i)}};function bc(t){const{redraw:e=3,changeCb:i,convertor:n}=null!==t&&void 0!==t?t:{};return He({redraw:e,type:"path",convertor:n,changeCb:i})}var Mc=class extends sr{constructor(){super(...arguments),this.path=new xc,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e,i,n;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(t=null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())&&void 0!==t&&t||null!==(i=null===(n=this._clipPath)||void 0===n?void 0:n.isDirty())&&void 0!==i&&i)}isPointInPath(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)}distanceSquared(t,e){return this.distanceSquaredTransformedPoint(t,e)}svgPathData(t){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(t)}distanceSquaredTransformedPoint(t,e){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(t,e)?0:this.path.distanceSquared(t,e)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(t){var e;const{ctx:i,forceRender:n,stats:a}=t;if(0!==this.dirty||n){if(!this.clip||isNaN(this._clipX)||isNaN(this._clipY))this._clipPath=void 0,this.drawPath(i);else{var o,r;i.save();const t=this.strokeWidth/2;null!==(o=this._clipPath)&&void 0!==o||(this._clipPath=new xc),this._clipPath.clear(),this._clipPath.rect(-t,-t,this._clipX+t,this._clipY+t+t),i.clip(null===(r=this._clipPath)||void 0===r?void 0:r.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),i.restore()}null===(e=this.fillShadow)||void 0===e||e.markClean(),super.render(t)}else a&&(a.nodesSkipped+=yo(this).count)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}toSVG(){if(!this.visible)return;const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.svgPathData()),t.setAttribute("fill","string"===typeof this.fill?this.fill:"none"),t.setAttribute("fill-opacity",String(this.fillOpacity)),null!=this.stroke&&(t.setAttribute("stroke",this.stroke),t.setAttribute("stroke-opacity",String(this.strokeOpacity)),t.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[t]}}};Mc.className="Path",gt([bc()],Mc.prototype,"clip",2),gt([bc()],Mc.prototype,"clipX",1),gt([bc()],Mc.prototype,"clipY",1);var Sc="ag-charts-focus-indicator",Ic=class{constructor(t){this.domManager=t,this.div=Me().createElement("div"),this.svg=Me().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Me().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=t.addChild("series-area",Sc),this.element.classList.add(Sc),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Sc),this.domManager.removeChild("series-area",Sc)}updateBounds(t){if(void 0===t);else if(t instanceof Mc){const e=(e,i)=>ko.toCanvasPoint(t,e,i);this.path.setAttribute("d",t.svgPathData(e)),this.show(this.svg)}else ke(this.div,t),this.show(this.div)}show(t){this.element.innerHTML="",this.element.append(t)}getFocusableElement(){const t=this.element.parentElement;if(null==t||0!==t.tabIndex&&-1!==t.tabIndex)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return t}overrideFocusVisible(t){this.getFocusableElement().style.setProperty("opacity",{true:"1",false:"0",undefined:""}["".concat(t)])}isFocusVisible(){const t=this.getFocusableElement();return null!=t&&"1"===Se().getComputedStyle(t).opacity}},Dc=class{set textContent(t){var e;this.textElement.textContent=t;const i=this.textElement,n=null===(e=i.getBBox)||void 0===e?void 0:e.call(i);n&&this.svgElement.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height))}get textContent(){return this.textElement.textContent}constructor(){this.textElement=De("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=De("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Ie("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(t){ke(this.boundedContainer,t)}};function wc(t,e){var i;return(null===(i=e.params)||void 0===i?void 0:i.type)===t}function Nc(t){const e={params:t,result:void 0};return e.result=function(t){if("button"===t)return Ie("button");if("slider"===t)return Ie("input");if(["toolbar","group","list"].includes(t))return Ie("div");if("text"===t)return new Dc;if("listswitch"===t)return{button:Ie("button"),listitem:Ie("div")};throw Error("AG Charts - error allocating meta")}(e.params.type),e}var Lc=class{constructor(t,e){this.localeManager=t,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach((t=>t()))}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=Nc(t),{params:i,result:n}=e;return this.domManager.addChild("canvas-proxy",i.id,n),n.classList.add(...i.classList,"ag-charts-proxy-container"),n.role=i.type,"ariaOrientation"in i&&(n.ariaOrientation=i.ariaOrientation),"boolean"===typeof i.ariaHidden&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(t){const e=Nc(t);if(wc("button",e)){const{params:t,result:i}=e;if(this.initInteract(t,i),i.style.pointerEvents="auto","string"===typeof t.textContent)i.textContent=t.textContent;else{const{textContent:e}=t;this.addLocalisation((()=>{i.textContent=this.localeManager.t(e.id,e.params)}))}this.setParent(t,i)}if(wc("slider",e)){const{params:t,result:i}=e;this.initInteract(t,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=t.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(t.ariaLabel.id,t.ariaLabel.params)})),this.setParent(t,i)}if(wc("text",e)){const{params:t,result:i}=e;this.initElement(t,i.getContainer()),this.setParent(t,i.getContainer())}if(wc("listswitch",e)){const{params:t,result:{button:i,listitem:n}}=e;this.initInteract(t,i),i.style.width="100%",i.style.height="100%",i.textContent=t.textContent,i.role="switch",i.ariaChecked=t.ariaChecked.toString(),i.style.pointerEvents="auto",i.setAttribute("aria-describedby",t.ariaDescribedBy),n.role="listitem",n.style.position="absolute",n.replaceChildren(i),this.setParent(t,n)}return e.result}initElement(t,e){const{id:i}=t;e.id=i,e.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(t,e){const{onclick:i,ondblclick:n,onmouseenter:a,onmouseleave:o,oncontextmenu:r,onchange:s,onfocus:l,onblur:c,tabIndex:u}=t;this.initElement(t,e),void 0!==u&&(e.tabIndex=u),i&&e.addEventListener("click",i),n&&e.addEventListener("dblclick",n),a&&e.addEventListener("mouseenter",a),o&&e.addEventListener("mouseleave",o),r&&e.addEventListener("contextmenu",r),l&&e.addEventListener("focus",l),c&&e.addEventListener("blur",c),s&&e.addEventListener("change",s)}setParent(t,e){const{id:i,parent:n}=t;if("string"===typeof n){const t={where:n,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",i,e,t)}else n.appendChild(e)}},kc=/\$\{(\w+)}(?:\[(\w+)])?/gi,Ac={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Cc=class extends El{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:a=ft,getLocaleText:o}=this,r=a[t];return null!==(e=null!==(i=null===o||void 0===o?void 0:o({key:t,defaultValue:r,variables:n}))&&void 0!==i?i:(t=>{let{defaultValue:e,variables:i}=t;return null===e||void 0===e?void 0:e.replaceAll(kc,((t,e,n)=>{const a=i[e],o=null!=n?Ac[n]:null;return null!=n&&null==o&&St.warnOnce("Format style [".concat(n,"] is not supported")),null!=o?o.format(a):"number"===typeof a?Ac.number.format(a):a instanceof Date?Ac.datetime.format(a):String(a)}))})({key:t,defaultValue:r,variables:n}))&&void 0!==e?e:t}};var Tc=class t{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:a,canvasElement:o,willReadFrequently:r=!1}=e;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const t=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(null==t)return!1;const[e,i]=t[1].split("_").map(Number);return e<16||16===e&&i<6}()?1:null!==a&&void 0!==a?a:Se("devicePixelRatio"),this.element=null!==o&&void 0!==o?o:Ie("canvas"),this.element.style.display="block",this.element.style.width=(null!==i&&void 0!==i?i:this.width)+"px",this.element.style.height=(null!==n&&void 0!==n?n:this.height)+"px",this.element.width=Math.round((null!==i&&void 0!==i?i:this.width)*this.pixelRatio),this.element.height=Math.round((null!==n&&void 0!==n?n:this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(null!==i&&void 0!==i?i:0,null!==n&&void 0!==n?n:0),t.debugContext(this.context)}static is(e){return e instanceof t}drawImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e){if(!(t>0&&e>0))return;const{element:i,context:n,pixelRatio:a}=this;i.width=Math.round(t*a),i.height=Math.round(e*a),n.setTransform(a,0,0,a,0,0),i.style.width=t+"px",i.style.height=e+"px",this.width=t,this.height=e}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(jo.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: ".concat(n))}})}}};gt([zr((t=>t.onEnabledChange()))],Tc.prototype,"enabled",2);var Ec=Tc,Rc=class t{constructor(t,e){this.canvas=t,this.markDirty=e,this.debug=jo.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,e){var i,n;return fo([t.zIndex,...null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],t.id],[e.zIndex,...null!==(n=e.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],e.id],po)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(t.sortLayers).forEach(e)}resize(t,e){this.canvas.resize(t,e),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(t,e)}))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{zIndex:a=this.nextZIndex++,name:o,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l}=t,c=new Ec({width:e,height:i,pixelRatio:n});return a>=this.nextZIndex&&(this.nextZIndex=a+1),this.layersMap.set(c,{id:this.nextLayerId++,name:o,canvas:c,zIndex:a,zIndexSubOrder:r,getComputedOpacity:s,getVisibility:l}),this.debug("Scene.addLayer() - layers",this.layersMap),c}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,e,i){const n=this.layersMap.get(t);n&&(n.zIndex=e,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}},Oc=class t{constructor(){this.offscreenCanvas="undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(0,0):Ie("canvas"),t.offscreenCanvasCount++;const e=this.offscreenCanvas.getContext("2d");if(null==e)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:e,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize(t){let{spritePixelRatio:e,spriteWidth:i,spriteHeight:n}=t;this.offscreenCanvas.width=Math.max(i,0)*e,this.offscreenCanvas.height=Math.max(n,0)*e}renderSprite(t,e){var i;t=fe(t);const{renderCtx:n,renderCtx:{ctx:a},offscreenCanvas:o}=this,{scale:r=1,translateX:s=0,translateY:l=0}=null!==e&&void 0!==e?e:{};a.resetTransform(),a.clearRect(0,0,o.width,o.height),a.save(),a.beginPath(),a.setTransform(r,0,0,r,s,l);for(const u of t)u.preRender(),u.render(n);if(a.closePath(),a.restore(),"transferToImageBitmap"in this.offscreenCanvas)return this.offscreenCanvas.transferToImageBitmap();const c=Ie("canvas");return c.style.display="block",c.style.width=o.width+"px",c.style.height=o.height+"px",null===(i=c.getContext("2d"))||void 0===i||i.putImageData(a.getImageData(0,0,o.width,o.height),0,0),c}};Oc.offscreenCanvasCount=0;var zc=Oc;function jc(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:We.zero;if(!jo.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:s=0,nodesRendered:l=0,nodesSkipped:c=0}=null!==n&&void 0!==n?n:{},u=performance.now(),{start:d}=e,h=z(e,F),p=Object.entries(h).map((t=>{let[e,i]=t;return Yc(e,i)})).filter((t=>null!=t)).join(" + "),g=Object.entries(a).map((t=>{let[e,i]=t;return"".concat(e,": ").concat(i)})).join(" ; "),f=jo.check("scene:stats:verbose"),y=["".concat(Yc("\u23f1\ufe0f",d,u)," (").concat(p,")"),"".concat(g),"Layers: ".concat(f?_c(r,s):t.size,"; Sprites: ").concat(zc.offscreenCanvasCount),f?"Nodes: ".concat(_c(l,c)):null].filter(Si),m=new pr((t=>i.measureText(t))),v=new Map(y.map((t=>[t,m.measureLines(t)]))),x=Math.max(...Array.from(v.values(),(t=>t.width))),b=function(t,e){let i=0;for(const n of t)i+=e(n);return i}(v.values(),(t=>t.height)),M=2+o.x;i.save(),i.fillStyle="white",i.fillRect(M,0,x,b),i.fillStyle="black";let S=0;for(const[I,D]of v.entries())S+=D.height,i.fillText(I,M,S);i.restore()}var Pc=new Set,Bc=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Fc(t){const e=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));for(const i in e)Bc.has(i)||"number"!==typeof e[i]&&"string"!==typeof e[i]&&"boolean"!==typeof e[i]&&(Pc.add(i),delete e[i]);return e}function Gc(t,e){var i;if(!jo.check(!0,"scene"))return{};const{parentNode:n}=t;let a=0;return O(O({node:"json"===e?Fc(t):t,name:null!==(i=t.name)&&void 0!==i?i:t.id,dirty:Ze[t.dirty]},null!==n&&void 0!==n&&n.isVirtual?{virtualParentDirty:Ze[n.dirty],virtualParent:n}:{}),Array.from(t.children(!1),(t=>Gc(t,e))).reduce(((t,e)=>{var i;let{name:n}=e;const{node:{visible:o,opacity:r,zIndex:s,zIndexSubOrder:l,translationX:c,translationY:u,rotation:d,scalingX:h,scalingY:p},node:g,virtualParent:f}=e;(!o||r<=0)&&(n="(".concat(n,")")),is.is(g)&&(n="*".concat(n,"*"));const y=null===l||void 0===l?void 0:l.map((t=>"function"===typeof t?"".concat(t()," (fn)"):t)).join(" / "),m=["".concat((a++).toString().padStart(3,"0"),"|"),"".concat(null!==(i=n)&&void 0!==i?i:"<unknown>"),"z: ".concat(s),y&&"zo: ".concat(y),f&&"(virtual parent)",c&&"x: ".concat(c),u&&"y: ".concat(u),d&&"r: ".concat(d),null!=h&&1!==h&&"sx: ".concat(h),null!=p&&1!==p&&"sy: ".concat(p)].filter((t=>!!t)).join(" ");let v=m,x=1;for(;null!=t[v]&&x<100;)v="".concat(m," (").concat(x++,")");return t[v]=e,t}),{}))}function Uc(t){var e;if(0===t.dirty)return{dirtyTree:{},paths:[]};const i=Array.from(t.children(),(t=>Uc(t))).filter((t=>t.paths.length>0)),n=Co.is(t)&&null!==(e=t.name)&&void 0!==e?e:t.id,a=i.length?i.flatMap((t=>t.paths)).map((t=>"".concat(n,".").concat(t))):[n];return{dirtyTree:O({name:n,node:t,dirty:Ze[t.dirty]},i.map((t=>t.dirtyTree)).filter((t=>null!=t.dirty)).reduce(((t,e)=>{var i;return t[null!==(i=e.name)&&void 0!==i?i:"<unknown>"]=e,t}),{})),paths:a}}function _c(t,e){const i=t+e;return"".concat(t," / ").concat(i," (").concat(Math.round(100*t/i),"%)")}function Yc(t,e,i){const n=null!=i?i-e:e;return"".concat(t,": ").concat(Math.round(100*n)/100,"ms")}var Vc=class{constructor(t){this.debug=jo.create(!0,"scene"),this.id=he(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new Ec(t),this.layersManager=new Rc(this.canvas,(()=>{this.isDirty=!0}))}get width(){var t,e;return null!==(t=null===(e=this.pendingSize)||void 0===e?void 0:e[0])&&void 0!==t?t:this.canvas.width}get height(){var t,e;return null!==(t=null===(e=this.pendingSize)||void 0===e?void 0:e[1])&&void 0!==t?t:this.canvas.height}setContainer(t){var e;const{element:i}=this.canvas;return null===(e=i.parentElement)||void 0===e||e.removeChild(i),t.appendChild(i),this}setRoot(t){var e;return this.root===t||(this.isDirty=!0,null===(e=this.root)||void 0===e||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager))),this}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return null===(e=this.root)||void 0===e||e.appendChild(t),this}removeChild(t){var e;return null===(e=this.root)||void 0===e||e.removeChild(t),this}download(t,e){var i;we(this.canvas.toDataURL(e),null!==(i=null===t||void 0===t?void 0:t.trim())&&void 0!==i?i:"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.isDirty=!0,!0)}async render(t){var e,i;const{debugSplitTimes:n={start:performance.now()},extraDebugStats:a,seriesRect:o}=null!==t&&void 0!==t?t:{},{canvas:r,canvas:{context:s}={},root:l,pendingSize:c}=this;if(!s)return;const u=performance.now();if(c&&(this.layersManager.resize(...c),this.pendingSize=null),l&&!l.visible)return void(this.isDirty=!1);if(l&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Ze[l.dirty],tree:Gc(l,"console")}),void jc(this.layersManager,n,s,void 0,a,o);const d={ctx:s,devicePixelRatio:null!==(e=this.canvas.pixelRatio)&&void 0!==e?e:1,forceRender:!0,resized:Boolean(c),debugNodes:{}};jo.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),function(t){const e=pn(Se("agChartsSceneDebug")),i=[];for(const n of e)"layout"===n?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);t.debugNodeSearch=i}(d);let h=!1;if((!l||l.dirty>=1)&&(h=!0,r.clear()),l&&jo.check("scene:dirtyTree")){const{dirtyTree:t,paths:e}=Uc(l);jo.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:t,paths:e})}if(l&&h){if(l.visible&&l.preRender(),this.debug.check()){const t=Gc(l,"console");this.debug("Scene.render() - before",{redrawType:Ze[l.dirty],canvasCleared:h,tree:t})}l.visible&&(s.save(),l.render(d),s.restore())}if(n["\u270d\ufe0f"]=performance.now()-u,this.layersManager.size&&h){const t=performance.now();s.save(),s.resetTransform(),this.layersManager.forEach((t=>{t.canvas.enabled&&t.getVisibility()&&(s.globalAlpha=t.getComputedOpacity(),t.canvas.drawImage(s))})),s.restore(),n["\u26d9"]=performance.now()-t}null===(i=s.verifyDepthZero)||void 0===i||i.call(s),this.isDirty=!1,jc(this.layersManager,n,s,d.stats,a,o),function(t,e){t.save();for(const[i,n]of Object.entries(e)){const e=ko.toCanvas(n);e?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(e.x,e.y,e.width,e.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,e.x,e.y,e.width),t.fillText(i,e.x,e.y,e.width)):St.log("Scene.render() - no bbox for debugged node [".concat(i,"]."))}t.restore()}(s,d.debugNodes),l&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Ze[l.dirty],tree:Gc(l,"console"),canvasCleared:h})}toSVG(){var t;const e=null===(t=this.root)||void 0===t?void 0:t.toSVG();if(null==e)return;const i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i.setAttribute("width",String(this.width)),i.setAttribute("height",String(this.height)),null!=e.defs){const t=document.createElementNS("http://www.w3.org/2000/svg","defs");t.append(...e.defs),i.append(t)}return i.append(...e.elements),i.outerHTML}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Vc.className="Scene";var Wc=class{constructor(){this.cache=new WeakMap}call(t){let e,i=this.cache.get(t);for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];try{e=JSON.stringify(a)}catch(r){return this.invoke(t,a,i)}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(e)?i.get(e):this.invoke(t,a,i,e)}invoke(t,e,i,n){try{const a=t(...e);return i&&null!=n&&i.set(n,a),a}catch(a){return void St.warnOnce("User callback errored, ignoring",a)}}invalidateCache(){this.cache=new WeakMap}},Zc=class extends Rl{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return pi(t)}restoreMemento(t,e,i){this.annotations=this.cleanData(i).map((t=>Ei(t,this.getAnnotationTypeStyles(t.type)))),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(null!==t&&void 0!==t?t:[])}attachNode(t){return this.annotationRoot.append(t),()=>{var e;return null===(e=this.annotationRoot)||void 0===e||e.removeChild(t),this}}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){var e;return null===(e=this.styles)||void 0===e?void 0:e[t]}cleanData(t){for(const e of t)"textAlign"in e&&delete e.textAlign;return t}},Hc=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new is({name:"Axes-Grids",zIndex:1}),this.axisGroup=new is({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(t,e){for(const n of t)e.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(const n of e)null!==t&&void 0!==t&&t.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const n of e){const t=n.createAxisContext();var i;if(this.axes.has(t.direction))null===(i=this.axes.get(t.direction))||void 0===i||i.push(t);else this.axes.set(t.direction,[t])}}getAxisContext(t){var e;return null!==(e=this.axes.get(t))&&void 0!==e?e:[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Kc=class extends El{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=jo.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){"function"===typeof t&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return Mt((t=>this.fetch(t)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return Mt(((t,e)=>{this.debug("DataService - dispatching 'data-load' | ".concat(t)),this.dispatch("data-load",{type:"data-load",data:e})}),t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;let n;this.debug("DataService - requesting | ".concat(i)),this.freshRequests.push(i);try{n=await this.dataSourceCallback(t),this.debug("DataService - response | ".concat(performance.now()-e,"ms | ").concat(i))}catch(o){this.debug("DataService - request failed | ".concat(i)),St.errorOnce("DataService - request failed | [".concat(o,"]"))}this.isLoadingInitialData=!1;const a=this.freshRequests.findIndex((t=>t===i));-1===a||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?this.debug("DataService - discarding stale request | ".concat(i)):(this.freshRequests=this.freshRequests.slice(a+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};gt([Or({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],Kc.prototype,"dispatchThrottle",2),gt([Or({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],Kc.prototype,"requestThrottle",2);var Qc=class{constructor(t){this.maxAnimationTime=t,this.debug=jo.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Xi.map((t=>[t,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){var t;return null!==(t=this.phases.get(Xi[this.currentPhase]))&&void 0!==t?t:[]}checkOverlappingId(t){null!=t&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug("Skipping animation batch due to update of existing animation: ".concat(t)),this.skip())}addAnimation(t){var e;if(t.isComplete)return;if(Xi.indexOf(t.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",t.id),void t.stop();this.controllers.set(t.id,t),null===(e=this.phases.get(t.phase))||void 0===e||e.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=null===e||void 0===e?void 0:e.indexOf(t);null!=i&&i>=0&&(null===e||void 0===e||e.splice(i,1))}progress(t){var e;if(!this.isReady)return;let i=0===t?.01:t;const n=()=>{const t=Xi[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:t,phaseMeta:Ji[t]}};let{phase:a,phaseControllers:o,phaseMeta:r}=n();const s=()=>null==Xi[this.currentPhase],l=()=>{for(({phase:a,phaseControllers:o,phaseMeta:r}=n());!s()&&0===o.length;)this.currentPhase++,({phase:a,phaseControllers:o,phaseMeta:r}=n()),this.debug("AnimationBatch - phase changing to ".concat(a),{unusedTime:i},o)},c=this.controllers.size;this.debug("AnimationBatch - ".concat(t,"ms; phase ").concat(a," with ").concat(null===(e=o)||void 0===e?void 0:e.length," of ").concat(c));do{const t=i,e=r.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const a of o)e?a.stop():i=Math.min(a.update(t),i),a.isComplete&&(n++,this.removeAnimation(a));this.animationTimeConsumed+=t-i,this.debug("AnimationBatch - updated ".concat(o.length," controllers; ").concat(n," completed")),this.debug("AnimationBatch - animationTimeConsumed: ".concat(this.animationTimeConsumed)),l()}while(i>0&&!s());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug("AnimationBatch - ready; skipped: ".concat(this.skipAnimations),[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&!0!==Ji[e.phase].skipIfNoEarlierAnimations){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===t){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}pause(){for(const t of this.controllers.values())t.pause()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){St.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(t){if(null!=t&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach((t=>t())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function Xc(t){const e=O(O({},t),{},{preventDefault(){var t;null===(t=e.sourceEvent)||void 0===t||t.preventDefault()}});return e}function Jc(t,e){t.dispatchWrapHandlers(e.type,((t,e)=>t(e)),Xc(e))}var qc=["drag-start","drag","drag-end"],$c=[...qc,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],tu=["blur","focus"],eu=["keydown","keyup"],iu=["mousemove","mouseup"],nu=["pagehide","mousemove","mouseup"],au=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"];var ou=class t extends zl{constructor(t,e){super(),this.keyboardOptions=t,this.domManager=e,this.debug=jo.create(!0,"interaction"),this.eventHandler=t=>this.processEvent(t),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(const i of au)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of nu)Se().addEventListener(i,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.domManager.getShadowDocumentRoot();if(t||e!==this.rootElement){for(const t of iu){var i;null===(i=this.rootElement)||void 0===i||i.removeEventListener(t,this.eventHandler)}this.rootElement=e,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const t of iu){var n;null===(n=this.rootElement)||void 0===n||n.addEventListener(t,this.eventHandler)}}}destroy(){super.destroy();for(const e of nu)Se().removeEventListener(e,this.eventHandler);for(const e of iu){var t;null===(t=this.rootElement)||void 0===t||t.removeEventListener(e,this.eventHandler)}for(const e of au)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){this.debug("Received raw event",t);let e=this.decideInteractionEventTypes(t);null==e||Array.isArray(e)||(e=[e]);for(const n of null!==(i=e)&&void 0!==i?i:[]){var i;this.dispatchEvent(t,n).catch((t=>St.errorOnce(t)))}}async dispatchEvent(t,e){if(function(t){return $c.includes(t)}(e))return void this.dispatchPointerEvent(t,e);const{relatedElement:i,targetElement:n}=this.extractElements(t);if(function(t){return tu.includes(t)}(e)){const a=t;this.dispatchTypedEvent(this.listeners,{type:e,sourceEvent:a,relatedElement:i,targetElement:n})}else if(function(t){return eu.includes(t)}(e)){const a=t;this.dispatchTypedEvent(this.listeners,{type:e,sourceEvent:a,relatedElement:i,targetElement:n})}}dispatchTypedEvent(t,e){const i=Xc(e);this.debug("Dispatching typed event",i,this.getState()),t.dispatchWrapHandlers(e.type,((t,e)=>t(e)),i)}extractElements(t){let e,i;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(e=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(i=t.target),{relatedElement:e,targetElement:i}}dispatchPointerEvent(t,e){const i=this.calculateCoordinates(t);if(null==i)return;const n=this.buildPointerEvent(O({type:e,event:t},i));this.debug("Dispatching pointer event",n,this.getState()),Jc(this.listeners,n)}getEventHTMLTarget(t){return t.target instanceof HTMLElement?t.target:t.currentTarget instanceof HTMLElement?t.currentTarget:void 0}recordDown(t){t instanceof MouseEvent&&(Fi(["offsetX","offsetY"],this.clickHistory[0],t),Fi(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),Fi(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragPreStartElement=this.getEventHTMLTarget(t)}recordUp(t){return t instanceof MouseEvent&&Fi(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragPreStartElement=void 0,!!this.dragStartElement&&(this.dragStartElement=void 0,!0)}decideInteractionEventTypes(t){switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?t.type:void 0;case"dblclick":case"contextmenu":case"wheel":return t.type;case"mousedown":if(!this.isEventOverElement(t))return;return this.mouseDown=!0,void this.recordDown(t);case"touchstart":if(!this.isEventOverElement(t))return;return this.touchDown=!0,void this.recordDown(t);case"touchmove":case"mousemove":if(!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t))return;return this.mouseDown||this.touchDown?this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,["drag-start","drag"]):"hover";case"mouseup":if(!this.mouseDown&&!this.isEventOverElement(t))return;return this.mouseDown=!1,this.recordUp(t)?"drag-end":"click";case"touchend":if(!this.touchDown&&!this.isEventOverElement(t))return;return this.touchDown=!1,this.recordUp(t)?"drag-end":"click";case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(e){if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if("undefined"!==typeof TouchEvent&&e instanceof TouchEvent){var i;const n=null!==(i=e.touches[0])&&void 0!==i?i:e.changedTouches[0],{clientX:a,clientY:o,pageX:r,pageY:s}=n;return O(O({},t.NULL_COORDS),{},{clientX:a,clientY:o,pageX:r,pageY:s})}if(e instanceof PageTransitionEvent){if(e.persisted)return;return t.NULL_COORDS}}getMouseEventCoords(t){const{clientX:e,clientY:i,pageX:n,pageY:a}=t;let{offsetX:o,offsetY:r}=t;const s=this.getEventHTMLTarget(t),{x:l=0,y:c=0}=s?this.domManager.calculateCanvasPosition(s):{};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const t=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=t.x-l,r-=t.y-c}else o+=l,r+=c;return{clientX:e,clientY:i,pageX:n,pageY:a,offsetX:o,offsetY:r}}isWheelEvent(t){return"wheel"===t.type}buildPointerEvent(t){const{type:e,event:i,clientX:n,clientY:a}=t;let{offsetX:o,offsetY:r,pageX:s,pageY:l}=t;if(!Di(o)||!Di(r)){const t=this.domManager.getBoundingClientRect();o=n-t.left,r=a-t.top}if(!Di(s)||!Di(l)){var c,u,d;const t=null===(c=this.rootElement)||void 0===c?void 0:c.getBoundingClientRect();s=n-(null!==(u=null===t||void 0===t?void 0:t.left)&&void 0!==u?u:0),l=a-(null!==(d=null===t||void 0===t?void 0:t.top)&&void 0!==d?d:0)}let[h,p]=[NaN,NaN];if(this.isWheelEvent(i)){const t=0===i.deltaMode?.01:1;h=i.deltaX*t,p=i.deltaY*t}let g=[];"click"===i.type?g=this.clickHistory:"dblclick"===i.type&&(g=this.dblclickHistory);const{relatedElement:f,targetElement:y}=this.extractElements(i),m={type:e,offsetX:o,offsetY:r,pageX:s,pageY:l,deltaX:h,deltaY:p,button:"button"in i?Number(i.button):0,pointerHistory:g,sourceEvent:i,relatedElement:f,targetElement:y};return this.debug("InteractionManager - builtEvent: ",m,this.getState()),m}};ou.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var ru=ou;function su(t){return null==t||!isNaN(t)&&t>=0&&t<=2}var lu=class{constructor(t,e){this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new Qc(1.5*this.defaultDuration),this.debug=jo.create(!0,"animation"),this.events=new Ll,this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,e){return this.events.on(t,e)}animate(t){const e=this.batch;try{e.checkOverlappingId(t.id)}catch(s){return void this.failsafeOnError(s)}let{id:i}=t;null==i&&(i="__".concat(this.currentAnonymousAnimationId),this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||"none"===t.phase;n&&this.debug("AnimationManager - skipping animation");const{delay:a,duration:o}=t;if(!su(a))throw new Error("Animation delay of ".concat(a," is unsupported (").concat(i,")"));if(!su(o))throw new Error("Animation duration of ".concat(o," is unsupported (").concat(i,")"));const r=new en(O(O({},t),{},{id:i,skip:n,autoplay:!!this.isPlaying&&t.autoplay,phase:t.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(r,this.defaultDuration))return this.batch.addAnimation(r),r}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=Se().requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let t;const e=async i=>{const n=async()=>{var e;const n=i-(null!==(e=t)&&void 0!==e?e:i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:n}),this.interactionManager.pushState(2);try{this.batch.progress(n)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:n})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];St.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug("AnimationManager - startBatch() with skipAnimations=".concat(t,".")),this.reset(),this.batch.destroy(),this.batch=new Qc(1.5*this.defaultDuration),!0===t&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},cu=class extends Rl{legendItemClick(t,e,i,n){const a={type:"legend-item-click",series:t,itemId:e,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(t,e,i,n,a){const o={type:"legend-item-double-click",series:t,itemId:e,enabled:i,legendItemName:a,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",o)}axisHover(t,e){const i={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",i)}},uu=class t{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new El;const{Default:e,ContextMenu:i}=Ol;this.destroyFns=[t.listenAll("contextmenu",(t=>this.onContextMenu(t)),e|i)]}destroy(){this.destroyFns.forEach((t=>t()))}onContextMenu(e){"all"===t.toContextType(e.region)&&this.dispatchContext("all",e,{})}static toContextType(t){return"legend"===t||"series"===t?t:"all"}static check(t,e){return e.type===t}static checkCallback(t,e,i){return t===e}dispatchContext(t,e,i,n){var a,o;const{sourceEvent:r}=e,s=null!==(a=null===n||void 0===n?void 0:n.x)&&void 0!==a?a:e.offsetX,l=null!==(o=null===n||void 0===n?void 0:n.y)&&void 0!==o?o:e.offsetY;r.stopPropagation(),this.listeners.dispatch("",Xc({type:t,x:s,y:l,context:i,sourceEvent:r}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter((e=>e.id&&!this.hiddenActions.has(e.id)&&["all",t].includes(e.type)))}registerDefaultAction(t){const e=null!=t.id&&!this.defaultActions.some((e=>{let{id:i}=e;return i===t.id}));return e&&this.defaultActions.push(t),()=>{const i=e?this.defaultActions.findIndex((e=>{let{id:i}=e;return i===t.id})):-1;-1!==i&&this.defaultActions.splice(i,1)}}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}showAction(t){this.hiddenActions.add(t)}hideAction(t){this.hiddenActions.delete(t)}isDisabled(t){return this.disabledActions.has(t)}},du=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),"undefined"!==typeof e&&super.set(t,e),this}stateId(){var t;return null!==(t=Array.from(this.keys()).pop())&&void 0!==t?t:this.defaultState}stateValue(){var t;return null!==(t=Array.from(this.values()).pop())&&void 0!==t?t:this.defaultValue}},hu=(t=>(t.Auto="auto",t.Default="default",t.Grab="grab",t.Grabbing="grabbing",t.Move="move",t.NotAllowed="not-allowed",t.Pointer="pointer",t.EWResize="ew-resize",t.NSResize="ns-resize",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out",t))(hu||{}),pu=class{constructor(t){this.domManager=t,this.stateTracker=new du("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function gu(t,e){return Math.sqrt(function(t,e){const i=t.screenX-e.screenX,n=t.screenY-e.screenY;return i*i+n*n}(t,e))}var fu=class extends Rl{constructor(t){super(),this.domManager=t,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){const{touches:e}=t,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===e.length){if(e[0].identifier===i.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===i.identifier)return[e[1],e[0]]}}copyTouchData(t){const e=["identifier","screenX","screenY"];Fi(e,this.pinch.finger1,t.touches[0]),Fi(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=gu(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e,i){const{finger1:n,finger2:a,origin:o}=this.pinch;this.listeners.dispatch(t,Xc({sourceEvent:i,type:t,finger1:n,finger2:a,deltaDistance:e,origin:o}))}onTouchStart(t){this.stopPinchTracking(t);const{pinch:e}=this;2===t.touches.length&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){const e=this.findPinchTouches(t);if(void 0!==e){const[i,n]=e,{pinch:a}=this,o=gu(i,n),r=o-a.distance;1===a.status?Math.abs(r)>1&&(a.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0,t)):2===a.status?(a.distance=o,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",r,t)):St.error("unexpected pinch.status: ".concat(a.status))}}onTouchEnd(t){this.stopPinchTracking(t)}onTouchCancel(t){this.stopPinchTracking(t)}stopPinchTracking(t){const{pinch:e}=this;2===e.status&&this.dispatchPinchEvent("pinch-end",0,t),this.pinch.status=0}},yu=class extends Rl{constructor(){super(...arguments),this.highlightStates=new du}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||null!=t&&null!=e&&(null===t||void 0===t?void 0:t.series)===(null===e||void 0===e?void 0:e.series)&&(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.itemId)&&(null===t||void 0===t?void 0:t.datum)===(null===e||void 0===e?void 0:e.datum)}},mu=class extends zl{constructor(t,e,i){super(),this.focusIndicator=t,this.interactionManager=e,this.previousInputDevice="keyboard";this.destroyFns.push(e.addListener("click",(()=>this.onClick()),41),e.addListener("hover",(()=>this.onMouse()),41),e.addListener("drag-start",(()=>this.onMouse()),41),e.addListener("blur",(t=>this.onBlur(t)),63),e.addListener("focus",(t=>this.onFocus(t)),63),e.addListener("keydown",(t=>this.onKeyDown(t)),63)),this.focusIndicator.overrideFocusVisible("integrated"!==i&&void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(t){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,t)}onFocus(t){this.dispatch("focus",0,t)}onKeyDown(t){const e=this.getState(),{key:i,code:n,altKey:a,shiftKey:o,metaKey:r,ctrlKey:s}=t.sourceEvent;if(s||r){if("y"===i||"z"===i&&o)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("redo",0,t);if("z"===i)return this.focusIndicator.overrideFocusVisible("keyboard"===this.previousInputDevice),this.dispatch("undo",0,t)}if(9&e)this.focusIndicator.overrideFocusVisible(!1);else{switch(i){case"+":return this.dispatch("nav-zoom",1,t);case"-":return this.dispatch("nav-zoom",-1,t)}if(!(a||o||r||s))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,t);case"ArrowUp":return this.dispatch("nav-vert",-1,t);case"ArrowLeft":return this.dispatch("nav-hori",-1,t);case"ArrowRight":return this.dispatch("nav-hori",1,t);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,t);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,t);case"Space":case"Enter":return this.dispatch("submit",0,t)}}}dispatch(t,e,i){const{previousInputDevice:n}=this;Jc(this.listeners,{type:t,delta:e,sourceEvent:i,previousInputDevice:n});"keydown"!==i.type||["redo","undo","nav-zoom"].includes(t)||(this.previousInputDevice="keyboard")}},vu=(t=>(t.NAVIGATOR="navigator",t.ROOT="root",t.SERIES="series",t.HORIZONTAL_AXES="horizontal-axes",t.VERTICAL_AXES="vertical-axes",t))(vu||{}),xu=class{constructor(t,e){this.node=t,this.overrideId=e}get id(){var t;return null!==(t=this.overrideId)&&void 0!==t?t:this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return ko.toCanvas(this.node)}fromCanvasPoint(t,e){return ko.fromCanvasPoint(this.node,t,e)}},bu=class extends xu{constructor(t,e,i){super(t,i),this.bboxFn=e}toCanvasBBox(){return this.bboxFn()}},Mu=class extends El{};function Su(t,e,i,n){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32;return null!==(a=null===t||void 0===t?void 0:t.addListener(i,(t=>{e.getState()&o&&n(t)})))&&void 0!==a?a:()=>{}}function Iu(t){return t instanceof Je?new xu(t):t instanceof xu?t:new xu(t.node,t.id)}function Du(t){var e;const{type:i,sourceEvent:n}=t,{id:a,className:o,classList:r,ariaHidden:s}=null!==(e=null===n||void 0===n?void 0:n.target)&&void 0!==e?e:{};if(!(r instanceof DOMTokenList))return"leave";const l=qc;return r.contains("ag-charts-annotations__axis-button-icon")&&!l.includes(i)||"ag-charts-series-area"===o||"ag-charts-canvas-proxy"===o||"ag-charts-proxy-elem"===o&&(null===a||void 0===a||!a.toString().startsWith("ag-charts-legend-item-"))||(null===n||void 0===n?void 0:n.target)instanceof HTMLCanvasElement?"none":function(t){if(null==t||!(t instanceof HTMLElement))return;let e=t;for(;null!=e&&(null===(i=e)||void 0===i||!i.classList.contains("ag-charts-wrapper"));){var i;if(e.classList.contains("ag-chart-tooltip"))return e;e=e.parentElement}}(n.target)&&"true"!==s?"wait":"leave"}var wu=class{constructor(t){this.interactionManager=t,this.debug=jo.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new Mu,this.destroyFns.push(...$c.map((e=>t.addListener(e,this.processPointerEvent.bind(this),63))))}destroy(){this.destroyFns.forEach((t=>t())),this.current=void 0;for(const t of this.regions.values())t.listeners.destroy();this.regions.clear()}addRegion(t){if(this.regions.has(t))throw new Error("AG Charts - Region: ".concat(t," already exists"));for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const a={properties:{name:t,bboxproviders:i.map(Iu)},listeners:new Mu};return this.regions.set(t,a),this.makeObserver(a)}updateRegion(t){const e=this.regions.get(t);if(!e)throw new Error("AG Charts - unknown region: "+t);for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];e.properties.bboxproviders=n.map(Iu)}getRegion(t){return this.makeObserver(this.regions.get(t))}listenAll(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return Su(this.allRegionsListeners,this.interactionManager,t,e,i)}makeObserver(t){const{interactionManager:e}=this;return new class{addListener(i,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return Su(null===t||void 0===t?void 0:t.listeners,e,i,n,a)}}}checkPointerHistory(t,e){for(const n of e.pointerHistory){var i;const{region:e}=null!==(i=this.pickRegion(n.offsetX,n.offsetY))&&void 0!==i?i:{};if(t.properties.name!==(null===e||void 0===e?void 0:e.properties.name))return!1}return!0}dispatch(t,e){var i;if(null==t)return;const n=t.region.properties.bboxproviders[0];let a=0,o=0;if("offsetX"in e&&"offsetY"in e)({x:a,y:o}=n.fromCanvasPoint(e.offsetX,e.offsetY));else{const t=n.toCanvasBBox();a=t.width/2,o=t.height/2}const r=Xc(O(O({},e),{},{region:t.region.properties.name,bboxProviderId:null===(i=t.bboxProvider)||void 0===i?void 0:i.id,regionOffsetX:a,regionOffsetY:o}));this.debug("Dispatching region event: ",r),this.allRegionsListeners.dispatch(r.type,r),t.region.listeners.dispatch(r.type,r)}handleDragging(t){const{current:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,O(O({},t),{},{type:"leave"})),!0}return!1}processPointerEvent(t){var e;if(this.handleDragging(t))return;const{current:i}=this;let n;switch(Du(t)){case"wait":return;case"none":n=this.pickRegion(t.offsetX,t.offsetY);break;case"leave":n=void 0}const a=null===(e=n)||void 0===e?void 0:e.region;void 0!==i&&(null===a||void 0===a?void 0:a.properties.name)!==i.region.properties.name&&this.dispatch(i,O(O({},t),{},{type:"leave"})),void 0!==a&&a.properties.name!==(null===i||void 0===i?void 0:i.region.properties.name)&&this.dispatch(n,O(O({},t),{},{type:"enter"})),void 0!==a&&this.checkPointerHistory(a,t)&&this.dispatch(n,t),this.current=n}pickRegion(t,e){let i,n,a=1/0;for(const o of this.regions.values())for(const r of o.properties.bboxproviders){if(!1===r.visible)continue;const s=r.toCanvasBBox(),l=s.width*s.height;l<a&&s.containsPoint(t,e)&&(a=l,i=o,n=r)}return i?{region:i,bboxProvider:n}:void 0}},Nu=["start","center","end"],Lu=["seriesType","annotations","annotationOptions","ranges","zoom"],ku={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},Au=(t=>(t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t.Floating="floating",t.FloatingTop="floating-top",t.FloatingBottom="floating-bottom",t))(Au||{}),Cu=Object.values(Au);function Tu(t){return["floating-top","floating-bottom"].includes(t)}var Eu=class extends Rl{static isGroup(t,e){return e.group===t}static isChildElement(t,e){for(const i of Cu)if(t.isManagedChildDOMElement(e,"canvas-overlay","toolbar-".concat(i)))return!0;return!1}pressButton(t,e,i,n,a){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:t,id:e,value:i,rect:n,sourceEvent:a})}cancel(t){this.listeners.dispatch("cancelled",{type:"cancelled",group:t})}toggleButton(t,e,i){const{active:n=!1,enabled:a=!0,visible:o=!0,checked:r=!1}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:t,id:e,active:n,enabled:a,visible:o,checked:r})}updateButton(t,e,i){this.listeners.dispatch("button-updated",O({type:"button-updated",group:t,id:e},i))}toggleGroup(t,e,i){const{active:n,visible:a}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:t,group:e,active:n,visible:a})}updateGroup(t){this.listeners.dispatch("group-updated",{type:"group-updated",group:t})}groupMoved(t){this.listeners.dispatch("group-moved",{type:"group-moved",group:t})}changeFloatingAnchor(t,e){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:t,anchor:e})}buttonMoved(t,e,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:t,value:e,rect:i,groupRect:n})}proxyGroupOptions(t,e,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:t,group:e,options:i})}},Ru=class{constructor(t,e){this.domManager=t,this.tooltip=e,this.stateTracker=new du,this.suppressState=new du(!1),this.appliedState=null,e.setup(t),t.addListener("hidden",(()=>this.tooltip.toggle(!1)))}updateTooltip(t,e,i){var n,a;this.tooltip.enabled&&(null!==(n=i)&&void 0!==n||(i=null===(a=this.stateTracker.get(t))||void 0===a?void 0:a.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}getTooltipMeta(t){var e;return null===(e=this.stateTracker.get(t))||void 0===e?void 0:e.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var t;const e=this.stateTracker.stateId(),i=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||null==(null===i||void 0===i?void 0:i.meta)||null==(null===i||void 0===i?void 0:i.content))return this.appliedState=null,void this.tooltip.toggle(!1);const n=this.domManager.getBoundingClientRect(),a="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():n;if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===(null===i||void 0===i?void 0:i.content)){const t=this.tooltip.isVisible();this.tooltip.show(a,n,null===i||void 0===i?void 0:i.meta,null,t)}else this.tooltip.show(a,n,null===i||void 0===i?void 0:i.meta,null===i||void 0===i?void 0:i.content);this.appliedState=i}static makeTooltipMeta(t,e){var i,n,a,o,r,s,l;const{offsetX:c,offsetY:u}=t,d=e.series.properties.tooltip,h={offsetX:c,offsetY:u,enableInteraction:null!==(i=null===(n=d.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,lastPointerEvent:{type:t.type,offsetX:c,offsetY:u},showArrow:d.showArrow,position:{type:d.position.type,xOffset:d.position.xOffset,yOffset:d.position.yOffset}},p=null!==(a=null!==(o=null===(r=e.yBar)||void 0===r?void 0:r.upperPoint)&&void 0!==o?o:e.midPoint)&&void 0!==a?a:null===(s=(l=e.series).datumMidPoint)||void 0===s?void 0:s.call(l,e);if(("node"===d.position.type||"sparkline"===d.position.type)&&p){const{x:t,y:i}=p,n=ko.toCanvasPoint(e.series.contentGroup,t,i);return O(O({},h),{},{offsetX:Math.round(n.x),offsetY:Math.round(n.y)})}return h}},Ou=class extends Rl{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new du(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(t){this.destroyFns.push(t.addListener("layout:complete",(t=>{this.axes=t.axes})))}createMemento(){const t=this.getDefinedZoom();return{rangeX:this.getRangeDirection(t,"x"),rangeY:this.getRangeDirection(t,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max}}}guardMemento(t){return xi(t)&&(null!=t.ratioX||null!=t.ratioY||null!=t.rangeX||null!=t.rangeY)}restoreMemento(t,e,i){this.listeners.dispatch("restore-zoom",O(O({},i),{},{type:"restore-zoom"}))}updateAxes(t){const e=new Map(t.map((t=>[t.id,this.axisZoomManagers.get(t.id)])));this.axisZoomManagers.clear();for(const n of t){var i;this.axisZoomManagers.set(n.id,null!==(i=e.get(n.id))&&void 0!==i?i:new zu(n))}this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(t,n),0!==this.axisZoomManagers.size)this.state.set(t,e),this.axisZoomManagers.forEach((i=>{i.updateZoom(t,null===e||void 0===e?void 0:e[i.getDirection()])})),this.applyChanges(t);else{const o=this.state.stateId();var a;"initial"===o||o===t||i?(this.state.set(t,e),o!==t&&(null===(a=this.rejectCallbacks.get(o))||void 0===a||a(t))):null===n||void 0===n||n(o)}}updateAxisZoom(t,e,i){var n;null===(n=this.axisZoomManagers.get(e))||void 0===n||n.updateZoom(t,i),this.applyChanges(t)}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}getZoom(){let t,e;if(this.axisZoomManagers.forEach((i=>{var n;if("x"===i.getDirection())null!==(n=t)&&void 0!==n||(t=i.getZoom());else if("y"===i.getDirection()){var a;null!==(a=e)&&void 0!==a||(e=i.getZoom())}})),t||e)return{x:t,y:e}}getAxisZoom(t){var e,i;return null!==(e=null===(i=this.axisZoomManagers.get(t))||void 0===i?void 0:i.getZoom())&&void 0!==e?e:{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}applyChanges(t){if(!Array.from(this.axisZoomManagers.values(),(t=>t.applyChanges())).some(Boolean))return;const e={};for(const[i,n]of this.axisZoomManagers.entries())e[i]=n.getZoom();this.listeners.dispatch("zoom-change",O(O({type:"zoom-change"},this.getZoom()),{},{axes:e,callerId:t}))}getRangeDirection(t,e){for(const m of null!==(i=this.axes)&&void 0!==i?i:[]){var i,n,a,o,r,s,l;if(m.direction!==e)continue;const v=null===(n=(a=m.scale).getDomain)||void 0===n?void 0:n.call(a),x=null===(o=(r=m.scale).convert)||void 0===o?void 0:o.call(r,null===v||void 0===v?void 0:v.at(0)),b=null===(s=(l=m.scale).convert)||void 0===s?void 0:s.call(l,null===v||void 0===v?void 0:v.at(-1));if(!Di(x)||!Di(b))return;let M,S;if(x<=b){var c,u,d,h;const i=b-x;M=null===(c=(u=m.scale).invert)||void 0===c?void 0:c.call(u,0),S=null===(d=(h=m.scale).invert)||void 0===d?void 0:d.call(h,x+i*t[e].max)}else{var p,g,f,y;const i=x-b;M=null===(p=(g=m.scale).invert)||void 0===p?void 0:p.call(g,x-i*t[e].min),S=null===(f=(y=m.scale).invert)||void 0===f?void 0:f.call(y,0)}return{start:M,end:S}}}getDefinedZoom(){var t,e,i,n,a,o,r,s;const l=this.getZoom();return{x:{min:null!==(t=null===l||void 0===l||null===(e=l.x)||void 0===e?void 0:e.min)&&void 0!==t?t:0,max:null!==(i=null===l||void 0===l||null===(n=l.x)||void 0===n?void 0:n.max)&&void 0!==i?i:1},y:{min:null!==(a=null===l||void 0===l||null===(o=l.y)||void 0===o?void 0:o.min)&&void 0!==a?a:0,max:null!==(r=null===l||void 0===l||null===(s=l.y)||void 0===s?void 0:s.max)&&void 0!==r?r:1}}}},zu=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new du({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return wr(this.state.stateValue())}applyChanges(){const t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},ju=class{constructor(){this.groups={}}registerSeries(t){var e;let{internalId:i,seriesGrouping:n,visible:a,type:o}=t;var r;n&&(null!==(e=(r=this.groups)[o])&&void 0!==e||(r[o]={}),this.groups[o][i]={grouping:n,visible:a})}updateSeries(t){var e;let{internalId:i,seriesGrouping:n,visible:a,type:o}=t;if(!n)return;const r=null===(e=this.groups[o])||void 0===e?void 0:e[i];r&&(r.grouping=n,r.visible=a)}deregisterSeries(t){let{internalId:e,type:i}=t;this.groups[i]&&delete this.groups[i][e],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(t){let{type:e,seriesGrouping:i,visible:n}=t;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const a=new Set,o=new Set;for(const l of Object.values(null!==(r=this.groups[e])&&void 0!==r?r:{})){var r;l.visible&&(a.add(l.grouping.groupIndex),l.grouping.groupIndex===i.groupIndex&&o.add(l.grouping.stackIndex))}const s=Array.from(a);return s.sort(((t,e)=>t-e)),{visibleGroupCount:s.length,visibleSameStackCount:o.size,index:s.indexOf(i.groupIndex)}}},Pu=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(Pu||{}),Bu=class extends El{constructor(t){super(),this.updateCallback=t}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:null===t||void 0===t?void 0:t.minRect,minVisibleRect:null===t||void 0===t?void 0:t.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(t){this.dispatch("pre-scene-render",O({type:"pre-scene-render"},t))}},Fu=class{constructor(t,e){this.callbackCache=new Wc,this.chartEventManager=new cu,this.highlightManager=new yu,this.layoutManager=new Al,this.localeManager=new Cc,this.seriesStateManager=new ju,this.stateManager=new Ul,this.toolbarManager=new Eu,this.zoomManager=new Ou;const{scene:i,root:n,syncManager:a,container:o,updateCallback:r,updateMutex:s,pixelRatio:l,styleContainer:c}=e;this.chartService=t,this.syncManager=a,this.domManager=new lc(o,c);const u=this.domManager.addChild("canvas","scene-canvas",null===i||void 0===i?void 0:i.canvas.element);this.scene=null!==i&&void 0!==i?i:new Vc({pixelRatio:l,canvasElement:u}),this.scene.setRoot(n),this.axisManager=new Hc(n),this.annotationManager=new Zc(t.annotationRoot),this.cursorManager=new pu(this.domManager),this.interactionManager=new ru(t.keyboard,this.domManager),this.focusIndicator=new Ic(this.domManager),this.keyNavManager=new mu(this.focusIndicator,this.interactionManager,t.mode),this.regionManager=new wu(this.interactionManager),this.contextMenuRegistry=new uu(this.regionManager),this.gestureDetector=new fu(this.domManager),this.updateService=new Bu(r),this.proxyInteractionService=new Lc(this.localeManager,this.domManager),this.historyManager=new Fl(this.keyNavManager),this.animationManager=new lu(this.interactionManager,s),this.dataService=new Kc(this.animationManager),this.tooltipManager=new Ru(this.domManager,t.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}},Gu=class extends Tn{constructor(){super(...arguments),this.range="tooltip"}};gt([On(Na(["tooltip","node"],"a range"))],Gu.prototype,"range",2);var Uu=class t{constructor(){this.domain=new Set}static is(e){return e instanceof t}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},_u=class t{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof t}static extendDomain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of t)"number"===typeof i&&(e[0]>i&&(e[0]=i),e[1]<i&&(e[1]=i));return e}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function Yu(t){return t.map((t=>xi(t)?JSON.stringify(t):t)).join("-")}function Vu(t){const e=1e4;return Number.isInteger(t)?t:Math.abs(t)>e?Math.trunc(t):Math.round(t*e)/e}function Wu(t){if(null==t)return[];const[e,i]=t.map(Number);return 0===e&&0===i?[0,1]:Di(e)&&Di(i)?[e,i]:[]}function Zu(t,e){var i;return null!==(i=null===e||void 0===e?void 0:e.get(t.id))&&void 0!==i?i:0}var Hu=Symbol("invalid");function Ku(t){const e=[];let i,n=0;const a=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;i=a.exec(t);){if(i.index!==n)return;n=i.index+i[0].length;const t=i[1].trim();if(t.startsWith("."))e.push(t.slice(1).trim());else if(t.startsWith("[")){const i=t.slice(1,-1).trim();i.startsWith("'")?e.push(i.slice(1,-1).replace(/\\'/g,"'")):i.startsWith('"')?e.push(i.slice(1,-1).replace(/\\"/g,'"')):e.push(i)}else e.push(t)}if(n===t.length)return e}function Qu(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var Xu=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=t,this.mode=e,this.debug=jo.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const a of t.props){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}const n=t=>{let{matchGroupIds:e=[]}=t;for(const i of e)if(this.values.every((t=>t.groupId!==i)))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups (".concat(i,")."))};for(const a of t.props)switch(a.type){case"key":this.keys.push(O(O({},a),{},{index:this.keys.length,missing:new Map}));break;case"value":if(null==a.property)throw new Error("AG Charts - internal config error: no properties specified for value definitions: ".concat(JSON.stringify(a)));this.values.push(O(O({},a),{},{index:this.values.length,missing:new Map}));break;case"aggregate":n(a),this.aggregates.push(O(O({},a),{},{index:this.aggregates.length}));break;case"group-value-processor":n(a),this.groupProcessors.push(O(O({},a),{},{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(O(O({},a),{},{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(O(O({},a),{},{index:this.reducers.length}));break;case"processor":this.processors.push(O(O({},a),{},{index:this.processors.length}))}}resolveProcessedDataDefById(t,e){var i;const n=null===(i=this.scopeCache.get(t.id))||void 0===i?void 0:i.get(e);if(!n)throw new Error("AG Charts - didn't find property definition for [".concat(e,", ").concat(t.id,"]"));return{index:n.index,def:n}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveProcessedDataDefsByIds(t,e){return e.map((e=>[e,this.resolveProcessedDataDefById(t,e)]))}resolveProcessedDataDefsValues(t,e){let{keys:i,values:n}=e;const a={};for(const[o,{index:r,def:s}]of t){const t="key"===s.type?i:n;a[o]=t[r]}return a}getDomain(t,e){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",a=arguments.length>3?arguments[3]:void 0;const o=this.getDomainsByType(n,a);return null!==(i=null===o||void 0===o?void 0:o[this.resolveProcessedDataIndexById(t,e)])&&void 0!==i?i:[]}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){const{opts:{groupByKeys:i,groupByFn:n},aggregates:a,groupProcessors:o,reducers:r,processors:s,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let u=this.extractData(t,e);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),o.length>0&&this.postProcessGroups(u),a.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),s.length>0&&this.postProcessData(u),t.length>0)for(const p of ge(this.keys,this.values))for(const[e,i]of p.missing)if(i>=t.length){const t=null==e?"":" for ".concat(e);St.warnOnce("the key '".concat(p.property,"' was not found in any data element").concat(t,"."))}const d=performance.now();u.time=d-c,this.debug.check()&&function(t){var e,i;const n=(t,e)=>{e.length>0&&(St.log("DataModel.processData() - ".concat(t)),St.table(e))};if(St.log("DataModel.processData() - processedData",t),n("Key Domains",t.domain.keys),n("Group Domains",null!==(e=t.domain.groups)&&void 0!==e?e:[]),n("Value Domains",t.domain.values),n("Aggregate Domains",null!==(i=t.domain.aggValues)&&void 0!==i?i:[]),"grouped"===t.type){n("Values",t.data.reduce(((t,e)=>{var i,n;const a=null!==(i=e.keys)&&void 0!==i?i:[],o=null!==(n=e.aggValues)&&void 0!==n?n:[],r=e.keys.map((()=>{})),s=null===o||void 0===o?void 0:o.map((()=>{}));return t.push(...e.values.map(((t,e)=>[...0===e?a:r,...null!==t&&void 0!==t?t:[],...0==e?o:s]))),t}),[]))}else{n("Values",t.data.reduce(((t,e)=>{var i;const n=null!==(i=e.aggValues)&&void 0!==i?i:[];return t.push([...e.keys,...e.values,...n]),t}),[]))}}(u),this.scopeCache.clear();for(const p of ge(this.keys,this.values,this.aggregates))if(p.idsMap)for(const[t,e]of p.idsMap)for(const i of e){var h;if(this.scopeCache.has(t)){if(null!==(h=this.scopeCache.get(t))&&void 0!==h&&h.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(i,p)}else this.scopeCache.set(t,new Map([[i,p]]))}return u}valueGroupIdxLookup(t){let{matchGroupIds:e}=t;const i=[];for(const[n,a]of this.values.entries())(!e||a.groupId&&e.includes(a.groupId))&&i.push(n);return i}valueIdxLookup(t,e){const i=null==t||0===t.length,n="string"===typeof e?e:e.id,a=this.values.findIndex((e=>(null==e.scopes||i&&!e.scopes.length||e.scopes.some((e=>null===t||void 0===t?void 0:t.includes(e))))&&(e.property===n||e.id===n||(e=>{if(e.idsMap)for(const[i,a]of e.idsMap)if(null!==t&&void 0!==t&&t.includes(i)&&a.has(n))return!0;return!1})(e))));if(-1===a)throw new Error("AG Charts - configuration error, unknown property ".concat(JSON.stringify(e)," in scope(s) ").concat(JSON.stringify(t)));return a}extractData(t,e){const{dataDomain:i,processValue:n,scopes:a,allScopesHaveSameDefs:o}=this.initDataDomainProcessor(),r=new Map(null===e||void 0===e?void 0:e.map((t=>[t.id,t]))),{keys:s,values:l}=this,c=new Array(t.length);let u=0,d=0;for(const[m,v]of t.entries()){const t={},e=a.size>0?new Set(a):void 0,i=new Array(s.length);let y,x=0;for(const a of s){if(y=n(a,v,y),y===Hu)break;i&&(i[x++]=y)}if(y===Hu)continue;const b=l.length>0?new Array(l.length):void 0;let M;for(const[s,c]of l.entries()){for(const e of null!==(h=c.scopes)&&void 0!==h?h:a){var h,p;const i=r.get(e);if(M=n(c,null!==(p=null===i||void 0===i?void 0:i.data[m])&&void 0!==p?p:v,M,e),M!==Hu&&b){if(null!=i&&!1!==c.includeProperty){var g;const i=c.includeProperty&&null!=c.id?c.id:c.property;null!==(g=t[e])&&void 0!==g||(t[e]={}),t[e][i]=M}b[s]=M}}if(M===Hu){if(o)break;for(const t of null!==(f=c.scopes)&&void 0!==f?f:a){var f;null===e||void 0===e||e.delete(t)}if(0===(null===e||void 0===e?void 0:e.size))break}}if(M===Hu&&o)continue;if(0===(null===e||void 0===e?void 0:e.size))continue;const S={datum:O(O({},v),t),keys:i,values:b};!o&&e&&e.size<a.size&&(d++,S.validScopes=new Set(e)),c[u++]=S}c.length=u;const y=t=>{const e=i.get(t),n=e.getDomain();return _u.is(e)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:t.length},data:c,domain:{keys:s.map(y),values:l.map(y)},defs:{allScopesHaveSameDefs:o,keys:s,values:l},partialValidDataCount:d,time:0}}groupData(t,e){const i=new Map;for(const s of t.data){var n;const{keys:t,values:a,datum:o,validScopes:r}=s,l=null!==(n=null===e||void 0===e?void 0:e(s))&&void 0!==n?n:t,c=Yu(l);if(i.has(c)){const t=i.get(c);if(t.values.push(a),t.datum.push(o),null!=r&&null!=t.validScopes)for(const e of t.validScopes)r.has(e)||t.validScopes.delete(e)}else i.set(c,{keys:l,values:[a],datum:[o],validScopes:r})}const a=new Array(i.size),o=new Array(i.size);let r=0;for(const{keys:s,values:l,datum:c,validScopes:u}of i.values())0!==(null===u||void 0===u?void 0:u.size)&&(o[r]=s,a[r++]={keys:s,values:l,datum:c,validScopes:u});return O(O({},t),{},{type:"grouped",data:a,domain:O(O({},t.domain),{},{groups:o})})}aggregateData(t){const e="ungrouped"===t.type;t.domain.aggValues=[];for(const[c,u]of this.aggregates.entries()){const d=this.valueGroupIdxLookup(u),h=[1/0,-1/0];for(const p of t.data){var i,n,a,o,r;if(null!==(i=p.aggValues)&&void 0!==i||(p.aggValues=new Array(this.aggregates.length)),p.validScopes)continue;const t=e?[p.values]:p.values;let g=null!==(n=null===(a=u.groupAggregateFunction)||void 0===a?void 0:a.call(u))&&void 0!==n?n:[1/0,-1/0];for(const e of t){const t=d.map((t=>e[t])),i=u.aggregateFunction(t,p.keys);var s,l;if(i)g=null!==(s=null===(l=u.groupAggregateFunction)||void 0===l?void 0:l.call(u,i,g))&&void 0!==s?s:_u.extendDomain(i,g)}const f=(null!==(o=null===(r=u.finalFunction)||void 0===r?void 0:r.call(u,g))&&void 0!==o?o:g).map((t=>Vu(t)));p.aggValues[c]=f,_u.extendDomain(f,h)}t.domain.aggValues.push(h)}}postProcessGroups(t){const{groupProcessors:e}=this,i=new Set,n=new Map,a=new Map,o=new Map;for(const c of e){const t=this.valueGroupIdxLookup(c);a.set(c,t),o.set(c,c.adjust());for(const e of t){const t="category"===this.values[e].valueType;i.add(e),n.set(e,t?new Uu:new _u)}}const r=t=>{for(const a of i){var e;null===(e=n.get(a))||void 0===e||e.extend(t[a])}};for(const c of t.data){for(const i of e){var s,l;if(c.validScopes)continue;const e=null!==(s=a.get(i))&&void 0!==s?s:[],n=null===(l=o.get(i))||void 0===l?void 0:l();if(n)if("grouped"===t.type)for(const t of c.values)t&&n(t,e);else c.values&&n(c.values,e)}if("grouped"===t.type)for(const t of c.values)r(t);else r(c.values)}for(const[c,u]of n)t.domain.values[c]=u.getDomain()}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)e()(t,this.valueIdxLookup(n,i))}reduceData(t){var e;null!==(e=t.reduced)&&void 0!==e||(t.reduced={});for(const n of this.reducers){const e=n.reducer();let a=n.initialValue;for(const o of t.data){var i;(!o.validScopes||null!==(i=n.scopes)&&void 0!==i&&i.some((t=>{var e;return null===(e=o.validScopes)||void 0===e?void 0:e.has(t)})))&&(a=e(a,o))}t.reduced[n.property]=a}}postProcessData(t){var e;null!==(e=t.reduced)&&void 0!==e||(t.reduced={});for(const i of this.processors)t.reduced[i.property]=i.calculate(t)}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const l of e)if(l.scopes)for(const t of l.scopes)i.add(t);const n=new Map,a=new Map;let o=!0;const r=()=>{for(const r of ge(t,e)){var a;if("category"===r.valueType)n.set(r,new Uu);else n.set(r,new _u),o&&(o=(null!==(a=r.scopes)&&void 0!==a?a:[]).length===i.size)}};r();const s=this.buildAccessors(ge(t,e));return{dataDomain:n,processValue:(t,e,i,o)=>{var l,c;let u,d;if(s.has(t.property)){try{d=s.get(t.property)(e)}catch(g){}u=null!=d}else u=t.property in e,d=u?e[t.property]:t.missingValue;if(null!=t.forceValue){d=u&&Pe(d)?-1*t.forceValue:t.forceValue,u=!0}if(!u&&!("missingValue"in t)){var h;const e=null!==(h=t.missing.get(o))&&void 0!==h?h:0;t.missing.set(o,e+1)}if(n.has(t)||r(),u&&!1===(null===(l=t.validation)||void 0===l?void 0:l.call(t,d,e))){if(!("invalidValue"in t))return"integrated"!==this.mode&&St.warnOnce("invalid value of type [".concat(typeof d,"] for [").concat(t.scopes," / ").concat(t.id,"] ignored:"),"[".concat(d,"]")),Hu;d=t.invalidValue}var p;t.processor&&(a.has(t)||a.set(t,t.processor()),d=null===(p=a.get(t))||void 0===p?void 0:p(d,i===Hu?void 0:i));return null===(c=n.get(t))||void 0===c||c.extend(d),d},initDataDomain:r,scopes:i,allScopesHaveSameDefs:o}}buildAccessors(t){const e=new Map;if("integrated"===this.mode)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const t=Ku(i.property);if(null==t){St.warnOnce("Invalid property path [%s]",i.property);continue}const n=Qu(t);e.set(i.property,n)}return e}};var Ju=class t{constructor(t){this.mode=t,this.debug=jo.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,e,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,a)=>{this.requested.push({id:t,opts:i,data:e,resolve:n,reject:a})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const e=this.mergeRequested(t);this.debug("DataController.execute() - merged",e),this.debug.check()&&(Se().processedData=[]);const i=this.requested.map((t=>{let{id:e}=t;return e})),n=this.hasMultipleDataSources(t);for(const{opts:o,data:r,resolves:s,rejects:l,ids:c}of e)try{const e=new Xu(o,this.mode),a=e.processData(r,t);this.debug.check()&&Se("processedData").push(a),0===(null===a||void 0===a?void 0:a.partialValidDataCount)?s.forEach(((t,o)=>t({dataModel:e,processedData:this.processScopedData(c[o],a,i,n)}))):a?this.splitResult(e,a,c,s):l.forEach((t=>t(new Error("AG Charts - no processed data generated"))))}catch(a){l.forEach((t=>t(a)))}}hasMultipleDataSources(t){if(t.length){const[{data:e},...i]=t;return i.some((t=>e!==t.data))}return!1}processScopedData(t,e,i,n){const a=e=>{if(Array.isArray(e))return e.map(a);const o=n?O(O({},e),e[t]):e;for(const t of i)delete o[t];return o},o=e=>{var i;return Array.isArray(e)?e.map(o):null!==(i=null===e||void 0===e?void 0:e[t])&&void 0!==i?i:e};return O(O({},e),{},{data:e.data.map((t=>{var e;return O(O({},t),{},{datum:a(t.datum),values:n?null===(e=t.values)||void 0===e?void 0:e.map(o):t.values})}))})}validateRequests(t){const e=[];for(const[i,n]of t.entries())i>0&&n.data.length!==t[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):e.push(n);return e}mergeRequested(e){const i=[];for(const n of e){const e=i.find(t.groupMatch(n));e?e.push(n):i.push([n])}return i.map(t.mergeRequests)}splitResult(t,e,i,n){for(let a=0;a<i.length;a++){const o=i[a];(0,n[a])({dataModel:t,processedData:O(O({},e),{},{data:e.data.filter((t=>{var e;let{validScopes:i}=t;return null===(e=null===i||void 0===i?void 0:i.has(o))||void 0===e||e}))})})}}static groupMatch(t){let{data:e,opts:i}=t;function n(t){return t.filter((t=>"key"===t.type)).map((t=>t.property)).join(";")}return t=>{let[a]=t;return(!1===i.groupByData||a.data===e)&&a.opts.groupByKeys===i.groupByKeys&&a.opts.groupByFn===i.groupByFn&&n(a.opts.props)===n(i.props)}}static mergeRequests(e){return e.reduce(((e,i)=>{var n,a;let{id:o,data:r,resolve:s,reject:l,opts:{props:c}}=i,u=z(i.opts,G);e.ids.push(o),e.rejects.push(l),e.resolves.push(s),null!==(n=e.data)&&void 0!==n||(e.data=r),null!==(a=e.opts)&&void 0!==a||(e.opts=O(O({},u),{},{props:[]}));for(const g of c){var d,h,p;const i=O(O({},g),{},{scopes:[o]});t.createIdsMap(o,i);const n=e.opts.props.find((e=>e.type===i.type&&t.deepEqual(e,i)));n?(null!==(d=n.scopes)&&void 0!==d||(n.scopes=[]),n.scopes.push(...null!==(h=i.scopes)&&void 0!==h?h:[]),"key"!==n.type&&"value"!==n.type||null===(p=i.idsMap)||void 0===p||!p.size||t.mergeIdsMap(i.idsMap,n.idsMap)):e.opts.props.push(i)}return e}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,e){for(const[i,n]of t){const t=e.get(i);if(null!=t)for(const e of n)t.add(e);else e.set(i,new Set(n))}}static createIdsMap(t,e){var i;null!=e.id&&(null!==(i=e.idsMap)&&void 0!==i||(e.idsMap=new Map),e.idsMap.has(t)?e.idsMap.get(t).add(e.id):e.idsMap.set(t,new Set([e.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;let n,a;if(Array.isArray(e)){if(a=e.length,a!==i.length)return!1;for(n=a-1;n>=0;n--)if(!t.deepEqual(e[n],i[n]))return!1;return!0}const o=Object.keys(e);if(a=o.length,a!==Object.keys(i).length)return!1;for(n=a-1;n>=0;n--){const a=o[n];if(!t.skipKeys.has(a)&&(!Object.hasOwn(i,a)||!t.deepEqual(e[a],i[a])))return!1}return!0}return!1}};Ju.skipKeys=new Set(["id","idsMap","type","scopes"]);var qu=Ju,$u=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){const i=this.axesMap.get(t);if(i)return i(e);throw new Error("AG Charts - unknown axis type: ".concat(t))}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((t=>!this.hidden.has(t)))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},td=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function ed(t){var e;return null===(e=td.find((e=>"series"===e.type&&e.identifier===t)))||void 0===e?void 0:e.chartTypes}function id(t){if(!function(t){return"enterprise"===t.packageType}(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=td.find((e=>e.type===t.type&&e.optionsKey===t.optionsKey&&e.identifier===t.identifier&&t.chartTypes.every((t=>e.chartTypes.includes(t)))));var i;e&&(null!==(i=e.useCount)&&void 0!==i||(e.useCount=0),e.useCount++);return null!=e}var nd=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,e){let{optionsKey:i,moduleFactory:n,themeTemplate:a}=e;this.legendMap.set(t,{optionsKey:i,moduleFactory:n}),this.themeTemplates.set(i,a)}create(t,e){var i;const n=null===(i=this.legendMap.get(t))||void 0===i?void 0:i.moduleFactory;if(n)return n(e);throw new Error("AG Charts - unknown legend type: ".concat(t))}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((t,e)=>{let[i,n]=e;return t[i]=n.optionsKey,t}),{})}},ad=class extends Map{get(t){var e;return null!==(e=super.get(t))&&void 0!==e?e:"unknown"}isCartesian(t){return"cartesian"===this.get(t)}isPolar(t){return"polar"===this.get(t)}isHierarchy(t){return"hierarchy"===this.get(t)}isTopology(t){return"topology"===this.get(t)}isFlowProportion(t){return"flow-proportion"===this.get(t)}isStandalone(t){return"standalone"===this.get(t)}isGauge(t){return"gauge"===this.get(t)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((t=>this.isCartesian(t)))}get polarTypes(){return this.seriesTypes.filter((t=>this.isPolar(t)))}get hierarchyTypes(){return this.seriesTypes.filter((t=>this.isHierarchy(t)))}get topologyTypes(){return this.seriesTypes.filter((t=>this.isTopology(t)))}get flowProportionTypes(){return this.seriesTypes.filter((t=>this.isFlowProportion(t)))}get standaloneTypes(){return this.seriesTypes.filter((t=>this.isStandalone(t)))}get gaugeTypes(){return this.seriesTypes.filter((t=>this.isGauge(t)))}},od=class extends Map{set(t,e){return super.set(t,Ei(e,this.get(t)))}},rd=new ad,sd=new ad,ld=new od,cd=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,e){let{chartTypes:[i],moduleFactory:n,tooltipDefaults:a,defaultAxes:o,themeTemplate:r,paletteFactory:s,solo:l,stackable:c,groupable:u,stackedByDefault:d,hidden:h}=e;this.setThemeTemplate(t,r),this.seriesMap.set(t,{moduleFactory:n,tooltipDefaults:a,defaultAxes:o,paletteFactory:s,solo:l,stackable:c,groupable:u,stackedByDefault:d}),rd.set(t,i),h||sd.set(t,i)}create(t,e){var i;const n=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.moduleFactory;if(n)return n(e);throw new Error("AG Charts - unknown series type: ".concat(t))}cloneDefaultAxes(t,e){var i;const n=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.defaultAxes;if(null==n)return null;return{axes:wr("function"===typeof n?n(e):n)}}setThemeTemplate(t,e){const i=this.themeTemplates.get(t);this.themeTemplates.set(t,Ei(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){var e;return null===(e=this.seriesMap.get(t))||void 0===e?void 0:e.paletteFactory}getTooltipDefauls(t){var e;return null===(e=this.seriesMap.get(t))||void 0===e?void 0:e.tooltipDefaults}isSolo(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.solo)&&void 0!==e&&e}isGroupable(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.groupable)&&void 0!==e&&e}isStackable(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.stackable)&&void 0!==e&&e}isStackedByDefault(t){var e,i;return null!==(e=null===(i=this.seriesMap.get(t))||void 0===i?void 0:i.stackedByDefault)&&void 0!==e&&e}},ud=class t extends Rl{constructor(t){super(),this.chart=t}subscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP,i=this.get(e);return i||(i=new Set,t.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(){var e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return null===(e=this.get(i))||void 0===e||e.delete(this.chart),this}getChart(){return this.chart}getGroup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_GROUP;return this.getGroup(e).filter((t=>t!==this.chart))}get(e){return t.chartsGroups.get(e)}};ud.chartsGroups=new Map,ud.DEFAULT_GROUP=Symbol("sync-group-default");var dd=ud,hd=class extends Tn{constructor(){super(...arguments),this.enabled=!1}};gt([On(Gn)],hd.prototype,"enabled",2),gt([On(Yn)],hd.prototype,"tabIndex",2);var pd=["top","right","bottom","left"];var gd=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function fd(t){var e,i;const{series:n}=t;if(n)return null!==(e=null===(i=n[0])||void 0===i?void 0:i.type)&&void 0!==e?e:"line"}function yd(t){const e=fd(t);return null!=e&&(rd.isCartesian(e)||function(t){var e;return"cartesian"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"cartesian"===t)))}(e))}function md(t){const e=fd(t);return null!=e&&("polar"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isPolar(e)||function(t){var e;return"polar"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"polar"===t)))}(e))}function vd(t){const e=fd(t);return null!=e&&("hierarchy"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isHierarchy(e)||function(t){var e;return"hierarchy"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"hierarchy"===t)))}(e))}function xd(t){const e=fd(t);return null!=e&&("topology"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isTopology(e)||function(t){var e;return"topology"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"topology"===t)))}(e))}function bd(t){const e=fd(t);return null!=e&&("flow-proportion"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isFlowProportion(e)||function(t){var e;return"flow-proportion"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"flow-proportion"===t)))}(e))}function Md(t){const e=fd(t);return null!=e&&("standalone"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isStandalone(e)||function(t){var e;return"standalone"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"standalone"===t)))}(e))}function Sd(t){const e=fd(t);return null!=e&&("gauge"===e?(St.warnOnce("type '".concat(e,"' is deprecated, use a series type instead")),!0):rd.isGauge(e)||function(t){var e;return"gauge"===(null===(e=ed(t))||void 0===e?void 0:e.find((t=>"gauge"===t)))}(e))}var Id=class extends Oa{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&Rn(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())"legend"===t.type&&(yield{legendType:t.identifier,legend:e})}},Dd="ag-chart-overlay",wd="ag-chart-dark-overlay",Nd=class extends Tn{constructor(t,e){super(),this.className=t,this.defaultMessageId=e}getText(t){var e;return t.t(null!==(e=this.text)&&void 0!==e?e:this.defaultMessageId)}getElement(t,e,i){var n;if(null===(n=this.content)||void 0===n||n.remove(),this.focusBox=i,this.renderer){const t=this.renderer();if(t instanceof HTMLElement)this.content=t;else{const e=Ie("div");e.innerHTML=t,this.content=e.firstElementChild}}else{const i=Ie("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(e),this.content=i,null===t||void 0===t||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{var t;return null===(t=this.content)||void 0===t?void 0:t.remove()},e=arguments.length>1?arguments[1]:void 0;if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){i.style.opacity=String(t)},onStop(){null===t||void 0===t||t()}})}else null===t||void 0===t||t();this.content=void 0,this.focusBox=void 0}}};gt([On(_n,{optional:!0})],Nd.prototype,"text",2),gt([On(Un,{optional:!0})],Nd.prototype,"renderer",2);var Ld=class extends Tn{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Nd("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Nd("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Nd("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==e.focusBox)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};gt([On(Gn)],Ld.prototype,"darkTheme",2),gt([On(Bn)],Ld.prototype,"loading",2),gt([On(Bn)],Ld.prototype,"noData",2),gt([On(Bn)],Ld.prototype,"noVisibleSeries",2);var kd=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(kd||{}),Ad=class{constructor(t,e,i,n){let{datum:a}=i;this.type=t,this.event=e,this.datum=a,this.seriesId=n.id}},Cd=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},Td=class extends Dl{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Ad,this.internalId=he(this),this.rootGroup=new Co({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Oa,this._declarationOrder=-1,this.seriesListeners=new El,this._pickNodeCache=new cr;const{moduleCtx:e,pickModes:i,directionKeys:n={},directionNames:a={},contentGroupVirtual:o=!0,canHaveAxes:r=!1}=t;this.ctx=e,this.directionKeys=n,this.directionNames=a,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new Ro({name:"".concat(this.internalId,"-content"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Ro({name:"".concat(this.internalId,"-highlight"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Co({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Co({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new Ro({name:"".concat(this.internalId,"-series-labels"),zIndex:14})),this.annotationGroup=new Co({name:"".concat(this.id,"-annotation"),isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){var t,e;return null!==(t=null===(e=this.properties)||void 0===e?void 0:e.id)&&void 0!==t?t:this.internalId}get type(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""}get data(){var t;return null!==(t=this._data)&&void 0!==t?t:this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){var t,e;return null!==(t=null===(e=this.properties.tooltip)||void 0===e?void 0:e.enabled)&&void 0!==t&&t}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){const{internalId:i,type:n,visible:a}=this;t&&this.ctx.seriesStateManager.deregisterSeries(this),e&&this.ctx.seriesStateManager.registerSeries({internalId:i,type:n,visible:a,seriesGrouping:e}),this.fireEvent(new Cd(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(t){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":e+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((t=>t())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){const i=this.resolveKeyDirection(t),n=null===e||void 0===e?void 0:e[i],a=[];if(!n)return a;const o=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)Array.isArray(n)?o(...n):"object"===typeof n?o(...Object.values(n)):a.push(n)};return o(...n.map((t=>this.properties[t]))),a}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){var e;return null!==(e=this.directionKeys[this.resolveKeyDirection(t)])&&void 0!==e?e:[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const e=this.getSeriesDomain(t),i=this.moduleMap.mapModules((e=>e.getDomain(t)));return e.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(t){const{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===e)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){var t;const e=null===(t=this.ctx.highlightManager)||void 0===t||null===(t=t.getActiveHighlight())||void 0===t?void 0:t.series;return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((t=>t.getTooltipParams())).reduce(((t,e)=>Object.assign(t,e)),{})}pickNode(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pickModes:n,pickModeAxis:a,visible:o,rootGroup:r}=this;if(!o||!r.visible)return;if("highlight"===e&&!this.properties.highlight.enabled)return;if("highlight-tooltip"===e&&!this.properties.highlight.enabled)return;let s=1/0;if("tooltip"===e||"highlight-tooltip"===e){const{tooltip:t}=this.properties;s="number"===typeof t.range?t.range:1/0,i||(i="exact"===t.range)}else if("event"===e||"context-menu"===e){const{nodeClickRange:t}=this.properties;s="number"===typeof t?t:1/0,i||(i="exact"===t)}const l=n.filter((t=>!i||0===t)),{x:c,y:u}=t,d=JSON.stringify({x:c,y:u,maxDistance:s,selectedPickModes:l});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(const h of l){let e;switch(h){case 0:e=this.pickNodeExactShape(t);break;case 1:e=this.pickNodeClosestDatum(t);break;case 2:e=null!=h?this.pickNodeMainAxisFirst(t,"main-category"===a):void 0}if(e&&e.distance<=s)return this._pickNodeCache.set(d,{pickMode:h,match:e.datum,distance:e.distance})}return this._pickNodeCache.set(d,void 0)}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);if(e&&!0!==e.datum.missing)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,e){const i=ve(t.x,t.y,e);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return O(O({},this.ctx),{},{series:this})}getLabelText(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;var n;return t.formatter&&null!==(n=this.ctx.callbackCache.call(t.formatter,O({seriesId:this.id},e)))&&void 0!==n?n:i(e.value)}getMarkerStyle(t,e){var i,n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getStyle();const o=Ei({size:null!==(i=null===(n=e.datum.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0},a);if(t.itemStyler){return Ei(this.ctx.callbackCache.call(t.itemStyler,O(O(O({seriesId:this.id},o),e),{},{datum:e.datum.datum})),o)}return o}updateMarkerStyle(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.getStyle(),{applyTranslation:a=!0,selected:o=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:r}=i.datum,s=this.getMarkerStyle(e,i,n),l=this.visible&&s.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(a?t.setProperties(O(O({visible:l},s),{},{translationX:null===r||void 0===r?void 0:r.x,translationY:null===r||void 0===r?void 0:r.y})):t.setProperties(O({visible:l},s)),o||(t.fillOpacity*=.25,t.strokeOpacity*=.125),"function"===typeof e.shape&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const e=t.getBBox();if(void 0!==r&&e.isFinite()){const t=e.computeCenter(),[i,n]=["x","y"].map((e=>{var i;return(null!==(i=s.strokeWidth)&&void 0!==i?i:0)+Math.abs(t[e]-r[e])})),a=Math.max(e.width+i,e.height+n);r.focusSize=a}}}getMinRects(t,e){}get nodeDataDependencies(){var t;return null!==(t=this._nodeDataDependencies)&&void 0!==t?t:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:e,height:i}=null!==t&&void 0!==t?t:{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,a=null!=Dr(this.nodeDataDependencies,n);return a&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),a}pickFocus(t){}};function Ed(t,e){var i;!function(t,e){const{bounds:i,showFocusBox:n}=e;n&&(null===t||void 0===t||t.updateBounds(i))}(t,e);const{x:n,y:a}=null!==(i=function(t){if(null!=t)return t instanceof We?t.computeCenter():ko.toCanvas(t).computeCenter()}(e.bounds))&&void 0!==i?i:{};if(void 0!==n&&void 0!==a)return{type:"keyboard",offsetX:n,offsetY:a}}function Rd(t){let{defs:e,values:i,xAxis:n,yAxis:a}=t;if(!n||!a)throw new Error("Axes must be defined");const o={};for(const[r,{def:s}]of e)if(Object.hasOwn(i,r)){const{scale:t}="key"===s.type?n:a;o[r]=Math.round(t.convert(i[r]))}return o}function Od(t,e,i,n){const a=[...t].reverse();let o;for(const s of a){var r;if(!s.visible||!s.rootGroup.visible)continue;const{match:t,distance:a}=null!==(r=s.pickNode(e,i,n))&&void 0!==r?r:{};if(t&&null!=a&&((!o||o.distance>a)&&(o={series:s,distance:a,datum:t}),0===a))break}return o}Td.highlightedZIndex=1e12,gt([Or({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],Td.prototype,"seriesGrouping",2);var zd=class{constructor(t,e){this.element=t,this.id=e,t.id=e,t.style.display="none",_r(t.parentElement,"aria-labelledby",e)}layoutComplete(t){this.element.parentElement.style.width="".concat(t.chart.width,"px"),this.element.parentElement.style.height="".concat(t.chart.height,"px")}set text(t){this.element.textContent=t}},jd=class extends Rl{constructor(t){super(),this.chart=t,this.id=he(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=Nl(((t,e)=>Se().requestAnimationFrame(t)),(()=>{(this.tooltip.lastHover||this.highlight.pendingHoverEvent)&&(this.chart.getUpdateType()<=4?this.hoverScheduler.schedule():(this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)))}));const e=t.ctx.regionManager.getRegion("series"),i=t.ctx.regionManager.getRegion("horizontal-axes"),n=t.ctx.regionManager.getRegion("vertical-axes"),a=t.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new zd(a,"".concat(this.id,"-aria-label")),this.destroyFns.push((()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label")),e.addListener("contextmenu",(t=>this.onContextMenu(t)),63),e.addListener("drag",(t=>this.onHoverLikeEvent(t)),41),e.addListener("hover",(t=>this.onHover(t)),41),e.addListener("leave",(()=>this.onLeave()),41),i.addListener("hover",(t=>this.onHover(t)),41),i.addListener("leave",(()=>this.onLeave())),n.addListener("hover",(t=>this.onHover(t)),41),n.addListener("leave",(()=>this.onLeave())),t.ctx.animationManager.addListener("animation-start",(()=>this.clearAll())),t.ctx.domManager.addListener("resize",(()=>this.clearAll())),t.ctx.highlightManager.addListener("highlight-change",(t=>this.changeHighlightDatum(t))),t.ctx.keyNavManager.addListener("blur",(()=>this.onBlur())),t.ctx.keyNavManager.addListener("focus",(t=>this.onFocus(t)),34),t.ctx.keyNavManager.addListener("nav-hori",(t=>this.onNavHori(t)),34),t.ctx.keyNavManager.addListener("nav-vert",(t=>this.onNavVert(t)),34),t.ctx.keyNavManager.addListener("submit",(t=>this.onSubmit(t)),34),t.ctx.layoutManager.addListener("layout:complete",(t=>this.layoutComplete(t))),t.ctx.regionManager.listenAll("click",(t=>this.onClick(t))),t.ctx.regionManager.listenAll("dblclick",(t=>this.onClick(t))),t.ctx.updateService.addListener("pre-scene-render",(()=>this.preSceneRender())),t.ctx.zoomManager.addListener("zoom-change",(()=>this.clearAll())),t.ctx.zoomManager.addListener("zoom-pan-start",(()=>this.clearAll())))}dataChanged(){var t,e;null!==(t=(e=this.highlight).stashedHoverEvent)&&void 0!==t||(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),null!=this.highlight.stashedHoverEvent&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),null!=this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(t,e){this.chart.ctx.updateService.update(t,e)}seriesChanged(t){this.focus.sortedSeries=[...t].sort(((t,e)=>{var i,n;let a=null!==(i=t.properties.focusPriority)&&void 0!==i?i:1/0,o=null!==(n=e.properties.focusPriority)&&void 0!==n?n:1/0;return a===o&&([a,o]=[t._declarationOrder,e._declarationOrder]),a<o?-1:a>o?1:0})),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.paddedRect,this.ariaLabel.layoutComplete(t)}onContextMenu(t){const{Default:e,ContextMenu:i}=Ol;let n,a;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(a=ko.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(e|i)){const e=Od(this.series,{x:t.regionOffsetX,y:t.regionOffsetY},"context-menu");e&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=e.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:n},a)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(t){this.hoverDevice="mouse",this.onHoverLikeEvent(t)}onHoverLikeEvent(t){if(Ai(t,"drag")&&(this.tooltip.lastHover=t),this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),32===this.chart.ctx.interactionManager.getState()){const{regionOffsetX:e,regionOffsetY:i}=t,n=Od(this.series,{x:e,y:i},"event");null!==n&&void 0!==n&&n.series.hasEventListener("nodeClick")||null!==n&&void 0!==n&&n.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(t){var e;if(this.hoverDevice="mouse",this.onHoverLikeEvent(t),null!==(e=this.seriesRect)&&void 0!==e&&e.containsPoint(t.offsetX,t.offsetY)&&this.checkSeriesNodeClick(t))return this.update(4),void t.preventDefault();const i={type:"click"===t.type?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(i)}onFocus(t){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),t.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(t){this.hoverDevice="keyboard",this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.hoverDevice="keyboard",this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onSubmit(t){const{series:e,datum:i}=this.focus,n=t.sourceEvent.sourceEvent;void 0!==e&&void 0!==i?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),t.preventDefault()}checkSeriesNodeClick(t){let e={x:t.regionOffsetX,y:t.regionOffsetY};"series"!==t.region&&(e=ko.fromCanvasPoint(this.chart.seriesRoot,t.offsetX,t.offsetY));const i=Od(this.series,e,"event");return null!=i&&("click"===t.type?(i.series.fireNodeClickEvent(t.sourceEvent,i.datum),!0):"dblclick"===t.type&&(t.preventZoomDblClick=0===i.distance,i.series.fireNodeDoubleClickEvent(t.sourceEvent,i.datum),!0))}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(t,e){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);null==i?this.handleSeriesFocus(t,e):this.chart.ctx.focusIndicator.updateBounds(i.rect)}handleSeriesFocus(t,e){if("hierarchy"===this.chart.chartType)return void this.handleHierarchySeriesFocus(t,e);const{focus:i,seriesRect:n}=this,a=i.sortedSeries.filter((t=>t.visible));if(0===a.length)return;i.seriesIndex=Ee(0,i.seriesIndex,a.length-1),i.series=a[i.seriesIndex];const{datumIndex:o,seriesIndex:r}=i,s=i.series.pickFocus({datumIndex:o,datumIndexDelta:e,otherIndex:r,otherIndexDelta:t,seriesRect:n});this.updatePickedFocus(s)}handleHierarchySeriesFocus(t,e){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:i,seriesIndex:n,datumIndex:a},seriesRect:o}=this;if(void 0===i)return;const r=i.pickFocus({datumIndex:a,datumIndexDelta:e,otherIndex:n,otherIndexDelta:t,seriesRect:o});this.updatePickedFocus(r)}updatePickedFocus(t){const{focus:e}=this;if(void 0===t||void 0===e.series)return;const{datum:i,datumIndex:n}=t;e.datumIndex=n,e.datum=i,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();const a=Ed(this.chart.ctx.focusIndicator,t);if(void 0!==a&&"keyboard"===this.hoverDevice){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const t=e.series.getTooltipHtml(i),n=Ru.makeTooltipMeta(a,i);this.chart.ctx.highlightManager.updateHighlight(this.id,i),this.chart.ctx.tooltipManager.updateTooltip(this.id,n,t),this.ariaLabel.text=this.getDatumAriaText(i,t)}}getDatumAriaText(t,e){var i,n,a;const o=e.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:null!==(i=null===(n=(a=t.series).getDatumAriaText)||void 0===n?void 0:n.call(a,t,o))&&void 0!==i?i:o})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(t){var e;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const i=this.highlight.appliedHoverEvent;if(!i)return;const n=this.chart.ctx.interactionManager.getState();if(32!==n&&8!==n&&1!==n)return;const{offsetX:a,offsetY:o}=i;if(t?this.chart.ctx.animationManager.isActive():null===(e=this.hoverRect)||void 0===e||!e.containsPoint(a,o))return void this.clearHighlight();let r={x:i.regionOffsetX,y:i.regionOffsetY};"series"!==i.region&&(r=ko.fromCanvasPoint(this.chart.seriesRoot,a,o));const{range:s}=this.chart.highlight,l="tooltip"===s?"highlight-tooltip":"highlight",c=Od(this.series,r,l);if(c)return this.chart.ctx.highlightManager.updateHighlight(this.id,c.datum),void(this.hoverDevice="mouse");this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(t,e){var i;const n=this.chart.ctx.interactionManager.getState();if(32!==n&&8!==n&&1!==n)return;const{offsetX:a,offsetY:o,targetElement:r,regionOffsetX:s,regionOffsetY:l}=t;if(e?this.chart.ctx.animationManager.isActive():null===(i=this.hoverRect)||void 0===i||!i.containsPoint(a,o))return void("mouse"==this.hoverDevice&&this.clearTooltip());if(r&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(r,"canvas-overlay",Hr))return;let c={x:s,y:l};"series"!==t.region&&(c=ko.fromCanvasPoint(this.chart.seriesRoot,a,o));const u=Od(this.series,c,"tooltip");if(!u)return void("mouse"==this.hoverDevice&&this.clearTooltip());this.hoverDevice="mouse";const d=u.series.getTooltipHtml(u.datum);if(this.chart.tooltip.enabled&&u.series.tooltipEnabled&&null!=d){const e=Ru.makeTooltipMeta(t,u.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,e,d)}}changeHighlightDatum(t){var e,i;const n=new Set,{series:a,datum:o}=null!==(e=t.currentHighlight)&&void 0!==e?e:{},{series:r,datum:s}=null!==(i=t.previousHighlight)&&void 0!==i?i:{};r&&n.add(r),a&&n.add(a),null!==r&&void 0!==r&&r.properties.cursor&&s&&this.chart.ctx.cursorManager.updateCursor(r.id),null!==a&&void 0!==a&&a.properties.cursor&&"default"!==(null===a||void 0===a?void 0:a.properties.cursor)&&o&&this.chart.ctx.cursorManager.updateCursor(a.id,a.properties.cursor);null==a||null==r?this.update(4):this.update(4,{seriesToUpdate:n})}},Pd=class{constructor(t,e,i){this.seriesRoot=t,this.highlightRoot=e,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,i,n,a;const{internalId:o,type:r,rootGroup:s,highlightGroup:l,annotationGroup:c,seriesGrouping:u}=t,{groupIndex:d=o}=null!==u&&void 0!==u?u:{};if(null!=this.series[o])throw new Error("AG Charts - series already has an allocated layer: ".concat(this.series[o]));0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),null!==(e=(n=this.groups)[r])&&void 0!==e||(n[r]={});const h=this.lookupIdx(d),p=null!==(i=(a=this.groups[r])[h])&&void 0!==i?i:a[h]={type:r,id:h,seriesIds:[],group:this.seriesRoot.appendChild(new is({name:"".concat(r,"-content"),zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new Co({name:"".concat(r,"-highlight"),zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new Co({name:"".concat(r,"-annotation"),zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))};return this.series[o]={layerState:p,seriesConfig:t},p.seriesIds.push(o),p.group.appendChild(s),p.highlight.appendChild(l),p.annotation.appendChild(c),p.group}changeGroup(t){var e;const{internalId:i,seriesGrouping:n,type:a,rootGroup:o,highlightGroup:r,annotationGroup:s,oldGrouping:l}=t,{groupIndex:c=i}=null!==n&&void 0!==n?n:{};null!==(e=this.groups[a])&&void 0!==e&&null!==(e=e[c])&&void 0!==e&&e.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({internalId:i,seriesGrouping:l,type:a,rootGroup:o,highlightGroup:r,annotationGroup:s}),this.requestGroup(t))}releaseGroup(t){var e;const{internalId:i,rootGroup:n,highlightGroup:a,annotationGroup:o,type:r}=t;if(null==this.series[i])throw new Error("AG Charts - series doesn't have an allocated layer: ".concat(i));const s=null===(e=this.series[i])||void 0===e?void 0:e.layerState;if(s&&(s.seriesIds=s.seriesIds.filter((t=>t!==i)),s.group.removeChild(n),s.highlight.removeChild(a),s.annotation.removeChild(o)),0===(null===s||void 0===s?void 0:s.seriesIds.length))this.seriesRoot.removeChild(s.group),this.highlightRoot.removeChild(s.highlight),this.annotationRoot.removeChild(s.annotation),delete this.groups[s.type][s.id],delete this.groups[r][i];else if((null===s||void 0===s?void 0:s.seriesIds.length)>0){var l,c;const t=null===(l=this.series[null===s||void 0===s||null===(c=s.seriesIds)||void 0===c?void 0:c[0]])||void 0===l?void 0:l.seriesConfig;s.group.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("data"),s.highlight.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("highlight"),s.annotation.zIndexSubOrder=null===t||void 0===t?void 0:t.getGroupZIndexSubOrder("annotation")}delete this.series[i]}lookupIdx(t){return"normal"===this.mode?t:"string"!==typeof t||(t=Number(t.split("-").at(-1)))?Math.floor(30*Ee(0,t/this.expectedSeriesCount,1)):0}destroy(){for(const t of Object.values(this.groups))for(const e of Object.values(t))this.seriesRoot.removeChild(e.group),this.highlightRoot.removeChild(e.highlight),this.annotationRoot.removeChild(e.annotation);this.groups={},this.series={}}},Bd=class{constructor(t,e,i,n){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((t=>t()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((t=>St.errorOnce(t)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){var t,e;if(!this.dataService.isLazy())return;const i=this.getValidAxis();let n,a=!0;if(i){const t=this.zoomManager.getAxisZoom(i.id);n=this.getAxisWindow(i,t),a=this.shouldRefresh(i,t)}this.dirtyZoom=!1,this.dirtyDataSource=!1,a&&this.dataService.load({windowStart:null===(t=n)||void 0===t?void 0:t.min,windowEnd:null===(e=n)||void 0===e?void 0:e.max})}getValidAxis(){return this.chart.axes.find((t=>"time"===t.type))}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return(!i||e.min!==i.min||e.max!==i.max)&&(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){var i,n;const a=null===(i=(n=t.scale).getDomain)||void 0===i?void 0:i.call(n);if(!e||!a||0===a.length||isNaN(Number(a[0])))return;const o=Number(a[1])-Number(a[0]);return{min:new Date(Number(a[0])+o*e.min),max:new Date(Number(a[0])+o*e.max)}}},Fd=class{constructor(t,e,i,n,a,o,r){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutManager=n,this.localeManager=a,this.animationManager=o,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(Dd),this.destroyFns.push(this.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))))}destroy(){this.destroyFns.forEach((t=>t())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(t){let{series:{rect:e}}=t;const i=this.dataService.isLoading(),n=this.chartLike.series.some((t=>t.hasData)),a=this.chartLike.series.some((t=>t.visible));this.overlays.darkTheme?this.overlayElem.classList.add(wd):this.overlayElem.classList.remove(wd),this.overlayElem.style.left="".concat(e.x,"px"),this.overlayElem.style.top="".concat(e.y,"px"),this.overlayElem.style.width="".concat(e.width,"px"),this.overlayElem.style.height="".concat(e.height,"px");const o=i,r=!i&&!n,s=n&&!a;o?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),s?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries);const l=o||r||s;_r(this.overlayElem,"aria-hidden",!l)}showOverlay(t,e){const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}hideOverlay(t){t.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},Gd=jo.create(!0,"opts"),Ud=class extends Tn{constructor(){super(...arguments),this.padding=new wl(0)}};gt([On(Gn,{optional:!0})],Ud.prototype,"clip",2),gt([On(Bn)],Ud.prototype,"padding",2);var _d=class t extends Dl{constructor(t,e){var i,n,a,o,r,s,l;super(),r=this,this.id=he(this),this.seriesRoot=new Ro({name:"".concat(this.id,"-series-root")}),this.highlightRoot=new ns({name:"".concat(this.id,"-highlight-root"),zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new ns({name:"".concat(this.id,"-annotation-root"),zIndex:10}),this.debug=jo.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new wl(20),this.seriesArea=new Ud,this.keyboard=new hd,this.mode="standalone",this.chartCaptions=new Tl,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new Id,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Il,this.updateRequestors={},this.performUpdateTrigger=Nl((function(t){return setTimeout(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async t=>{let{count:e}=t;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(e)}catch(t){St.error("update error",t)}})).catch((t=>St.errorOnce(t)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=t=>{this.fireEvent(O(O({},t),{},{type:"seriesNodeClick"}))},this.onSeriesNodeDoubleClick=t=>{this.fireEvent(O(O({},t),{},{type:"seriesNodeDoubleClick"}))},this.seriesGroupingChanged=t=>{if(!(t instanceof Cd))return;const{series:e,seriesGrouping:i,oldGrouping:n}=t;e.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:e.internalId,type:e.type,rootGroup:e.rootGroup,highlightGroup:e.highlightGroup,annotationGroup:e.annotationGroup,getGroupZIndexSubOrder:t=>e.getGroupZIndexSubOrder(t),seriesGrouping:i,oldGrouping:n})},this.chartOptions=t;const c=null===e||void 0===e?void 0:e.scene,u=null!==(i=null!==(n=null===e||void 0===e?void 0:e.container)&&void 0!==n?n:t.processedOptions.container)&&void 0!==i?i:void 0,d=null!==(a=null===e||void 0===e?void 0:e.styleContainer)&&void 0!==a?a:t.specialOverrides.styleContainer,h=new Co({name:"root"}),p=new is({name:"titles",zIndex:14});h.visible=!1,h.append(p),h.append(this.seriesRoot),h.append(this.highlightRoot),h.append(this.annotationRoot),p.append(this.title.node),p.append(this.subtitle.node),p.append(this.footnote.node),this.tooltip=new $r,this.seriesLayerManager=new Pd(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=null!==(o=t.userOptions.mode)&&void 0!==o?o:this.mode;const g=this.ctx=new Fu(this,{scene:c,root:h,container:u,styleContainer:d,syncManager:new dd(this),pixelRatio:t.specialOverrides.overrideDevicePixelRatio,updateCallback:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return r.update(t,e)},updateMutex:this.updateMutex});this._destroyFns.push(g.domManager.addListener("resize",(()=>this.parentResize(g.domManager.containerSize)))),this.overlays=new Ld,null!==(s=(l=this.overlays.loading).renderer)&&void 0!==s||(l.renderer=()=>function(t,e){const{animationDuration:i}=Ji.add,n=i*e,a=Ie("div","".concat(Dd,"--loading"),{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:"ag-charts-loading ".concat(n,"ms linear 50ms both")}),o=Ie("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),r=Ie("p",{marginTop:"1em"});r.innerText=t;const s=Ie("div","".concat(Dd,"__loading-background"),{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ie("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),a.replaceChildren(l,o,r,s),a}(this.overlays.loading.getText(g.localeManager),g.animationManager.defaultDuration)),this.processors=[new Bd(this,g.dataService,g.updateService,g.zoomManager),new Fd(this,this.overlays,g.dataService,g.layoutManager,g.localeManager,g.animationManager,g.domManager)],this.highlight=new Gu,this.container=u;const f=this.getModuleContext();g.regionManager.addRegion("series",this.seriesRoot,new bu(this.seriesRoot,(()=>{var t;return null!==(t=this.seriesRect)&&void 0!==t?t:We.zero})),this.ctx.axisManager.axisGridGroup),g.regionManager.addRegion("horizontal-axes"),g.regionManager.addRegion("vertical-axes"),g.regionManager.addRegion("root",h),g.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new jd(this.initSeriesAreaDependencies()),this._destroyFns.push(g.layoutManager.registerElement(0,(t=>{t.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(t)})),g.layoutManager.addListener("layout:complete",(t=>this.chartCaptions.positionAbsoluteCaptions(t))),g.dataService.addListener("data-load",(t=>{this.data=t.data})),this.title.registerInteraction(f,"beforebegin"),this.subtitle.registerInteraction(f,"beforebegin"),this.footnote.registerInteraction(f,"afterend"),g.interactionManager.addListener("page-left",(()=>this.destroy())),g.animationManager.addListener("animation-frame",(()=>{this.update(6)})),g.animationManager.addListener("animation-start",(()=>g.domManager.setDataBoolean("animating",!0))),g.animationManager.addListener("animation-stop",(()=>g.domManager.setDataBoolean("animating",!1))),g.zoomManager.addListener("zoom-change",(()=>{this.series.forEach((t=>{var e;return null===(e=t.animationState)||void 0===e?void 0:e.transition("updateData")}));const t="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}))),this.parentResize(g.domManager.containerSize)}static getInstance(e){return t.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,e){this.ctx.scene.download(t,e)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){var t;return null!==(t=this.queuedUserOptions.at(-1))&&void 0!==t?t:this.chartOptions.userOptions}initSeriesAreaDependencies(){const{ctx:t,tooltip:e,highlight:i,overlays:n,seriesRoot:a}=this,o=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:o,ctx:t,tooltip:e,highlight:i,overlays:n,seriesRoot:a}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((t=>t.enabled&&t.text)).map((t=>t.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=null===t||void 0===t?void 0:t.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((t=>t())),this.processors.forEach((t=>t.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),e?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((t=>t.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await t(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((t=>St.errorOnce(t))))}update(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:n=!1,skipAnimations:a,seriesToUpdate:o=this.series,newAnimationBatch:r}=null!==i&&void 0!==i?i:{};n&&this.series.forEach((t=>t.markNodeDataDirty()));for(const l of o)this.seriesToUpdate.add(l);if(a&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),r&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=null!==(t=null===i||void 0===i?void 0:i.skipSync)&&void 0!==t&&t,this.debug.check()){var s;let t=null!==(s=(new Error).stack)&&void 0!==s?s:"<unknown>";t=t.replace(/\([^)]*/g,""),this.updateRequestors[t]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(null===i||void 0===i?void 0:i.backOffMs))}async performUpdate(t){var e;const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:a,ctx:o}=this,r=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&i<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",Pu[i]);let s=performance.now();null!==(e=a.start)&&void 0!==e||(a.start=s);const l=t=>{var e;null!==(e=a[t])&&void 0!==e||(a[t]=0),a[t]+=performance.now()-s,s=performance.now()};let c=!1;switch(i){case 0:this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:await this.updateData(),l("\u2b07\ufe0f");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),l("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(r)){c=!0;break}await this.processLayout(),l("\u2316");case 4:{if(this.checkUpdateShortcut(4))break;const{seriesRect:t}=this;await Promise.all(r.map((e=>e.update({seriesRect:t})))),l("\ud83e\udd14"),this.updateAriaLabels()}case 5:if(this.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(this.getMinRects()),l("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,await o.scene.render({debugSplitTimes:a,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const t in a)delete a[t];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}c||(o.updateService.dispatchUpdateComplete(this.getMinRects()),this.ctx.domManager.setDataBoolean("updatePending",!1));const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(u-a.start))/100,count:t,performUpdateType:Pu[i]})}updateThemeClassName(){const{theme:t}=this.chartOptions.processedOptions,e="ag-charts-theme-",i=["".concat(e,"default"),"".concat(e,"default-dark")];let n=i[0],a=!1;"string"===typeof t?(n=t.replace("ag-",e),a=t.includes("-dark")):"string"===typeof(null===t||void 0===t?void 0:t.baseTheme)&&(n=t.baseTheme.replace("ag-",e),a=t.baseTheme.includes("-dark")),i.includes(n)||(n=a?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:e}=this.keyboard;this.ctx.domManager.setTabIndex(t?null!==e&&void 0!==e?e:0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(St.warn("exceeded the maximum number of simultaneous updates (".concat(4,"), discarding changes and rendering"),this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,i=(e+1)**2*40;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,e){null==e&&0===t.length||this.ctx.axisManager.updateAxes(null!==e&&void 0!==e?e:[],t)}onSeriesChange(t,e){var i,n,a;const o=null!==(i=null===e||void 0===e?void 0:e.filter((e=>!t.includes(e))))&&void 0!==i?i:[];this.destroySeries(o),null===(n=this.seriesLayerManager)||void 0===n||n.setSeriesCount(t.length);for(const r of t){if(null!==e&&void 0!==e&&e.includes(r))continue;r.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(r);const t=this;r.chart={get mode(){return t.mode},get isMiniChart(){return!1},get seriesRect(){return t.seriesRect},placeLabels:e=>t.placeLabels(e)},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}null===(a=this.seriesAreaManager)||void 0===a||a.seriesChanged(t)}destroySeries(t){null===t||void 0===t||t.forEach((t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.removeEventListener("groupingChanged",this.seriesGroupingChanged),t.destroy(),this.seriesLayerManager.releaseGroup(t),t.chart=void 0}))}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter((e=>e.axes[t.direction]===t))}assignAxesToSeries(){const t=fn(this.axes,(t=>t.direction));this.series.forEach((e=>{e.directions.forEach((i=>{const n=t[i];if(!n)return void St.warnOnce("no available axis for direction [".concat(i,"]; check series and axes configuration."));const a=e.getKeys(i),o=n.find((t=>!t.keys.length||a.some((e=>t.keys.includes(e)))));o?e.axes[i]=o:St.warnOnce("no matching axis for direction [".concat(i,"] and keys [").concat(a,"]; check series and axes configuration."))}))}))}parentResize(t){var e;if(null==t||null!=this.width&&null!=this.height)return;let{width:i,height:n}=t;if(i=Math.floor(i),n=Math.floor(n),0===i&&0===n)return;const[a=0,o=0]=null!==(e=this._lastAutoSize)&&void 0!==e?e:[];a===i&&o===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(t,e){var i,n,a,o;const{scene:r,animationManager:s}=this.ctx,{inWidth:l,inHeight:c,inMinWidth:u,inMinHeight:d}=e;this.ctx.domManager.setSizeOptions(null!==u&&void 0!==u?u:this.minWidth,null!==d&&void 0!==d?d:this.minHeight,null!==l&&void 0!==l?l:this.width,null!==c&&void 0!==c?c:this.height);const h=null!==(i=null!==l&&void 0!==l?l:this.width)&&void 0!==i?i:null===(n=this._lastAutoSize)||void 0===n?void 0:n[0],p=null!==(a=null!==c&&void 0!==c?c:this.height)&&void 0!==a?a:null===(o=this._lastAutoSize)||void 0===o?void 0:o[1];if(this.debug("Chart.resize() from ".concat(t),{width:h,height:p,stack:(new Error).stack}),null!=h&&null!=p&&Di(h)&&Di(p)&&r.resize(h,p)){s.reset();let t=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(t=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:t})}}async updateData(){this.series.forEach((t=>t.setChartData(this.data)));const t=this.modulesManager.mapModules((t=>{var e;return null===(e=t.updateData)||void 0===e?void 0:e.call(t,this.data)}));await Promise.all(t)}async processData(){this.series.some((t=>t.canHaveAxes))&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new qu(this.mode),e=this.series.map((e=>e.processData(t))),i=this.modulesManager.mapModules((e=>{var i;return null===(i=e.processData)||void 0===i?void 0:i.call(e,t)}));t.execute(),await Promise.all([...e,...i]);for(const{legendType:n,legend:a}of this.modulesManager.legends())a.data=this.getLegendData(n,"integrated"!==this.mode)}placeLabels(t){const e=[],i=[];for(const u of this.series){if(!u.visible)continue;const t=u.getLabelData();null!=(n=null===t||void 0===t?void 0:t[0])&&"object"===typeof n.point&&"object"===typeof n.label&&(i.push(t),e.push(u))}var n;const{seriesRect:a}=this,{top:o,right:r,bottom:s,left:l}=this.seriesArea.padding,c=a&&i.length>0?function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];t=t.map((t=>t.slice().sort(((t,e)=>e.point.size-t.point.size))));for(let u=0;u<t.length;u++){const d=n[u]=[],h=t[u];if(null!==h&&void 0!==h&&h.length&&h[0].label)for(let u=0,p=h.length;u<p;u++){var a,o;const p=h[u],{point:g,label:f,marker:y}=p,{text:m,width:v,height:x}=f,b=.5*g.size;let M=0,S=0;if(b>0&&null!=p.placement){const t=br[p.placement];M=(.5*v+b+i)*t.x,S=(.5*x+b+i)*t.y}const I=g.x-.5*v+M-((null!==(a=null===y||void 0===y?void 0:y.center.x)&&void 0!==a?a:.5)-.5)*g.size,D=g.y-.5*x+S-((null!==(o=null===y||void 0===y?void 0:y.center.y)&&void 0!==o?o:.5)-.5)*g.size;(!e||(l=D,c=x,(s=I)+v<(r=e).x+r.width&&s>r.x&&l>r.y&&l+c<r.y+r.height))&&(t.some((t=>t.some((t=>{var e;return vr(t.point,null===(e=t.marker)||void 0===e?void 0:e.center,I,D,v,x)}))))||n.some((t=>t.some((t=>xr(t,I,D,v,x)))))||d.push({index:u,text:m,x:I,y:D,width:v,height:x,datum:p}))}}var r,s,l,c;return n}(i,{x:-l,y:-o,width:a.width+l+r,height:a.height+o+s},t):[];return new Map(c.map(((t,i)=>[e[i],t])))}getLegendData(t,e){var i;const n=this.series.filter((t=>t.properties.showInLegend)).flatMap((e=>e.getLegendData(t)));if(e&&n.every((t=>"category"===t.legendType))){const t={},e=new Map(this.series.map((t=>[t.id,t.type])));for(const{seriesId:r,symbols:[{marker:s}],label:l}of n){var a,o;if(null==s.fill)continue;const n=e.get(r),c=null!==(a=t[n])&&void 0!==a?a:t[n]={};null!==(o=c[i=l.text])&&void 0!==o||(c[i]=s.fill),c[l.text]!==s.fill&&St.warnOnce("legend item '".concat(l.text,"' has multiple fill colors, this may cause unexpected behaviour."))}}return n}async processLayout(){var t;const e=this.animationRect,{width:i,height:n}=this.ctx.scene,a=this.ctx.layoutManager.createContext(i,n);await this.performLayout(a),!e||null!==(t=this.animationRect)&&void 0!==t&&t.equals(e)||this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async waitForUpdate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>t){const i="Chart.waitForUpdate() timeout of ".concat(t," reached - first chart update taking too long.");if(e)throw new Error(i);St.warnOnce(i)}await Sl(50)}await this.updateMutex.waitForClearAcquireQueue()}getMinRects(){const{width:t,height:e}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(t,e))).filter(hi);if(0===i.length)return;let n=0,a=0,o=0,r=0;for(const{minRect:c,minVisibleRect:u}of i)n=Math.max(n,c.width),a=Math.max(a,c.height),o=Math.max(o,u.width),r=Math.max(r,u.height);const s=new We(0,0,n,a);let l=s.clone();return o>0&&r>0&&(l=new We(0,0,o,r)),{minRect:s,minVisibleRect:l}}filterMiniChartSeries(t){return null===t||void 0===t?void 0:t.filter((t=>!1!==t.showInMiniChart))}applyOptions(t){var e,i,n,a;const o=t!==this.chartOptions?this.chartOptions.processedOptions:{},r=t.processedOptions,s=t.diffOptions(o);if(null==s)return;Gd("Chart.applyOptions() - applying delta",s);const l=this.applyModules(r);s.listeners&&this.registerListeners(this,s.listeners),kr(this,s,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"]});let c=!1,u="no-op";var d;(null!=s.series&&(u=this.applySeries(this,s.series,null===o||void 0===o?void 0:o.series),c=!0),"replaced"===u&&this.resetAnimations(),this.applyAxes(this,r,o,u,[],!0)&&(c=!0),s.data&&(this.data=s.data),null!==(e=s.legend)&&void 0!==e&&e.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),null!==(i=s.locale)&&void 0!==i&&i.localeText)&&(this.modulesManager.getModule("locale").localeText=null===(d=s.locale)||void 0===d?void 0:d.localeText);this.chartOptions=t;const h=this.modulesManager.getModule("navigator"),p=this.modulesManager.getModule("zoom");null!==h&&void 0!==h&&h.enabled||null!==p&&void 0!==p&&p.enabled||this.ctx.zoomManager.updateZoom("chart");const g=null===h||void 0===h?void 0:h.miniChart,f=null!==(n=null===(a=r.navigator)||void 0===a||null===(a=a.miniChart)||void 0===a?void 0:a.series)&&void 0!==n?n:r.series;!0===(null===g||void 0===g?void 0:g.enabled)&&null!=f?this.applyMiniChartOptions(g,f,r,o):!1===(null===g||void 0===g?void 0:g.enabled)&&(g.series=[],g.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(s,u));const y=c||l?0:3;this.maybeResetAnimations(u),Gd("Chart.applyOptions() - update type",Pu[y],{seriesStatus:u,forceNodeDataRefresh:c}),this.update(y,{forceNodeDataRefresh:c,newAnimationBatch:!0}),(s.initialState||s.theme)&&this.applyInitialState(t.userOptions.initialState)}applyInitialState(t){const{ctx:{annotationManager:e,historyManager:i,stateManager:n}}=this;if(null!=(null===t||void 0===t?void 0:t.annotations)){const i=t.annotations.map((t=>Ei(t,e.getAnnotationTypeStyles(t.type))));n.setState(e,i)}null!=t&&i.clear()}maybeResetAnimations(t){if("standalone"===this.mode)switch(t){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(t,e){const i=!!t.data||"data-change"===e||"replaced"===e,n=nd.getKeys(),a=Object.values(n).some((e=>null!=t[e])),o=null!=t.title&&null!=t.subtitle;return i||a||o}applyMiniChartOptions(t,e,i,n){var a,o;const r=null!==(a=null===n||void 0===n||null===(o=n.navigator)||void 0===o||null===(o=o.miniChart)||void 0===o?void 0:o.series)&&void 0!==a?a:null===n||void 0===n?void 0:n.series,s=this.applySeries(t,this.filterMiniChartSeries(e),this.filterMiniChartSeries(r));this.applyAxes(t,i,n,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const l=t.series;for(const p of l)p.properties.id=void 0;const c=t.axes,u=c.find((t=>"x"===t.direction));for(const p of c)p.gridLine.enabled=!1,p.label.enabled=p===u,p.tick.enabled=!1,p.interactionEnabled=!1;if(null!=u){var d,h;const t=null===(d=i.navigator)||void 0===d?void 0:d.miniChart,e=null===t||void 0===t?void 0:t.label,n=null===t||void 0===t||null===(h=t.label)||void 0===h?void 0:h.interval;u.line.enabled=!1,u.label.set(zi(e,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),u.tick.set(zi(n,["enabled","width","size","color","interval","step"]));const a=null===n||void 0===n?void 0:n.step;null!=a&&(u.interval.step=a)}}applyModules(t){const{type:e}=this.constructor;let i=!1;for(const a of Ml.byType("root","legend")){const o=null!=t[a.optionsKey]&&a.chartTypes.includes(e);if(o!==this.modulesManager.isEnabled(a)){if(o){var n;if(this.modulesManager.addModule(a,(t=>t.moduleFactory(this.getModuleContext()))),"legend"===a.type)null===(n=this.modulesManager.getModule(a))||void 0===n||n.attachLegend(this.ctx.scene);this[a.optionsKey]=this.modulesManager.getModule(a)}else this.modulesManager.removeModule(a),delete this[a.optionsKey];i=!0}}return i}initSeriesDeclarationOrder(t){for(let e=0;e<t.length;e++)t[e]._declarationOrder=e}applySeries(t,e,i){if(!e)return"no-change";const n=function(t,e,i){const n=(t,e,i)=>{const n=[t];for(const a of gd)a in e&&null!=e[a]&&n.push("".concat(a,"=").concat(e[a]));return null!==i&&void 0!==i&&i.seriesGrouping&&n.push("seriesGrouping.groupId=".concat(null===i||void 0===i?void 0:i.seriesGrouping.groupId)),n.join(";")},a=new Map;let o=0;for(const p of t){var r;const t=n(p.type,p.properties,null===i||void 0===i?void 0:i[o]);a.has(t)||a.set(t,[]),null===(r=a.get(t))||void 0===r||r.push([p,o++])}const s=new Map;for(const p of e){var l;const t=n(p.type,p,p);s.has(t)||s.set(t,[]),null===(l=s.get(t))||void 0===l||l.push(p)}if(![...a.keys()].some((t=>s.has(t))))return{status:"no-overlap",oldKeys:a.keys(),newKeys:s.keys()};const c=[];let u=-1;for(const[p,g]of s.entries())for(const t of g){var d,h;u++;const e=a.get(p);if(null==e||e.length<1){c.push({opts:t,idx:u,status:"add"}),a.delete(p);continue}const[n,o]=e.shift(),r=Dr(null!==(d=null===i||void 0===i?void 0:i[o])&&void 0!==d?d:{},null!==t&&void 0!==t?t:{}),{groupIndex:s,stackIndex:l}=null!==(h=null===r||void 0===r?void 0:r.seriesGrouping)&&void 0!==h?h:{};null!=s||null!=l?c.push({opts:t,series:n,diff:r,idx:o,status:"series-grouping"}):r?c.push({opts:t,series:n,diff:r,idx:o,status:"update"}):c.push({opts:t,series:n,idx:o,status:"no-op"}),0===e.length&&a.delete(p)}for(const p of a.values())for(const[t,e]of p)c.push({series:t,idx:e,status:"remove"});return{status:"overlap",changes:c}}(t.series,e,i);if("no-overlap"===n.status)return Gd("Chart.applySeries() - creating new series instances, status: ".concat(n.status),n),t.series=e.map((t=>this.createSeries(t))),this.initSeriesDeclarationOrder(t.series),"replaced";Gd("Chart.applySeries() - matchResult",n);const a=[];let o=!1,r=!1,s=!1;for(const c of n.changes){var l;switch(r||(r="series-grouping"===c.status),o||(o=null!=(null===(l=c.diff)||void 0===l?void 0:l.data)),s||(s="no-op"!==c.status),c.status){case"add":{const t=this.createSeries(c.opts);a.push(t),Gd("Chart.applySeries() - created new series",t);break}case"remove":Gd("Chart.applySeries() - removing series at previous idx ".concat(c.idx),c.series);break;case"no-op":a.push(c.series),Gd("Chart.applySeries() - no change to series at previous idx ".concat(c.idx),c.series);break;default:{const{series:t,diff:e,idx:i}=c;Gd("Chart.applySeries() - applying series diff previous idx ".concat(i),e,t),this.applySeriesValues(t,e),t.markNodeDataDirty(),a.push(t)}}}return this.initSeriesDeclarationOrder(a),Gd("Chart.applySeries() - final series instances",a),t.series=a,r?"series-grouping-change":o?"data-change":s?"updated":"no-op"}applyAxes(t,e,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in e)||!e.axes)return!1;a=["axes[].type",...a];const{axes:r}=e;if(!("replaced"===n)&&t.axes.length===r.length&&t.axes.every(((t,e)=>t.type===r[e].type))&&yd(i))return t.axes.forEach(((t,e)=>{var n,o;const s=Dr(null!==(n=null===(o=i.axes)||void 0===o?void 0:o[e])&&void 0!==n?n:{},r[e]);Gd("Chart.applyAxes() - applying axis diff idx ".concat(e),s);kr(t,s,{path:"axes[".concat(e,"]"),skip:a})})),!0;Gd("Chart.applyAxes() - creating new axes instances; seriesStatus: ".concat(n)),t.axes=this.createAxis(r,a);const s={x:[],y:[]};return t.axes.forEach((t=>{const{id:e}=t,i=t.getRegionNode();null!=i&&s[t.direction].push({id:e,node:i})})),o&&(this.ctx.regionManager.updateRegion("horizontal-axes",...s.x),this.ctx.regionManager.updateRegion("vertical-axes",...s.y)),!0}createSeries(t){const e=cd.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(e,t),this.applySeriesValues(e,t),e}applySeriesOptionModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Ml.byType("series-option"))a.optionsKey in e&&a.seriesTypes.includes(t.type)&&n.addModule(a,(t=>t.moduleFactory(i)))}applySeriesValues(t,e){const i=t.getModuleMap(),{type:n,data:a,listeners:o,seriesGrouping:r,showInMiniChart:s}=e,l=z(e,U);for(const c of td)if("series-option"===c.type&&c.optionsKey in l){const t=i.getModule(c.optionsKey);if(t){const e=l[c.optionsKey];delete l[c.optionsKey],t.properties.set(e)}}t.properties.set(l),"data"in e&&t.setOptionsData(a),o&&this.registerListeners(t,o),"seriesGrouping"in e&&(t.seriesGrouping=null==r?void 0:O(O({},t.seriesGrouping),r))}createAxis(t,e){const i=[],n=this.getModuleContext();for(let a=0;a<t.length;a++){const o=t[a],r=$u.create(o.type,n);this.applyAxisModules(r,o),kr(r,o,{path:"axes[".concat(a,"]"),skip:e}),i.push(r)}return function(t){const e=[],i=[],n=[...pd];for(const o of t)o instanceof al&&("string"===typeof(a=o.position)&&pd.includes(a)?i.push(o.position):e.push(o));var a;for(const o of e){let t;do{t=n.pop()}while(t&&i.includes(t));if(null==t)break;o.position=t}}(i),i}applyAxisModules(t,e){const i=t.createModuleContext(),n=t.getModuleMap();for(const a of Ml.byType("axis-option")){const o=null!=e[a.optionsKey];o!==n.isEnabled(a)&&(o?(n.addModule(a,(t=>t.moduleFactory(i))),t[a.optionsKey]=n.getModule(a)):(n.removeModule(a),delete t[a.optionsKey]))}}registerListeners(t,e){t.clearEventListeners();for(const[i,n]of Object.entries(e))vi(n)&&t.addEventListener(i,n)}};_d.chartsInstances=new WeakMap,gt([Or({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),_d.chartsInstances.set(t,this))},oldValue(t){_d.chartsInstances.delete(t)}})],_d.prototype,"container",2),gt([Or({newValue(t){this.resize("width option",{inWidth:t})}})],_d.prototype,"width",2),gt([Or({newValue(t){this.resize("height option",{inHeight:t})}})],_d.prototype,"height",2),gt([Or({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],_d.prototype,"minWidth",2),gt([Or({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],_d.prototype,"minHeight",2),gt([On(Bn)],_d.prototype,"padding",2),gt([On(Bn)],_d.prototype,"seriesArea",2),gt([On(Bn)],_d.prototype,"keyboard",2),gt([On(Na(["standalone","integrated"],"a chart mode"))],_d.prototype,"mode",2),gt([Tr("chartCaptions.title")],_d.prototype,"title",2),gt([Tr("chartCaptions.subtitle")],_d.prototype,"subtitle",2),gt([Tr("chartCaptions.footnote")],_d.prototype,"footnote",2),gt([Or({changeValue(t,e){this.onAxisChange(t,e)}})],_d.prototype,"axes",2),gt([Or({changeValue(t,e){this.onSeriesChange(t,e)}})],_d.prototype,"series",2);var Yd=_d,Vd=class{constructor(t,e,i){this.root=new Hd(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(e,i)=>t.distanceSquared(e,i)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},Wd=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},Zd=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=null!==i&&void 0!==i?i:We.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(void 0===this.subdivisions?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:a}=this,o=this.maxdepth-1,r=i/2,s=n/2,l=new We(t,e,r,s),c=new We(t+r,e,r,s),u=new We(t,e+s,r,s),d=new We(t+r,e+s,r,s);return new Wd(this.child(a,o,l),this.child(a,o,c),this.child(a,o,u),this.child(a,o,d))}},Hd=class t extends Zd{addCondition(t){const{x:e,y:i}=t.hitTester.midPoint;return this.boundary.containsPoint(e,i)}findCondition(t,e,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(t,e)<n.distanceSquared}findAction(t,e,i){const n=ve(t,e,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(e,i,n){return new t(e,i,n)}},Kd=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],Qd=Object.freeze({x:.5,y:.5}),Xd=class extends Mc{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){var t;return Kd.includes(null!==(t=this.constructor.className)&&void 0!==t?t:"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();const{x:t,y:e,size:i}=this,{center:n}=this.constructor;return new We(t-i*n.x,e-i*n.y,i,i)}applyPath(t,e){const{path:i}=this;let{x:n,y:a}=this;i.clear();for(const{x:o,y:r,t:s}of e)n+=o*t,a+=r*t,"move"===s?i.moveTo(n,a):i.lineTo(n,a);i.closePath()}executeFill(t,e){if(e)return super.executeFill(t,e)}executeStroke(t,e){if(e)return super.executeStroke(t,e)}};gt([bc()],Xd.prototype,"x",2),gt([bc()],Xd.prototype,"y",2),gt([bc({convertor:Math.abs})],Xd.prototype,"size",2);var Jd=class extends(wo(No(Lo(Xd)))){};Jd.center=Qd;var qd=class extends Jd{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2;i.clear(),i.arc(t,e,a,0,2*Math.PI),i.closePath()}};qd.className="Circle";var $d=class t extends Jd{updatePath(){const e=this.size/4.2;super.applyPath(e,t.moves)}};$d.className="Cross",$d.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var th=$d,eh=class t extends Jd{updatePath(){const e=this.size/2;super.applyPath(e,t.moves)}};eh.className="Diamond",eh.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var ih=eh,nh=class extends Jd{rad(t){return t/180*Math.PI}updatePath(){const{x:t,path:e,size:i,rad:n}=this,a=i/4,o=this.y+a/2;e.clear(),e.arc(t-a,o-a,a,n(130),n(330)),e.arc(t+a,o-a,a,n(220),n(50)),e.lineTo(t,o+a),e.closePath()}};nh.className="Heart";var ah=class extends Jd{updatePath(){const{path:t,x:e,y:i}=this,n=this.size,a=.5;t.clear(),t.moveTo(e+-.34375*n,i+-.65625*n),t.cubicCurveTo(e+-.34375*n,i+-.848509*n,e+-.192259*n,i+-1*n,e+0*n,i+-1*n),t.cubicCurveTo(e+(.692259-a)*n,i+-1*n,e+.34375*n,i+-.848509*n,e+.34375*n,i+-.65625*n),t.cubicCurveTo(e+.34375*n,i+-.506176*n,e+.284625*n,i+(.600181-1)*n,e+(.716461-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+.199009*n,i+-.280231*n,e+(.681271-a)*n,i+-.256896*n,e+(.663785-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.611893-a)*n,i+(.834367-1)*n,e+(.562228-a)*n,i+(.899699-1)*n,e+(.528896-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.524075-a)*n,i+(.992358-1)*n,e+(.512663-a)*n,i+0*n,e+0*n,i+0*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.487337-a)*n,i+0*n,e+(.475925-a)*n,i+(.992358-1)*n,e+(.471104-a)*n,i+(.980648-1)*n),t.cubicCurveTo(e+(.437772-a)*n,i+(.899699-1)*n,e+(.388107-a)*n,i+(.834367-1)*n,e+(.336215-a)*n,i+(.766105-1)*n),t.cubicCurveTo(e+(.318729-a)*n,i+-.256896*n,e+-.199009*n,i+-.280231*n,e+(.283539-a)*n,i+(.695393-1)*n),t.cubicCurveTo(e+-.284625*n,i+(.600181-1)*n,e+-.34375*n,i+-.506176*n,e+-.34375*n,i+-.65625*n),t.closePath()}};ah.className="MapPin",ah.center={x:.5,y:1};var oh=class t extends Jd{updatePath(){const e=this.size/3;super.applyPath(e,t.moves)}};oh.className="Plus",oh.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var rh=oh,sh=class extends Jd{updatePath(){const{path:t,x:e,y:i}=this,n=this.size/2;t.clear(),t.moveTo(this.align(e-n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i+n)),t.lineTo(this.align(e-n),this.align(i+n)),t.closePath()}};sh.className="Square";var lh=class extends Jd{updatePath(){const{x:t,y:e,path:i,size:n}=this,a=n/2,o=Math.PI/2;i.clear();for(let r=0;r<10;r++){const s=r%2===0?n:a,l=r*Math.PI/5-o,c=t+Math.cos(l)*s,u=e+Math.sin(l)*s;i.lineTo(c,u)}i.closePath()}};lh.className="Star";var ch=class t extends Jd{updatePath(){const e=1.1*this.size;super.applyPath(e,t.moves)}};ch.className="Triangle",ch.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var uh=ch,dh={circle:qd,cross:th,diamond:ih,heart:nh,pin:ah,plus:rh,square:sh,star:lh,triangle:uh},hh=Object.keys(dh);function ph(t){return"string"===typeof t&&hh.includes(t)}function gh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sh;return ph(t)?dh[t]:"function"===typeof t?t:sh}var fh=class extends Td{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(t){let{xScale:e,yScale:i}=t;return{isContinuousX:cn.is(e),isContinuousY:cn.is(i),xScaleType:null===e||void 0===e?void 0:e.type,yScaleType:null===i||void 0===i?void 0:i.type}}getModulePropertyDefinitions(){var t,e;const i=null===(t=this.axes.x)||void 0===t?void 0:t.scale,n=null===(e=this.axes.y)||void 0===e?void 0:e.scale;return this.moduleMap.mapModules((t=>t.getPropertyDefinitions(this.getScaleInformation({xScale:i,yScale:n})))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:a}=await t.request(this.id,null!==e&&void 0!==e?e:[],i);return this.dataModel=n,this.processedData=a,this.dispatch("data-processed",{dataModel:n,processedData:a}),{dataModel:n,processedData:a}}isProcessedDataAnimatable(){var t;const e=null===(t=this.processedData)||void 0===t||null===(t=t.reduced)||void 0===t?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:i,uniqueKeys:n}=e;return i&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(void 0===e||0===e.length)return;const i=this.computeFocusDatumIndex(t,e);if(void 0===i)return;const{showFocusBox:n}=this,a=e[i],o=O(O({},t),{},{datumIndex:i}),r=this.computeFocusBounds(o);return void 0!==r?{bounds:r,showFocusBox:n,datum:a,datumIndex:i}:void 0}computeFocusDatumIndex(t,e){const i=t=>{const{missing:i=!1,enabled:n=!0,focusable:a=!0}=e[t];return!i&&n&&a},n=t=>{for(;t>=0&&!i(t);)t--;return-1===t?void 0:t},a=t=>{for(;t<e.length&&!i(t);)t++;return t===e.length?void 0:t};let o;const r=Ee(0,t.datumIndex,e.length-1);if(t.datumIndexDelta<0)o=n(r);else if(t.datumIndexDelta>0)o=a(r);else{var s;o=null!==(s=a(r))&&void 0!==s?s:n(r)}return void 0===o?0===t.datumIndexDelta?void 0:t.datumIndex-t.datumIndexDelta:o}},yh=class extends Tn{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};gt([On(aa,{optional:!0})],yh.prototype,"fill",2),gt([On(Hn,{optional:!0})],yh.prototype,"fillOpacity",2),gt([On(aa,{optional:!0})],yh.prototype,"stroke",2),gt([On(Zn,{optional:!0})],yh.prototype,"strokeWidth",2),gt([On(Hn,{optional:!0})],yh.prototype,"strokeOpacity",2),gt([On(ga,{optional:!0})],yh.prototype,"lineDash",2),gt([On(Zn,{optional:!0})],yh.prototype,"lineDashOffset",2);var mh=class extends Tn{};gt([On(Zn,{optional:!0})],mh.prototype,"strokeWidth",2),gt([On(Hn,{optional:!0})],mh.prototype,"dimOpacity",2),gt([On(Gn,{optional:!0})],mh.prototype,"enabled",2);var vh=class extends Tn{constructor(){super(...arguments),this.color="black"}};gt([On(aa,{optional:!0})],vh.prototype,"color",2);var xh=class extends Tn{constructor(){super(...arguments),this.enabled=!0}};gt([On(Gn,{optional:!0})],xh.prototype,"enabled",2);var bh=class extends Tn{constructor(){super(...arguments),this.item=new yh,this.series=new mh,this.text=new vh}};gt([On(Bn)],bh.prototype,"item",2),gt([On(Bn)],bh.prototype,"series",2),gt([On(Bn)],bh.prototype,"text",2);var Mh=class extends Tn{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new xh,this.highlightStyle=new bh}};gt([On(_n,{optional:!0})],Mh.prototype,"id",2),gt([On(Gn)],Mh.prototype,"visible",2),gt([On(Vn,{optional:!0})],Mh.prototype,"focusPriority",2),gt([On(Gn)],Mh.prototype,"showInLegend",2),gt([On(_n)],Mh.prototype,"cursor",2),gt([On(Da)],Mh.prototype,"nodeClickRange",2),gt([On(Bn)],Mh.prototype,"highlight",2),gt([On(Bn)],Mh.prototype,"highlightStyle",2);var Sh={x:["xKey"],y:["yKey"]},Ih={x:["xName"],y:["yName"]},Dh=class extends Ad{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},wh=class extends Mh{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};gt([On(_n,{optional:!0})],wh.prototype,"legendItemName",2),gt([On(Gn,{optional:!0})],wh.prototype,"pickOutsideVisibleMinorAxis",2);var Nh=class extends fh{constructor(t){let{pathsPerSeries:e=["path"],hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:a=[],datumSelectionGarbageCollection:o=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:s=!1,animationResetFns:l,directionKeys:c,directionNames:u}=t;if(super(O({directionKeys:c,directionNames:u,canHaveAxes:!0},z(t,_))),this.NodeEvent=Dh,this.dataNodeGroup=this.contentGroup.appendChild(new Co({name:"".concat(this.id,"-series-dataNodes"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new Co({name:"".concat(this.id,"-series-markers"),zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new Ro({name:"".concat(this.id,"-series-labels"),zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=Po.select(this.labelGroup,fr),this.highlightSelection=Po.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=Po.select(this.highlightLabel,fr),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=jo.create(),!c||!u)throw new Error("Unable to initialise series type ".concat(this.type));this.opts={pathsPerSeries:e,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:a,directionKeys:c,directionNames:u,animationResetFns:l,animationAlwaysUpdateSelections:s,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:r},this.paths=[];for(let d=0;d<e.length;d++)this.paths[d]=new Mc({name:"".concat(this.id,"-").concat(e[d])}),this.paths[d].zIndex=4,this.paths[d].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",d),this.contentGroup.appendChild(this.paths[d]);this.datumSelection=Po.select(this.dataNodeGroup,(()=>this.nodeFactory()),o),this.markerSelection=Po.select(this.markerGroup,(()=>this.markerFactory()),r),this.animationState=new Fr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:t=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(t):this.animateWaitingUpdateReady(t)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:t=>this.resetAllAnimation(t),reset:"empty"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t?this.animationState.transition("skip"):"disabled"===t&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(t=>this.onLegendItemClick(t))),this.ctx.chartEventManager.addListener("legend-item-double-click",(t=>this.onLegendItemDoubleClick(t))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(t){var e;let{seriesRect:i}=t;const{visible:n,_contextNodeData:a}=this,o=(null===(e=this.ctx.highlightManager)||void 0===e||null===(e=e.getActiveHighlight())||void 0===e?void 0:e.series)===this,r=this.checkResize(i),s=await this.updateHighlightSelection(o);await this.updateSelections(n),await this.updateNodes(s,o,n);const l=this.getAnimationData(i,a);l&&(r&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((t||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const t=this.isProcessedDataAnimatable();var n;if(this._contextNodeData)null!==(n=(e=this._contextNodeData).animationValid)&&void 0!==n||(e.animationValid=t);this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:a}=this;void 0!==i&&void 0!==a&&this.dispatch("data-update",{dataModel:i,processedData:a})}await this.updateSeriesSelections()}}async updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:a}=this,o=this._contextNodeData;if(!o)return;const{nodeData:r,labelData:s,itemId:l}=o;await this.updatePaths({seriesHighlighted:t,itemId:l,contextData:o,paths:a}),this.datumSelection=await this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelSelection=await this.updateLabelSelection({labelData:s,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:r,markerSelection:n}))}markerFactory(){return new(gh())}getGroupZIndexSubOrder(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(t,e);if("paths"===t){var n;const[t]=i,a=null!==(n=this.opts.pathsZIndexSubOrderOffset[e])&&void 0!==n?n:0;i[0]=vi(t)?()=>Number(t())+a:Number(t)+a}return i}async updateNodes(t,e,i){var n;const{highlightSelection:a,highlightLabelSelection:o,opts:{hasMarkers:r,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&e;const u=this.getOpacity();r?(await this.updateMarkerNodes({markerSelection:a,isHighlight:!0}),this.animationState.transition("highlightMarkers",a)):(await this.updateDatumNodes({datumSelection:a,isHighlight:!0}),this.animationState.transition("highlight",a)),s&&await this.updateLabelNodes({labelSelection:o});const{dataNodeGroup:d,markerGroup:h,datumSelection:p,labelSelection:g,markerSelection:f,paths:y,labelGroup:m}=this,{itemId:v}=null!==(n=this.contextNodeData)&&void 0!==n?n:{};d.opacity=u,d.visible=l||c,m.visible=c,r&&(h.opacity=u,h.zIndex=d.zIndex>=4?d.zIndex:d.zIndex+1,h.visible=c),m&&(m.opacity=u),await this.updatePathNodes({seriesHighlighted:e,itemId:v,paths:y,opacity:u,visible:c,animationEnabled:l}),d.visible&&(await this.updateDatumNodes({datumSelection:p,highlightedItems:t,isHighlight:!1}),await this.updateLabelNodes({labelSelection:g}),r&&await this.updateMarkerNodes({markerSelection:f,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter((t=>t.datum===e.datum&&t.itemId===e.itemId));return 0===i.length?void 0:i}getHighlightData(t,e){return e?[e]:void 0}async updateHighlightSelection(t){var e;const{highlightSelection:i,highlightLabelSelection:n,_contextNodeData:a}=this;if(!a)return;const o=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=t&&null!==o&&void 0!==o&&o.datum?o:void 0;let s,l;if(null!=r){const t=this.isLabelEnabled(),{labelData:e,nodeData:i}=a;l=this.getHighlightData(i,r),s=t?this.getHighlightLabelData(e,r):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:l,highlightSelection:i}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:n}),l}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)!0!==t.datum.missing&&(yield t)}getQuadTree(){if(void 0===this.quadtree){const{width:t,height:e}=this.ctx.scene.canvas,i=new We(0,0,t,e);this.quadtree=new Vd(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:a}}=this;let o;const{dataNodeGroup:r,markerGroup:s}=this;if(o=r.pickNode(i,n),!o&&a&&(o=null===s||void 0===s?void 0:s.pickNode(i,n)),o&&!0!==o.datum.missing)return{datum:o.datum,distance:0};for(const c of this.moduleMap.modules()){var l;const{datum:e}=null!==(l=c.pickNodeExact(t))&&void 0!==l?l:{};if(null!=e&&!0!==(null===e||void 0===e?void 0:e.missing))return{datum:e,distance:0}}}pickNodeClosestDatum(t){const{x:e,y:i}=t,{axes:n,_contextNodeData:a}=this;if(!a)return;const o=n.x,r=n.y,s=e,l=i;let c,u=1/0;for(const p of a.nodeData){const{point:{x:t=NaN,y:e=NaN}={}}=p;if(isNaN(t)||isNaN(e))continue;if(!((null===o||void 0===o?void 0:o.inRange(t))&&(null===r||void 0===r?void 0:r.inRange(e))))continue;const i=Math.max((s-t)**2+(l-e)**2,0);i<u&&(u=i,c=p)}for(const p of this.moduleMap.modules()){const e=p.pickNodeNearest(t);if(void 0!==e&&e.distanceSquared<u){u=e.distanceSquared,c=e.datum;break}}if(c){var d,h;return{datum:c,distance:Math.max(Math.sqrt(u)-(null!==(d=null===(h=c.point)||void 0===h?void 0:h.size)&&void 0!==d?d:0),0)}}}pickNodeMainAxisFirst(t,e){const{x:i,y:n}=t,{axes:a,_contextNodeData:o}=this,{pickOutsideVisibleMinorAxis:r}=this.properties;if(!o)return;const s=a.x,l=a.y,c=[s,l].filter(rl.is).map((t=>t.direction));if(e&&0===c.length)return;const[u="x"]=c,d=[i,n];"x"!==u&&d.reverse();const h=[1/0,1/0];let p;for(const v of o.nodeData){var g,f;const{x:t=NaN,y:e=NaN}=null!==(g=null!==(f=v.point)&&void 0!==f?f:v.midPoint)&&void 0!==g?g:{};if(isNaN(t)||isNaN(e)||!0===v.missing)continue;const i=[null===s||void 0===s?void 0:s.inRange(t),null===l||void 0===l?void 0:l.inRange(e)];if("x"!==u&&i.reverse(),!i[0]||!r&&!i[1])continue;const n=[t,e];"x"!==u&&n.reverse();let a=!0;for(let o=0;o<n.length;o++){const t=Math.abs(n[o]-d[o]);if(t>h[o]){a=!1;break}t<h[o]&&(h[o]=t,h.fill(1/0,o+1,h.length))}a&&(p=v)}if(p){var y,m;let e=Math.max(h[0]**2+h[1]**2-(null!==(y=null===(m=p.point)||void 0===m?void 0:m.size)&&void 0!==y?y:0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(t);if(void 0!==n&&n.distanceSquared<e){p=n.datum,e=n.distanceSquared;break}}return{datum:p,distance:Math.sqrt(e)}}}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:n,series:a}=t,o=null!=e&&e===t.legendItemName;(a.id===this.id||o)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:n,numVisibleItems:a}=t,{legendItemName:o}=this.properties,r=null!=o&&o===t.legendItemName;n.id===this.id||r||e&&1===a?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){const{dirtyNodeData:i,sizeCache:n,minRect:a,minVisibleRect:o}=this.minRectsCache,r=JSON.stringify({width:t,height:e});if(!(r!==n)&&!i&&a&&o)return{minRect:a,minVisibleRect:o};const s=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:r,minRect:null===s||void 0===s?void 0:s.minRect,minVisibleRect:null===s||void 0===s?void 0:s.minVisibleRect},s}computeMinRects(t,e){var i,n;const a=this._contextNodeData;if(null===a||void 0===a||!a.nodeData.length)return;const{nodeData:o}=a,r=Array(o.length),s=Array(o.length);for(const[D,{midPoint:w}]of o.entries()){var l,c;r[D]=null!==(l=null===w||void 0===w?void 0:w.x)&&void 0!==l?l:0,s[D]=null!==(c=null===w||void 0===w?void 0:w.y)&&void 0!==c?c:0}let u,d,h,p;r.sort(((t,e)=>t-e)),s.sort(((t,e)=>t-e));let g=0,f=0;for(let D=1;D<o.length;D++){var y,m,v,x;r[D]>=0&&(null!==(y=u)&&void 0!==y||(u=D)),r[D]>t&&(null!==(m=d)&&void 0!==m||(d=D)),s[D]>=0&&(null!==(v=h)&&void 0!==v||(h=D)),s[D]>e&&(null!==(x=p)&&void 0!==x||(p=D)),g=Math.max(g,r[D]-r[D-1]),f=Math.max(f,s[D]-s[D-1])}null!==(i=d)&&void 0!==i||(d=o.length),null!==(n=p)&&void 0!==n||(p=o.length);const b=null!=u&&null!=d?r.slice(u,d):[],M=null!=h&&null!=p?s.slice(h,p):[];let S=0,I=0;for(let D=1;D<Math.max(b.length,M.length);D++){const t=b[D],e=b[D-1],i=M[D],n=M[D-1];null!=t&&null!=e&&(S=Math.max(S,t-e)),null!=i&&null!=n&&(I=Math.max(I,i-n))}return{minRect:new We(0,0,g,f),minVisibleRect:new We(0,0,S,I)}}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,a=null!==i&&void 0!==i?i:[];if(e){const t=n;return this.updateMarkerSelection({nodeData:a,markerSelection:t})}return this.updateDatumSelection({nodeData:a,datumSelection:n})}updateHighlightSelectionLabel(t){var e;return this.updateLabelSelection({labelData:null!==(e=t.items)&&void 0!==e?e:[],labelSelection:t.highlightLabelSelection})}async updateDatumSelection(t){return t.datumSelection}async updateDatumNodes(t){}async updateMarkerSelection(t){return t.markerSelection}async updateMarkerNodes(t){}async updatePaths(t){t.paths.forEach((t=>t.visible=!1))}async updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const a of e)a.opacity=i,a.visible=n}resetPathAnimation(t){var e,i;const{path:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&t.paths.forEach((t=>{ja([t],n)}))}resetDatumAnimation(t){var e,i;const{datum:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ja([t.datumSelection],n)}resetLabelAnimation(t){var e,i;const{label:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ja([t.labelSelection],n)}resetMarkerAnimation(t){var e,i;const{marker:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&this.opts.hasMarkers&&ja([t.markerSelection],n)}resetAllAnimation(t){var e;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),!1===(null===(e=t.contextData)||void 0===e?void 0:e.animationValid)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e,i;const{datum:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ja([t],n)}animateReadyHighlightMarkers(t){var e,i;const{marker:n}=null!==(e=null===(i=this.opts)||void 0===i?void 0:i.animationResetFns)&&void 0!==e?e:{};n&&ja([t],n)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){const t=this.getAnimationData();t&&this.animationState.transition("clear",t)}getAnimationData(t,e){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}}calculateScaling(){const t={};for(const e of Object.values(Ra)){const i=this.axes[e];if(i)if(i.scale instanceof so){const{range:n,domain:a}=i.scale;t[e]={type:"log",convert:t=>i.scale.convert(t),domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale instanceof cn){const{range:n}=i.scale,a=i.scale.getDomain();t[e]={type:"continuous",domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;t[e]={type:"category",domain:n,range:n.map((t=>i.scale.convert(t)))}}}return t}},Lh=["top","right","bottom","left"],kh=class extends Yd{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(t,e){var i;super.onAxisChange(t,e),null===(i=this.ctx)||void 0===i||i.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this;e.setClipRect(t),n.setClipRect(t),i.setClipRect(t)}performLayout(t){const{firstSeriesTranslation:e,seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,{seriesRect:o,visibility:r,clipSeries:s}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=r.series,this.seriesRect=o,this.animationRect=t.layoutBox;const{x:l,y:c}=o;if(e){for(const t of[i,n,a])t.translationX=Math.floor(l),t.translationY=Math.floor(c);this.firstSeriesTranslation=!1}else{const{translationX:t,translationY:e}=i;on(this.id,"seriesRect",this.ctx.animationManager,[i,a,n],{translationX:t,translationY:e},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=o.clone().grow(this.seriesArea.padding),d=this.seriesArea.clip||s?u:void 0,{lastUpdateClipRect:h}=this;this.lastUpdateClipRect=d,this.ctx.animationManager.isActive()&&null!=h?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:h,to:u,onUpdate:t=>this.setRootClipRects(t),onComplete:()=>this.setRootClipRects(d)}):this.setRootClipRects(d),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map((t=>t.getLayoutState())),series:{rect:o,paddedRect:u,visible:r.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:s})}updateAxes(t){var e;const i=this.axes.flatMap((t=>{var e;return null!==(e=t.crossLines)&&void 0!==e?e:[]})).map((t=>t.id));let n,a,o;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every(((t,e)=>i[e]===t))?(n=new Map(this._lastAxisAreaWidths.entries()),a=this._lastClipSeries,o=O({},this._lastVisibility)):(n=new Map,a=!1,o={crossLines:!0,series:!0},this._lastCrossLineIds=i);const r=new Set(this.axes.map((t=>t.position)));for(const g of n.keys())r.has(g)||n.delete(g);const s=(t,e,i)=>{if([...t.keys()].some((t=>!n.has(t))))return!1;if(o.crossLines!==i.crossLines||o.series!==i.series||a!==e)return!1;for(const[a,o]of n.entries()){const e=t.get(a);if((null!=o||null!=e)&&o!==e)return!1}return!0},l=t=>{for(const[e,i]of t.entries())i&&Math.abs(i)===1/0?t.set(e,0):t.set(e,null!=i?Math.ceil(i):i);return t};let c=new Map,u={},d=!1,h=null===(e=this.seriesRect)||void 0===e?void 0:e.clone(),p=0;do{n=new Map(c.entries()),a=d,Object.assign(o,u);const e=this.updateAxesPass(n,t.clone(),h);if(c=l(e.axisAreaWidths),u=e.visibility,d=e.clipSeries,({seriesRect:h}=e),p++>10){St.warn("unable to find stable axis layout.");break}}while(!s(c,d,u));this.axes.forEach((t=>{t.update()}));return this.axes.forEach((e=>{if(e.setCrossLinesVisible(o.crossLines),h)switch(e.clipGrid(h.x,h.y,h.width+5,h.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,h.y,t.width+5,h.height+5);break;case"top":case"bottom":e.clipTickLines(h.x,t.y,h.width+5,t.height+5)}})),this._lastAxisAreaWidths=n,this._lastVisibility=o,this._lastClipSeries=a,{seriesRect:h,visibility:o,clipSeries:a}}updateAxesPass(t,e,i){const n=new Map,a=new Map,o={series:!0,crossLines:!0};let r=!1;const s={},l=this.applySeriesPadding(e),c=i?this.buildCrossLinePadding(t):{},u=this.buildAxisBound(l,t,c,o),d=this.buildSeriesRect(u,t);for(const f of this.axes){var h;const{position:t="left"}=f,{clipSeries:e,axisThickness:i}=this.calculateAxisDimensions({axis:f,seriesRect:d,primaryTickCounts:s,clipSeries:r});n.set(f.id,i),a.has(t)||a.set(t,[]),null===(h=a.get(t))||void 0===h||h.push(f),r=r||e}const p=new Map,g=new Map;for(const[f,y]of a.entries()){const t="left"===f||"right"===f;p.set(f,this.calculateAxisArea(y,n,g,t))}for(const[f,y]of a.entries())this.positionAxes({axes:y,position:f,axisWidths:n,axisOffsets:g,axisAreaWidths:p,axisBound:u,seriesRect:d});return{clipSeries:r,seriesRect:d,axisAreaWidths:p,visibility:o}}buildCrossLinePadding(t){const e={};this.axes.forEach((t=>{var i;null===(i=t.crossLines)||void 0===i||i.forEach((t=>{var i;null===(i=t.calculatePadding)||void 0===i||i.call(t,e)}))}));for(const[n,a=0]of Object.entries(e)){var i;e[n]=Math.max(a-(null!==(i=t.get(n))&&void 0!==i?i:0),0)}return e}applySeriesPadding(t){const e=t.clone();return Lh.forEach((t=>{const i=this.seriesArea.padding[t],n=this.axes.findLast((e=>e.position===t));n?n.seriesAreaPadding=i:e.shrink(i,t)})),e}buildAxisBound(t,e,i,n){var a,o,r,s;const l=t.clone(),{top:c=0,right:u=0,bottom:d=0,left:h=0}=i,p=h+u,g=c+d,f=(null!==(a=e.get("left"))&&void 0!==a?a:0)+(null!==(o=e.get("right"))&&void 0!==o?o:0)+p,y=(null!==(r=e.get("top"))&&void 0!==r?r:0)+(null!==(s=e.get("bottom"))&&void 0!==s?s:0)+g;return l.width<=f||l.height<=y?(n.crossLines=!1,n.series=!1,l):(l.x+=h,l.y+=c,l.width-=p,l.height-=g,l)}buildSeriesRect(t,e){var i,n,a,o,r,s;const l=t.clone();return l.x+=null!==(i=e.get("left"))&&void 0!==i?i:0,l.y+=null!==(n=e.get("top"))&&void 0!==n?n:0,l.width-=(null!==(a=e.get("left"))&&void 0!==a?a:0)+(null!==(o=e.get("right"))&&void 0!==o?o:0),l.height-=(null!==(r=e.get("top"))&&void 0!==r?r:0)+(null!==(s=e.get("bottom"))&&void 0!==s?s:0),l.width=Math.max(0,l.width),l.height=Math.max(0,l.height),l}clampToOutsideSeriesRect(t,e,i,n){const{x:a,y:o,width:r,height:s}=t,l=[a,o,a+r,o+s][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(e,l)}calculateAxisDimensions(t){var e;const{axis:i,seriesRect:n,primaryTickCounts:a}=t;let{clipSeries:o}=t;const{position:r="left",direction:s}=i;this.sizeAxis(i,n,r);const l=this.getSyncedDomain(i),c=i.calculateLayout(l,i.nice?a[s]:void 0),u="y"===s;let d;return null!==(e=a[s])&&void 0!==e||(a[s]=c.primaryTickCount),o||(o=i.dataDomain.clipped||i.visibleRange[0]>0||i.visibleRange[1]<1),d=null!=i.thickness&&i.thickness>0?i.thickness:u?c.bbox.width:c.bbox.height,d=Math.ceil(d),{clipSeries:o,axisThickness:d}}getSyncedDomain(t){const e=this.modulesManager.getModule("sync");if(null===e||void 0===e||!e.enabled)return;const i=e.getSyncedDomain(t);if(i&&t.dataDomain.domain.length){let n;const{domain:a}=t.scale;if(cn.is(t.scale)){const[t,e]=Oe(i);n=t!==a[0]||e!==a[1]}else n=!hn(i,a);n&&!this.skipSync&&e.updateSiblings()}return i}sizeAxis(t,e,i){const n=t instanceof rl||t instanceof vl,a="left"===i||"right"===i;let{min:o,max:r}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:s,height:l}=e,c=a?l:s;let u=0,d=c;const{width:h,unit:p,align:g}=t.layoutConstraints;d="px"===p?u+h:d*h/100,"end"===g&&(u=c-(d-u),d=c),n&&a?[o,r]=[1-r,1-o]:a&&([u,d]=[d,u]),t.range=[u,d],t.visibleRange=[o,r],t.gridLength=a?s:l}calculateAxisArea(t,e,i,n){const{width:a,height:o,canvas:r}=this.ctx.scene;let s=n?o%r.pixelRatio:a%r.pixelRatio,l=0;for(const u of t){var c;i.set(u.id,s);const t=null!==(c=e.get(u.id))&&void 0!==c?c:0;l=Math.max(l,s+t),u.layoutConstraints.stacked&&(s+=t+15)}return l}positionAxes(t){var e;const{axes:i,axisBound:n,axisWidths:a,axisOffsets:o,axisAreaWidths:r,seriesRect:s,position:l}=t,c=null!==(e=r.get(l))&&void 0!==e?e:0;let u="x",d="y",h=1,p=0;"top"!==l&&"bottom"!==l||(u="y",d="x",p+=1),p+=n[u],"right"!==l&&"bottom"!==l||(h=-1,p+="x"===u?n.width:n.height);for(const m of i){var g,f,y;const t=null!==(g=r.get("x"===d?"left":"top"))&&void 0!==g?g:0;m.translation[d]=n[d]+t;const e=null!==(f=a.get(m.id))&&void 0!==f?f:0,i=null!==(y=o.get(m.id))&&void 0!==y?y:0;m.translation[u]=this.clampToOutsideSeriesRect(s,p+h*(i+e),u,h),m.gridPadding=c-i-e,m.updatePosition()}}shouldFlipXY(){return this.series.every((t=>t instanceof Nh&&t.shouldFlipXY()))}};kh.className="CartesianChart",kh.type="cartesian";var Ah=class t{constructor(t,e,i){this.factoryApi=e,this.licenseManager=i,this.chart=t}static isInstance(e){var i;return e instanceof t||("AgChartInstanceProxy"===(null===(i=e.constructor)||void 0===i?void 0:i.name)&&null!=e.chart||null!=e.chart&&this.validateImplementation(e))}static validateImplementation(t){var e;const i=Object.keys(null!==(e=Object.getPrototypeOf(t))&&void 0!==e?e:{});return["getOptions","destroy"].every((t=>i.includes(t)))}async update(t){this.factoryApi.update(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){const t=wr(this.chart.getOptions());for(const e in t)e.startsWith("_")&&delete t[e];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){const e=await this.prepareResizedChart(this,t);try{e.chart.download(null===t||void 0===t?void 0:t.fileName,null===t||void 0===t?void 0:t.fileFormat)}finally{e.destroy()}}async __toSVG(t){const e=await this.prepareResizedChart(this,O({width:600,height:300},t));try{return e.chart.toSVG()}finally{e.destroy()}}async getImageDataURL(t){const e=await this.prepareResizedChart(this,t);try{return e.chart.getCanvasDataURL(null===t||void 0===t?void 0:t.fileFormat)}finally{e.destroy()}}getState(){const{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:e}}}=this;return t.save(e)}async setState(t){const{factoryApi:{caretaker:e},chart:{ctx:{annotationManager:i}}}=this;e.restore(t,i),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(t){var e,i,n,a;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chart:r}=t,s=null!==(e=null!==(i=o.width)&&void 0!==i?i:r.width)&&void 0!==e?e:r.ctx.scene.canvas.width,l=null!==(n=null!==(a=o.height)&&void 0!==a?a:r.height)&&void 0!==n?n:r.ctx.scene.canvas.height,c=t.getState(),u=Ml.hasEnterpriseModules(),d=O(O({},r.chartOptions.processedOverrides),{},{container:document.createElement("div"),width:s,height:l}),h=r.getOptions();var p;u&&(d.animation={enabled:!1},yd(h)&&(d.toolbar={enabled:!1}),null!==(p=this.licenseManager)&&void 0!==p&&p.isDisplayWatermark()&&(d.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const g=O({},r.chartOptions.specialOverrides),f=O({},r.chartOptions.optionMetadata);null!=o.width&&null!=o.height&&(g.overrideDevicePixelRatio=1);const y=await this.factoryApi.create(h,d,g,f);return await y.setState(c),y.chart.ctx.zoomManager.updateZoom("chartProxy",r.ctx.zoomManager.getZoom()),r.series.forEach(((t,e)=>{t.visible||(y.chart.series[e].visible=!1)})),y.chart.update(0,{forceNodeDataRefresh:!0}),await y.waitForUpdate(),y}};Ah.chartInstances=new WeakMap,gt([Or({oldValue(t){t.destroyed||(t.publicApi=void 0),Ah.chartInstances.delete(t)},newValue(t){t.publicApi=this,Ah.chartInstances.set(t,this)}})],Ah.prototype,"chart",2);var Ch=Ah,Th=class extends xl{constructor(t){super(),this.ctx=t,this.localeText=void 0}};gt([zr((t=>{t.ctx.localeManager.setLocaleText(t.localeText)})),On(Fn,{optional:!0})],Th.prototype,"localeText",2),gt([zr((t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)})),On(Un,{optional:!0})],Th.prototype,"getLocaleText",2);var Eh={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Th(t)},Rh=class extends cn{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(t){return t}ticks(){var t;const e=null!==(t=this.tickCount)&&void 0!==t?t:cn.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[i,n]=this.getDomain();if(this.interval){const t=Math.abs(this.interval);if(!oo((n-i)/t,this.getPixelRange()))return ao(i,n,t)}return $a(i,n,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){var i;return null!==(i=this.interval)&&void 0!==i?i:eo(t,e,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const t=this.tickCount;if(t<1)return void(this.niceDomain=[...this.domain]);let[e,i]=this.domain;if(1===t)[e,i]=function(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let a=1/0,o=[t,e];for(const r of Ja){const s=r*n,l=Math.floor(t/s)*s,c=Math.ceil(e/s)*s,u=1-i/Math.abs(c-l);a>u&&(a=u,o=[l,c])}return o}(e,i);else{const t=e>i?Math.ceil:Math.floor,n=i<e?Math.floor:Math.ceil,a=4;for(let o=0;o<a;o++){const a=e,o=i,r=this.getTickStep(e,i),[s,l]=this.domain;if(r>=1)e=t(s/r)*r,i=n(l/r)*r;else{const a=1/r;e=t(s*a)/a,i=n(l*a)/a}if(e===a&&i===o)break}}this.niceDomain=[e,i]}tickFormat(t){let{ticks:e,specifier:i}=t;return no(null!==e&&void 0!==e?e:this.ticks(),i)}};function Oh(t,e,i){let[n,a]=Oe(t);n=function(t,e,i){const n=Math.abs(e-t)/(i-1),a=Math.floor(Math.log10(n)),o=Math.pow(10,a);return Math.floor(t/o)*o}(Math.floor(n),a,e);const o=function(t,e,i){const n=i-1,a=(e-t)/n;return function(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(a)}(n,a,e);a=n+(e-1)*o;const r=i?[a,n]:[n,a],s=function(t,e,i){const n=Math.floor(Math.log10(e)),a=e>0&&e<1?Math.abs(n):0,o=Math.pow(10,a),r=[];for(let s=0;s<i;s++){const i=t+e*s;r[s]=Math.round(i*o)/o}return r}(n,o,e);return{domain:r,ticks:s}}var zh=class extends al{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rh),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=dn(t,e,i);return{domain:n,clipped:a}}updateSecondaryAxisTicks(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:e,ticks:i}=Oh(this.dataDomain.domain,null!==t&&void 0!==t?t:0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),i}};zh.className="NumberAxis",zh.type="number",gt([On(jn(Qn,$n("max"))),Bs(NaN)],zh.prototype,"min",2),gt([On(jn(Qn,ta("min"))),Bs(NaN)],zh.prototype,"max",2);var jh=Aa((t=>Ii(t)&&0!==t),"a non-zero number"),Ph=class extends zh{constructor(t){super(t,new so),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:a}=dn(t,e,i),o=n[0]>n[1],r=n[0]<0&&n[1]>0,s=0===n[0]&&0===n[1];return(o||r||s)&&(r?St.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&St.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:a}}set base(t){this.scale.base=t}get base(){return this.scale.base}};Ph.className="LogAxis",Ph.type="log",gt([On(jn(Qn,jh,$n("max"))),Bs(NaN)],Ph.prototype,"min",2),gt([On(jn(Qn,jh,ta("min"))),Bs(NaN)],Ph.prototype,"max",2);var Bh=class extends al{constructor(t){super(t,new lo),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:e,max:i}=this,n=!1;var a,o;("number"===typeof e&&(e=new Date(e)),"number"===typeof i&&(i=new Date(i)),t.length>2)&&(t=null!==(a=null===(o=un(t))||void 0===o?void 0:o.map((t=>new Date(t))))&&void 0!==a?a:[]);return e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}onFormatChange(t,e,i,n){n?super.onFormatChange(t,e,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:t,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:t,domain:i,formatOffset:1}))}};Bh.className="TimeAxis",Bh.type="time",gt([On(jn(ia,$n("max")),{optional:!0})],Bh.prototype,"min",2),gt([On(jn(ia,ta("min")),{optional:!0})],Bh.prototype,"max",2);var Fh=(t,e,i,n)=>{let{x0:a,y0:o,x1:r,y1:s,cx:l,cy:c}=e;if(n&&t.moveTo(a,o),a!==r||o!==s){const e=Math.atan2(o-c,a-l),n=Math.atan2(s-c,r-l);t.arc(l,c,i,e,n)}else t.lineTo(a,o)},Gh=1e-6,Uh=(t,e,i,n,a)=>{let o=!1,r=!1,s=n-Math.sqrt(Math.max(a**2-i**2,0)),l=0,c=0,u=i-Math.sqrt(Math.max(a**2-n**2,0));return s>t?(o=!0,s=t,l=i-Math.sqrt(Math.max(a**2-(n-t)**2))):s<Gh&&(s=0),u>e?(r=!0,c=n-Math.sqrt(Math.max(a**2-(i-e)**2)),u=e):u<Gh&&(u=0),{leading0:s,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:r}},_h=(t,e,i,n,a,o,r)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:u}=o;const d=Math.max(s+u,l+c),h=Math.max(s+l,u+c);if(d<=0&&h<=0)return void(null==r?t.rect(e,i,n,a):t.rect(r.x,r.y,r.width,r.height));if(null==r&&s===l&&s===c&&s===u)return void t.roundRect(e,i,n,a,s);if(n<0&&(e+=n,n=Math.abs(n)),a<0&&(i+=a,a=Math.abs(a)),n<=0||a<=0)return;if(null==r)r=new We(e,i,n,a);else{const t=Math.max(e,r.x),o=Math.min(e+n,r.x+r.width),s=Math.max(i,r.y),l=Math.min(i+a,r.y+r.height);r=new We(t,s,o-t,l-s)}const p=Math.max(d/a,h/n,1);p>1&&(s/=p,l/=p,c/=p,u/=p);let g,f,y,m,v=!0,x=!0,b=!0,M=!0;if(v){const t=Uh(r.height,r.width,Math.max(e+s-r.x,0),Math.max(i+s-r.y,0),s);t.leadingClipped&&(M=!1),t.trailingClipped&&(x=!1);g={x0:Math.max(r.x+t.leading1,r.x),y0:Math.max(r.y+t.leading0,r.y),x1:Math.max(r.x+t.trailing1,r.x),y1:Math.max(r.y+t.trailing0,r.y),cx:e+s,cy:i+s}}if(x){const t=Uh(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(e+n-l),0),l);t.leadingClipped&&(v=!1),t.trailingClipped&&(b=!1);f={x0:Math.min(r.x+r.width-t.leading0,r.x+r.width),y0:Math.max(r.y+t.leading1,r.y),x1:Math.min(r.x+r.width-t.trailing0,r.x+r.width),y1:Math.max(r.y+t.trailing1,r.y),cx:e+n-l,cy:i+l}}if(b){const t=Uh(r.height,r.width,Math.max(r.x+r.width-(e+n-c),0),Math.max(r.y+r.height-(i+a-c),0),c);t.leadingClipped&&(x=!1),t.trailingClipped&&(M=!1);y={x0:Math.min(r.x+r.width-t.leading1,r.x+r.width),y0:Math.min(r.y+r.height-t.leading0,r.y+r.height),x1:Math.min(r.x+r.width-t.trailing1,r.x+r.width),y1:Math.min(r.y+r.height-t.trailing0,r.y+r.height),cx:e+n-c,cy:i+a-c}}if(M){const t=Uh(r.width,r.height,Math.max(r.y+r.height-(i+a-u),0),Math.max(e+u-r.x,0),u);t.leadingClipped&&(b=!1),t.trailingClipped&&(v=!1);m={x0:Math.max(r.x+t.leading0,r.x),y0:Math.min(r.y+r.height-t.leading1,r.y+r.height),x1:Math.max(r.x+t.trailing0,r.x),y1:Math.min(r.y+r.height-t.trailing1,r.y+r.height),cx:e+u,cy:i+a-u}}let S=!1;v&&null!=g&&(Fh(t,g,s,!S),S||(S=!0)),x&&null!=f&&(Fh(t,f,l,!S),S||(S=!0)),b&&null!=y&&(Fh(t,y,c,!S),S||(S=!0)),M&&null!=m&&(Fh(t,m,u,!S),S||(S=!0)),t.closePath()},Yh=class extends Mc{constructor(){super(...arguments),this.borderPath=new xc,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=sr.defaultStyles.strokeWidth,this.effectiveStrokeWidth=sr.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var t,e;const{path:i,borderPath:n,crisp:a,topLeftCornerRadius:o,topRightCornerRadius:r,bottomRightCornerRadius:s,bottomLeftCornerRadius:l}=this;let{x:c,y:u,width:d,height:h,strokeWidth:p,clipBBox:g}=this;const f=1/(null!==(t=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==t?t:1);let y=1;if(i.clear(!0),n.clear(!0),a&&(d<=f&&(y*=d/f),h<=f&&(y*=h/f),d=this.align(c,d),h=this.align(u,h),c=this.align(c),u=this.align(u),g=null!=g?new We(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),p)if(d<f){const t=c+f/2;n.moveTo(t,u),n.lineTo(t,u+h),p=f,this.borderClipPath=void 0}else if(h<f){const t=u+f/2;n.moveTo(c,t),n.lineTo(c+d,t),p=f,this.borderClipPath=void 0}else if(p<d&&p<h){var m;const t=p/2;c+=t,u+=t,d-=p,h-=p;const e=null===(m=g)||void 0===m?void 0:m.clone().shrink(t),a={topLeft:o>0?o-p:0,topRight:r>0?r-p:0,bottomRight:s>0?s-p:0,bottomLeft:l>0?l-p:0};this.borderClipPath=void 0,d>0&&h>0&&(null==e||(null===e||void 0===e?void 0:e.width)>0&&(null===e||void 0===e?void 0:e.height)>0)&&(_h(i,c,u,d,h,a,e),_h(n,c,u,d,h,a,e))}else{var v;this.borderClipPath=null!==(v=this.borderClipPath)&&void 0!==v?v:new xc,this.borderClipPath.clear(!0),this.borderClipPath.rect(c,u,d,h),n.rect(c,u,d,h)}else{const t={topLeft:o,topRight:r,bottomRight:s,bottomLeft:l};this.borderClipPath=void 0,_h(i,c,u,d,h,t,g)}if([o,r,s,l].every((t=>0===t))){const t=this.getBBox();this.hittester=t.containsPoint.bind(t),this.distanceSquared=(t,e)=>this.getBBox().distanceSquared(t,e)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=y}computeBBox(){var t;const{x:e,y:i,width:n,height:a,clipBBox:o}=this;return null!==(t=null===o||void 0===o?void 0:o.clone())&&void 0!==t?t:new We(e,i,n,a)}isPointInPath(t,e){return this.hittester(t,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,e){return this.distanceCalculator(t,e)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this;t.globalAlpha*=n*e*i}renderStroke(t){const{stroke:e,effectiveStrokeWidth:i}=this;if(e&&i){const{globalAlpha:n}=t,{strokeOpacity:a,lineDash:o,lineDashOffset:r,lineCap:s,lineJoin:l,borderPath:c,borderClipPath:u,opacity:d,microPixelEffectOpacity:h}=this;u&&t.clip(u.getPath2D()),t.strokeStyle=e,t.globalAlpha*=d*a*h,t.lineWidth=i,o&&t.setLineDash(o),r&&(t.lineDashOffset=r),s&&(t.lineCap=s),l&&(t.lineJoin=l),t.stroke(c.getPath2D()),t.globalAlpha=n}}};Yh.className="Rect",gt([bc()],Yh.prototype,"x",2),gt([bc()],Yh.prototype,"y",2),gt([bc()],Yh.prototype,"width",2),gt([bc()],Yh.prototype,"height",2),gt([bc()],Yh.prototype,"topLeftCornerRadius",2),gt([bc()],Yh.prototype,"topRightCornerRadius",2),gt([bc()],Yh.prototype,"bottomRightCornerRadius",2),gt([bc()],Yh.prototype,"bottomLeftCornerRadius",2),gt([bc()],Yh.prototype,"clipBBox",2),gt([bc()],Yh.prototype,"crisp",2);var Vh=class extends xl{constructor(t){super(),this.ctx=t,this.rectNode=new Yh,this.textNode=new fr,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(t.scene.attachNode(this.node),t.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))))}createNode(){return new Co({name:"background",zIndex:0})}onLayoutComplete(t){const{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};gt([On(Gn),Rr("node","visible")],Vh.prototype,"visible",2),gt([On(aa,{optional:!0}),Rr("rectNode","fill")],Vh.prototype,"fill",2),gt([On(Bn,{optional:!0})],Vh.prototype,"image",2),gt([On(_n,{optional:!0}),Rr("textNode")],Vh.prototype,"text",2);var Wh={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Vh(t)};function Zh(t){let{orientation:e,bboxes:i,maxHeight:n,maxWidth:a,itemPaddingY:o=0,itemPaddingX:r=0,forceResult:s=!1}=t;const l="horizontal"===e,c={max:l?a:n,fn:l?t=>t.width:t=>t.height,padding:l?r:o},u={max:l?n:a,fn:l?t=>t.height:t=>t.width,padding:l?o:r};let d=0;const h=[];for(;d<i.length;){const t=Hh(i.slice(d),d,c,u,s);if(!t)return;d+=t.processedBBoxCount,h.push(t.pageIndices)}return function(t,e,i,n,a){let o=0,r=0;const s=t.map((t=>{"horizontal"===e&&(t=function(t){const e=[];for(const i of t[0])e.push([]);return t.forEach(((t,i)=>{t.forEach(((t,n)=>{e[n][i]=t}))})),e}(t));let s=0;const l=t.map((t=>{const e=t.map((t=>(s=Math.max(t,s),i[t])));let o=0,r=0;return e.forEach((t=>{o+=t.height+n,r=Math.max(r,t.width+a)})),{indices:t,bboxes:e,columnHeight:Math.ceil(o),columnWidth:Math.ceil(r)}}));let c=0,u=0;return l.forEach((t=>{c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),o=Math.max(c,o),r=Math.max(u,r),{columns:l,startIndex:t[0][0],endIndex:s,pageWidth:c,pageHeight:u}}));return{pages:s,maxPageWidth:o,maxPageHeight:r}}(h,e,i,o,r)}function Hh(t,e,i,n,a){let o=function(t,e){const i=t.length;let n=0;for(let a=0;a<i;a++)if(n+=e.fn(t[a])+e.padding,n>e.max){return i/a<2?Math.ceil(i/2):a}return i}(t,i);if(o<1){if(!a)return;o=1}let r=o;for(;r>=1;){const o=Kh(t,e,r,i,n,a);if(null==o&&r<=1)return;if(null==o){r--;continue}if("number"===typeof o){if(o<=1)return;r=o<r&&o>1?o:r,r--;continue}return{processedBBoxCount:o.length*o[0].length,pageIndices:o}}}function Kh(t,e,i,n,a,o){const r=[];let s=0,l=0,c=[];const u=[];for(let h=0;h<t.length;h++){var d;const p=(h+i)%i;0===p&&(s+=l,l=0,c.length>0&&r.push(c),c=[]);const g=n.fn(t[h])+n.padding;u[p]=Math.max(null!==(d=u[p])&&void 0!==d?d:0,g),l=Math.max(l,a.fn(t[h])+a.padding);const f=s+l,y=!o||r.length>0;if(f>a.max&&y){c=[];break}if(u.reduce(((t,e)=>t+e),0)>n.max&&!o)return u.length<i?u.length:void 0;c.push(h+e)}return c.length>0&&r.push(c),r.length>0?r:void 0}var Qh=class extends Je{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(t,e,i,n){this.sourceImage=t,this.width=t.width/e,this.height=t.height/e,this.x=i/e,this.y=n/e,this.markDirty(3)}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);const a=this.sourceImage;a&&(e.globalAlpha=this.opacity,e.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(t))}};gt([He({redraw:3})],Qh.prototype,"x",2),gt([He({redraw:3})],Qh.prototype,"y",2),gt([He({redraw:3})],Qh.prototype,"width",2),gt([He({redraw:3})],Qh.prototype,"height",2),gt([He({redraw:3})],Qh.prototype,"opacity",2);var Xh=class extends(Lo(Co)){constructor(){super({name:"markerLabelGroup"}),this.label=new fr,this.symbolsGroup=new Co({name:"legend-markerLabel-symbols"}),this.bitmap=new Qh,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:t,label:e,lines:i}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.updateSymbols(t,i),this.append([this.symbolsGroup,e])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){var t,e;null===(t=this.proxyButton)||void 0===t||t.button.remove(),null===(e=this.proxyButton)||void 0===e||e.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(t,e){hn(this._markers,t)&&hn(this._lines,e)||(this.bitmapDirty=!0,this._markers=t,this._lines=e,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...e,...t]))}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){const t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t,this.bitmap.opacity=t,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(t){const{lines:e,markers:i}=this;[e,i].forEach((e=>e.forEach((e=>e.visible=!t)))),this.bitmap.visible=t}update(t,e,i){var n,a,o,r,s;let{spriteAAPadding:l,spritePixelRatio:c}=e;const{markers:u,lines:d}=this;let h=0,p=0,g=0;for(let w=0;w<Math.max(u.length,d.length);w++){var f,y;const{length:t,spacing:e,isCustomMarker:n}=null!==(f=i[w])&&void 0!==f?f:0,a=u[w],o=d[w],r=null!==(y=null===a||void 0===a?void 0:a.size)&&void 0!==y?y:0;let s=1/0,l=1/0,c=1/0,m=1/0,v=1/0;if(a){const e=a.constructor.center,i=(r+a.strokeWidth)/2;n?(a.x=0,a.y=0,a.translationX=(e.x-.5)*r+t/2+g,a.translationY=(e.y-.5)*r,m=a.translationY-i,v=a.translationX-i):(a.x=(e.x-.5)*r+t/2+g,a.y=(e.y-.5)*r,m=a.y-i,v=a.x-i)}o&&(o.x1=g,o.x2=g+t,o.y1=0,o.y2=0,o.markDirty(3),s=-o.strokeWidth/2,l=o.x1,c=o.x2),g+=e+Math.max(t,r),h=Math.min(h,l,c,v),p=Math.min(p,s,m)}const m=i.at(-1),v=this.lines.at(-1),x=this.markers.at(-1),b=v?v.x2:-1/0,M=(null!==(n=null===x||void 0===x?void 0:x.x)&&void 0!==n?n:0)+(null!==(a=null===x||void 0===x?void 0:x.size)&&void 0!==a?a:0)/2;if(this.label.x=Math.max(b,M)+(null!==(o=null===m||void 0===m?void 0:m.spacing)&&void 0!==o?o:0),this.bitmapDirty){this.setBitmapVisibility(!1);const e=(l+h)*c,i=(l-p)*c,n=t.renderSprite(this.symbolsGroup,{scale:c,translateX:Math.floor(e),translateY:Math.floor(i)});this.bitmap.updateBitmap(n,c,Math.ceil(-e),Math.ceil(-i)),this.bitmapDirty=!1,this.refreshVisibilities()}if(i.length<2)return;const S=this.symbolsGroup.getBBox(),I=Math.max(null!==(r=null===x||void 0===x?void 0:x.size)&&void 0!==r?r:0,null!==(s=null===m||void 0===m?void 0:m.length)&&void 0!==s?s:0),D=new We(S.x+I/2,S.y,I,S.height);this.symbolsGroup.setClipRect(D)}computeBBox(){const{label:t,lines:e,markers:i}=this;return this.toParent(Co.computeChildrenBBox(ge([t],e,i),!1))}};Xh.className="MarkerLabel",gt([Rr("label")],Xh.prototype,"text",2),gt([Rr("label")],Xh.prototype,"fontStyle",2),gt([Rr("label")],Xh.prototype,"fontWeight",2),gt([Rr("label")],Xh.prototype,"fontSize",2),gt([Rr("label")],Xh.prototype,"fontFamily",2),gt([Rr("label","fill")],Xh.prototype,"color",2);var Jh=class extends Tn{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};gt([On(aa)],Jh.prototype,"color",2),gt([On(ya,{optional:!0})],Jh.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],Jh.prototype,"fontWeight",2),gt([On(Zn)],Jh.prototype,"fontSize",2),gt([On(_n)],Jh.prototype,"fontFamily",2);var qh=class extends Tn{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};gt([On(Zn)],qh.prototype,"size",2),gt([On(aa,{optional:!0})],qh.prototype,"fill",2),gt([On(Hn,{optional:!0})],qh.prototype,"fillOpacity",2),gt([On(aa,{optional:!0})],qh.prototype,"stroke",2),gt([On(Zn)],qh.prototype,"strokeWidth",2),gt([On(Hn)],qh.prototype,"strokeOpacity",2);var $h=class extends Tn{constructor(t){super(),this.parent=t,this.shape=uh,this.size=15,this.padding=8}};gt([Or({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],$h.prototype,"shape",2),gt([On(Zn)],$h.prototype,"size",2),gt([On(Zn)],$h.prototype,"padding",2);var tp=class extends Tn{constructor(t,e){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.id=he(this),this.marker=new $h(this),this.activeStyle=new qh,this.inactiveStyle=new qh,this.highlightStyle=new qh,this.label=new Jh,this.group=new Ro({name:"pagination"}),this.labelNode=new fr,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new uh,this._previousButton=new uh,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((t=>t()))}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.getBBox();this.nextButton.translationX=t.width+2*(this.marker.size/2+this.marker.padding)}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:a,fontWeight:o,fontSize:r,fontFamily:s}}=this;i.text="".concat(t+1," / ").concat(e),i.fill=n,i.fontStyle=a,i.fontWeight=o,i.fontSize=r,i.fontFamily=s}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:a,inactiveStyle:o,highlightStyle:r,highlightActive:s}=this,l=(t,e)=>e?o:t===s?r:a;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){var i;const{size:n}=this.marker;t.size=n,t.fill=e.fill,t.fillOpacity=null!==(i=e.fillOpacity)&&void 0!==i?i:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=0===e,n=t===e-1,a=0===t;this.nextButtonDisabled=n||i,this.previousButtonDisabled=a||i}setPage(t){t=Ee(0,t,this.totalPages-1),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,e){t.preventDefault(),"next"!==e||this.nextButtonDisabled?"previous"!==e||this.previousButtonDisabled||(this.decrementPage(),this.onPaginationChanged()):(this.incrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const t=wo(gh(this.marker.shape||uh));this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){return{prev:ko.toCanvas(this.previousButton),next:ko.toCanvas(this.nextButton)}}};tp.className="Pagination",gt([On(Bn)],tp.prototype,"marker",2),gt([On(Bn)],tp.prototype,"activeStyle",2),gt([On(Bn)],tp.prototype,"inactiveStyle",2),gt([On(Bn)],tp.prototype,"highlightStyle",2),gt([On(Bn)],tp.prototype,"label",2);var ep=class extends Tn{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};gt([On(Zn,{optional:!0})],ep.prototype,"maxLength",2),gt([On(aa)],ep.prototype,"color",2),gt([On(ya,{optional:!0})],ep.prototype,"fontStyle",2),gt([On(ma,{optional:!0})],ep.prototype,"fontWeight",2),gt([On(Zn)],ep.prototype,"fontSize",2),gt([On(_n)],ep.prototype,"fontFamily",2),gt([On(Un,{optional:!0})],ep.prototype,"formatter",2);var ip=class extends Tn{constructor(){super(...arguments),this.size=15,this.padding=8}};gt([zr((t=>{var e;return null===(e=t.parent)||void 0===e?void 0:e.onMarkerShapeChange()}))],ip.prototype,"shape",2),gt([On(Zn)],ip.prototype,"size",2),gt([On(Zn)],ip.prototype,"padding",2),gt([On(Zn,{optional:!0})],ip.prototype,"strokeWidth",2),gt([On(Gn)],ip.prototype,"enabled",2);var np=class extends Tn{};gt([On(Zn,{optional:!0})],np.prototype,"strokeWidth",2),gt([On(Zn,{optional:!0})],np.prototype,"length",2);var ap=class extends Tn{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new ip,this.label=new ep,this.line=new np}};gt([On(Zn,{optional:!0})],ap.prototype,"maxWidth",2),gt([On(Zn)],ap.prototype,"paddingX",2),gt([On(Zn)],ap.prototype,"paddingY",2),gt([On(Gn)],ap.prototype,"showSeriesStroke",2),gt([On(Bn)],ap.prototype,"marker",2),gt([On(Bn)],ap.prototype,"label",2),gt([On(Bn)],ap.prototype,"line",2);var op=class extends Tn{};gt([On(Un,{optional:!0})],op.prototype,"legendItemClick",2),gt([On(Un,{optional:!0})],op.prototype,"legendItemDoubleClick",2);var rp="legend-visibility",sp="legend-other-series",lp=class{constructor(t,e,i,n,a){this.type=t,this.enabled=e,this.itemId=i,this.seriesId=n,this.event=a,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},cp=class extends Tn{constructor(t){super(),this.ctx=t,this.id=he(this),this.group=new ns({name:"legend",zIndex:15}),this.itemSelection=Po.select(this.group,Xh),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new ap,this.listeners=new op,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new jl,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new tp((e=>t.updateService.update(e)),(t=>this.updatePageNumber(t))),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:rp,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),t.contextMenuRegistry.registerDefaultAction({id:sp,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)})),this.destroyFns.push(t.layoutManager.registerElement(1,(t=>this.positionLegend(t))),t.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged())),(()=>this.group.remove())),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:"".concat(this.id,"-toolbar"),classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:"".concat(this.id,"-pagination"),classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=Ie("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id="".concat(this.id,"-ariaDescription"),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(t){this.onDataUpdate(this._data,t),this._data=t,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-toolbar")),this.ctx.domManager.removeChild("canvas-overlay","".concat(this.id,"-pagination")),this.destroyFns.forEach((t=>t())),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each(((t,e,i)=>{var n;t.destroyProxyButton(),null!==(n=t.proxyButton)&&void 0!==n||(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:"ag-charts-legend-item-".concat(i),textContent:this.getItemAriaText(i),ariaChecked:!!t.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:e=>this.onClick(e,t.datum,t.proxyButton.button),ondblclick:e=>this.onDoubleClick(e,t.datum),onmouseenter:e=>this.onHover(e,t),onmouseleave:()=>this.onLeave(),oncontextmenu:e=>this.onContextClick(e,t),onblur:()=>this.onLeave(),onfocus:e=>this.onHover(e,t)}))}));const t=this.itemSelection.nodes().map((t=>{var e;return null===(e=t.proxyButton)||void 0===e?void 0:e.button})).filter(hi);this.proxyLegendToolbarDestroyFns.setFns([...Jl({orientation:"horizontal",buttons:t}),...Jl({orientation:"vertical",buttons:t})]),this.proxyLegendToolbar.ariaHidden=(0===t.length).toString(),this.proxyLegendDirty=!1}onDataUpdate(t,e){this.proxyLegendDirty=t.length!==e.length||t.some(((i,n,a)=>{const[o,r]=[e[n],t[n]];return o.id!==r.id}))}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;return i?e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){var i;const{paddingX:n,paddingY:a,label:o,maxWidth:r,label:{maxLength:s=1/0,fontStyle:l,fontWeight:c,fontSize:u,fontFamily:d}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h),this.initLegendItemToolbar();const p=[],g=hr.toFontString(o),f=null!==r&&void 0!==r?r:.8*t,y=this.calculateSpriteDimensions();if(null!==(i=this.spriteRenderer)&&void 0!==i||(this.spriteRenderer=new zc),this.spriteRenderer.resize(y),this.itemSelection.each(((t,e)=>{var i;t.fontStyle=l,t.fontWeight=c,t.fontSize=u,t.fontFamily=d;const n=this.updateMarkerLabel(this.spriteRenderer,t,e,y),a=null!==(i=e.itemId)&&void 0!==i?i:e.id,o=this.getItemLabel(e),r=(null!==o&&void 0!==o?o:"<unknown>").replace(/\r?\n/g," ");t.text=this.truncate(r,s,f,n,g,a),p.push(t.getBBox())})),this._symbolsDirty=!1,t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const m=this.size,v=this.oldSize;m[0]=t,m[1]=e,m[0]===v[0]&&m[1]===v[1]||(v[0]=m[0],v[1]=m[1]);const{pages:x,maxPageHeight:b,maxPageWidth:M}=this.updatePagination(p,t,e),S=this.pages;this.pages=x,this.maxPageSize=[M-n,b-a];const I=this.pagination.currentPage,D=this.pages[I];return this.pages.length<1||!D?(this.visible=!1,{oldPages:S}):(this.visible=!0,this.updatePositions(I),this.update(),{oldPages:S})}isCustomMarker(t,e){return t&&void 0!==e&&"string"!==typeof e}calcSymbolsEnabled(t){var e;const{showSeriesStroke:i,marker:n}=this.item,a=!!n.enabled||!i||null===(e=t.marker.enabled)||void 0===e||e;return{markerEnabled:a,lineEnabled:!(!t.line||!i),isCustomMarker:this.isCustomMarker(a,t.marker.shape)}}calcSymbolsLengths(t){var e;const{marker:i,line:n}=this.item,{markerEnabled:a,lineEnabled:o}=this.calcSymbolsEnabled(t),{strokeWidth:r}=this.getMarkerStyles(t),{strokeWidth:s}=o?this.getLineStyles(t):{strokeWidth:0};let l;const{shape:c}=t.marker;if(this.isCustomMarker(a,c)){const t=new c;t.updatePath();const e=t.getBBox();l=Math.max(e.width,e.height)}return{markerLength:a?i.size:0,markerStrokeWidth:r,lineLength:o?null!==(e=n.length)&&void 0!==e?e:25:0,lineStrokeWidth:s,customMarkerSize:l}}calculateSpriteDimensions(){let t=0,e=0,i=0,n=0;this.itemSelection.each(((a,o)=>{o.symbols.forEach((a=>{const{markerLength:o,markerStrokeWidth:r,lineLength:s,lineStrokeWidth:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(a),u=o+r;n=Math.max(n,s,c,o),e=Math.max(e,s,c,u),i=Math.max(i,l,u),t=Math.max(t,r+.5)}))})),e+=2*t,i+=2*t;return{spritePixelRatio:Se().devicePixelRatio,spriteAAPadding:t,spriteWidth:e,spriteHeight:i,markerWidth:n}}updateMarkerLabel(t,e,i,n){const{marker:a,paddingX:o}=this.item,{markerWidth:r}=n,s=[];let l=o;if(this._symbolsDirty){const t=[],n=[];i.symbols.forEach((e=>{const{shape:i=e.marker.shape}=a,o=gh(i);n.push(new lr({zIndex:0})),t.push(new o({zIndex:1}))})),e.updateSymbols(t,n)}return i.symbols.forEach(((t,i)=>{var n;const o=null!==(n=t.marker.padding)&&void 0!==n?n:a.padding,{markerEnabled:c,lineEnabled:u,isCustomMarker:d}=this.calcSymbolsEnabled(t);e.markers[i].size=c||!u?a.size:0,s.push({length:r,spacing:o,isCustomMarker:d}),(c||u)&&(l+=o+r);const h=e.markers[i],p=e.lines[i];if(h){const{strokeWidth:e,fill:i,stroke:n,fillOpacity:a,strokeOpacity:o}=this.getMarkerStyles(t);h.fill=i,h.stroke=n,h.strokeWidth=e,h.fillOpacity=a,h.strokeOpacity=o}if(p){const e=this.getLineStyles(t);p.stroke=e.stroke,p.strokeOpacity=e.strokeOpacity,p.strokeWidth=e.strokeWidth,p.lineDash=e.lineDash}})),e.update(t,n,s),l}truncate(t,e,i,n,a,o){let r=!1;t.length>e&&(t=t.substring(0,e),r=!0);const s=ur.getMeasurer({font:a}),l=Gr.truncateLine(t,s,i-n,r);return l.endsWith(hr.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),l}updatePagination(t,e,i){const n=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:r,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),u=o.findIndex((t=>t.endIndex>=a));this.pagination.currentPage=Ee(0,u,o.length-1);const{paddingX:d,paddingY:h}=this.item,p=s-d,g=r-h;let f=0,y=-l.y-this.item.marker.size/2;c?y+=g+8:(f+=-l.x+p+8,y+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers();let m=0;return this.itemSelection.each(((t,e,i)=>{var n,a;i>(null!==(n=null===(a=o[m])||void 0===a?void 0:a.endIndex)&&void 0!==n?n:1/0)&&m++,t.pageIndex=m})),{maxPageHeight:r,maxPageWidth:s,pages:o}}updateItemProxyButtons(){const t=this.toggleSeries?"pointer":void 0,e=Math.max(...this.itemSelection.nodes().map((t=>t.getBBox().height)));this.itemSelection.each((i=>{if(i.proxyButton){const{listitem:n,button:a}=i.proxyButton,o=i.pageIndex===this.pagination.currentPage;let r=ko.toCanvas(i);if(r.height!==e){const t=(e-r.height)/2;r={x:r.x,y:r.y-t,height:e,width:r.width}}Wr(a,"pointer-events",o?"auto":"none"),Wr(a,"cursor",t),ke(n,r)}}))}updatePaginationProxyButtons(t){var e;this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const i=(null!==(e=null===t||void 0===t?void 0:t.length)&&void 0!==e?e:this.pages.length)>1,n=this.pages.length>1;var a,o,r;i!==n&&(n?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-prev-page"),textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:t=>this.pagination.onClick(t,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),null!==(a=this.proxyNextButton)&&void 0!==a||(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:"".concat(this.id,"-next-page"),textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:t=>this.pagination.onClick(t,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):(null===(o=this.proxyNextButton)||void 0===o||o.remove(),null===(r=this.proxyPrevButton)||void 0===r||r.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));const{prev:s,next:l}=this.pagination.computeCSSBounds();ke(this.proxyPrevButton,s),ke(this.proxyNextButton,l),Wr(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Wr(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(t,e,i){const{paddingX:n,paddingY:a}=this.item,o=this.getOrientation(),r=["left","right"].includes(this.position);let s=this.pagination.getBBox(),l=new We(0,0,0,0),c=[],u=0,d=0,h=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{var g,f,y;if(h++>10){St.warn("unable to find stable legend layout.");break}s=l;const m=e-(r?0:s.width),v=Zh({orientation:o,bboxes:t,maxHeight:i-(r?s.height:0),maxWidth:m,itemPaddingY:a,itemPaddingX:n,forceResult:p});c=null!==(g=null===v||void 0===v?void 0:v.pages)&&void 0!==g?g:[],u=null!==(f=null===v||void 0===v?void 0:v.maxPageWidth)&&void 0!==f?f:0,d=null!==(y=null===v||void 0===v?void 0:v.maxPageHeight)&&void 0!==y?y:0;const x=c.length;if(this.pagination.visible=x>1,this.pagination.totalPages=x,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while((m=l).width!==s.width||m.height!==s.height);var m;return{maxPageWidth:u,maxPageHeight:d,pages:c,paginationBBox:l,paginationVertical:r}}updatePositions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:a,startIndex:o,endIndex:r}=n[t];let s=0,l=0;const c=a.length,u=a[0].indices.length,d="horizontal"===this.getOrientation(),h=a[0].bboxes[0].height+e,p=[];i.each(((t,e,i)=>{var n,g;if(i<o||i>r)return void(t.visible=!1);const f=i-o;let y,m;d?(y=f%c,m=Math.floor(f/c)):(y=Math.floor(f/u),m=f%u),t.visible=!0;const v=a[y];v&&(l=Math.floor(h*m),s=Math.floor(null!==(n=p[m])&&void 0!==n?n:0),p[m]=(null!==(g=p[m])&&void 0!==g?g:0)+v.columnWidth,t.translationX=s,t.translationY=l)})),this.updateItemProxyButtons()}updatePageNumber(t){const{pages:e}=this,{startIndex:i,endIndex:n}=e[t];0===i?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),Wr(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Wr(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each(((e,i)=>{e.setEnabled(i.enabled),e.color=t})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t,ctx:{contextMenuRegistry:e}}=this;t?(e.hideAction(rp),e.hideAction(sp)):(e.showAction(rp),e.showAction(sp))}getLineStyles(t){var e,i;const{stroke:n,strokeOpacity:a=1,strokeWidth:o,lineDash:r}=null!==(e=t.line)&&void 0!==e?e:{},s=Math.min(2,null!==o&&void 0!==o?o:1);return{stroke:n,strokeOpacity:a,strokeWidth:null!==(i=this.item.line.strokeWidth)&&void 0!==i?i:s,lineDash:r}}getMarkerStyles(t){var e;const{fill:i,stroke:n,strokeOpacity:a=1,fillOpacity:o=1,strokeWidth:r}=t.marker,s=Math.min(2,null!==r&&void 0!==r?r:1);return{fill:i,stroke:n,strokeOpacity:a,fillOpacity:o,strokeWidth:null!==(e=this.item.marker.strokeWidth)&&void 0!==e?e:s}}computePagedBBox(){const t=Co.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[e,i]=this.maxPageSize;t.height=Math.max(i,t.height),t.width=Math.max(e,t.width)}return t}findNode(t){var e;const{datum:i,proxyButton:n}=null!==(e=this.itemSelection.select((e=>{var i;return(null===(i=e.datum)||void 0===i?void 0:i.itemId)===t.itemId}))[0])&&void 0!==e?e:{};if(void 0===i||void 0===n)throw new Error("AG Charts - Missing required properties { datum: ".concat(i,", proxyButton: ").concat(n," }"));return{datum:i,proxyButton:n}}contextToggleVisibility(t){const{datum:e,proxyButton:i}=this.findNode(t);this.doClick(t.event,e,i.button)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,e){var i;const n=e.datum;this.preventHidingAll&&null!==(i=this.contextMenuDatum)&&void 0!==i&&i.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(rp):this.ctx.contextMenuRegistry.enableAction(rp);const{button:a,offsetX:o,offsetY:r}=t,{x:s,y:l}=ko.toCanvasPoint(e,o,r),c={type:"contextmenu",sourceEvent:t,button:a,offsetX:s,offsetY:l,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>t.preventDefault(),pointerHistory:[]};this.ctx.contextMenuRegistry.dispatchContext("legend",c,{legendItem:n})}onClick(t,e,i){this.doClick(t,e,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((t=>t.getLegendData("category"))).filter((t=>t.enabled)).length}doClick(t,e,i){const{listeners:{legendItemClick:n},ctx:{chartService:a,highlightManager:o},preventHidingAll:r,toggleSeries:s}=this;if(!e)return!1;const{id:l,itemId:c,enabled:u}=e,d=a.series.find((t=>t.id===l));if(!d)return!1;let h=u;const p=new lp("click",h,c,d.id,t);if(null===n||void 0===n||n(p),p.defaultPrevented)return!0;if(s){if(h=!u,r&&!h){this.getVisibleItemCount()<2&&(h=!0)}i.ariaChecked=h.toString(),this.ctx.chartEventManager.legendItemClick(d,c,h,e.legendItemName)}return h?o.updateHighlight(this.id,{series:d,itemId:c,datum:void 0}):o.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}onDoubleClick(t,e){this.doDoubleClick(t,e)&&t.preventDefault()}doDoubleClick(t,e){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:a}=this;if("integrated"===n.mode)return!1;if(!e)return!1;const{id:o,itemId:r,seriesId:s}=e,l=n.series.find((t=>t.id===o));if(!l)return!1;const c=new lp("dblclick",!0,r,l.id,t);if(null===i||void 0===i||i(c),c.defaultPrevented)return!0;if(a){var u;const t=n.series.flatMap((t=>t.getLegendData("category"))),e=t.filter((t=>t.enabled)).length,i=t.find((t=>t.itemId===r&&t.seriesId===s));this.ctx.chartEventManager.legendItemDoubleClick(l,r,null!==(u=null===i||void 0===i?void 0:i.enabled)&&void 0!==u&&u,e,null===i||void 0===i?void 0:i.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,e){let i;if(t instanceof FocusEvent){const{x:t,y:n}=ko.toCanvas(e).computeCenter();i={type:"keyboard",offsetX:t,offsetY:n}}else{t.preventDefault();const{x:n,y:a}=ko.toCanvasPoint(e,t.offsetX,t.offsetY);i={type:"hover",offsetX:n,offsetY:a}}const{offsetX:n,offsetY:a}=i;return{offsetX:n,offsetY:a,lastPointerEvent:i,showArrow:!1}}onHover(t,e){var i;if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);const n=e.datum,a=n?this.ctx.chartService.series.find((t=>t.id===(null===n||void 0===n?void 0:n.id))):void 0;if(n&&this.truncatedItems.has(null!==(i=n.itemId)&&void 0!==i?i:n.id)){const i=this.toTooltipMeta(t,e);this.ctx.tooltipManager.updateTooltip(this.id,i,Jr({content:this.getItemLabel(n)}))}else this.ctx.tooltipManager.removeTooltip(this.id);null!==n&&void 0!==n&&n.enabled&&a?this.updateHighlight({series:a,itemId:null===n||void 0===n?void 0:n.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){const e=this.ctx.interactionManager.getState();32===e?this.ctx.highlightManager.updateHighlight(this.id,t):2===e&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop((()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)})))}onLocaleChanged(){this.itemSelection.each(((t,e,i)=>{let{proxyButton:n}=t;null!=(null===n||void 0===n?void 0:n.button)&&(n.button.textContent=this.getItemAriaText(i))})),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(t){const e=this.data[t],i=e&&this.getItemLabel(e),n=this.ctx.localeManager;if(t>=0&&i){const e=t+1,a=this.data.length;return n.t("ariaLabelLegendItem",{label:i,index:e,count:a})}return n.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(t){if(Wr(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;const{layoutBox:e}=t,{x:i,y:n,width:a,height:o}=e,[r,s]=this.calculateLegendDimensions(e),{oldPages:l}=this.calcLayout(r,s),c=this.computePagedBBox(),u=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return o-c.height;default:return a-c.width}};if(this.visible){const t=this.spacing;let r,s;switch(this.position){case"top":case"bottom":r=(a-c.width)/2,s=u(),e.shrink(c.height+t,this.position);break;default:r=u(),s=(o-c.height)/2,e.shrink(c.width+t,this.position)}this.group.translationX=Math.floor(i+r-c.x),this.group.translationY=Math.floor(n+s-c.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(l)}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i;let a,o;switch(this.position){case"top":case"bottom":{const t=n<1?Math.min(.5,1/n*.2):.2;a=this.maxWidth?Math.min(this.maxWidth,e):e,o=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*t);break}default:{const t=n>1?Math.min(.5,.25*n):.25;a=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*t),o=this.maxHeight?Math.min(this.maxHeight,i):i}}return[a,o]}};cp.className="Legend",gt([On(Gn)],cp.prototype,"toggleSeries",2),gt([On(Bn)],cp.prototype,"pagination",2),gt([On(Bn)],cp.prototype,"item",2),gt([On(Bn)],cp.prototype,"listeners",2),gt([zr((t=>t.updateGroupVisibility())),On(Gn)],cp.prototype,"enabled",2),gt([zr((t=>t.proxyLegendDirty=!0)),On(fa)],cp.prototype,"position",2),gt([On(Zn,{optional:!0})],cp.prototype,"maxWidth",2),gt([On(Zn,{optional:!0})],cp.prototype,"maxHeight",2),gt([On(Gn,{optional:!0})],cp.prototype,"reverseOrder",2),gt([On(Na(["horizontal","vertical"],"an orientation"),{optional:!0})],cp.prototype,"orientation",2),gt([On(Gn,{optional:!0})],cp.prototype,"preventHidingAll",2),gt([On(Zn)],cp.prototype,"spacing",2);var up={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new cp(t),packageType:"community"},dp=class extends Mc{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(t,e){this.dirtyPath=!0,this.centerX===t&&this.centerY===e||(this.centerX=t,this.centerY=e,this.markDirty(3))}static align(t,e,i,n,a,o,r,s){const l=t.strokeWidth/2,c=t.align(i+a*r)+l,u=c+t.align(i+a*r,a*(s-r))-2*l,d=t.align(n+o/2)+l;t.setCenter(c,d),e.setCenter(u,d)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this;return new We(t-i/2,e-n/2,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}updatePath(){var t,e;const{centerX:i,centerY:n,path:a,strokeWidth:o,gripLineGap:r,gripLineLength:s}=this,l=null!==(t=null===(e=this.layerManager)||void 0===e||null===(e=e.canvas)||void 0===e?void 0:e.pixelRatio)&&void 0!==t?t:1;a.clear();const c=Math.floor(this.width/2*l)/l,u=Math.floor(this.height/2*l)/l;a.moveTo(i-c,n-u),a.lineTo(i+c,n-u),a.lineTo(i+c,n+u),a.lineTo(i-c,n+u),a.closePath();const d=Math.floor((r+o)/2*l)/l,h=Math.floor(s/2*l)/l;a.moveTo(i-d,n-h),a.lineTo(i-d,n+h),a.moveTo(i+d,n-h),a.lineTo(i+d,n+h)}};dp.className="RangeHandle",gt([On(Zn),He({redraw:3,type:"path"})],dp.prototype,"width",2),gt([On(Zn),He({redraw:3,type:"path"})],dp.prototype,"height",2),gt([On(Zn),He({redraw:3,type:"path"})],dp.prototype,"gripLineGap",2),gt([On(Zn),He({redraw:3,type:"path"})],dp.prototype,"gripLineLength",2);var hp=class extends Mc{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,i,n){t===this.x&&e===this.y&&i===this.width&&this.height===n||(this.x=t,this.y=e,this.width=i,this.height=n,this.dirtyPath=!0,this.markDirty(3))}update(t,e){t=isNaN(t)?this.min:t,e=isNaN(e)?this.max:e,t===this.min&&e===this.max||(this.min=t,this.max=e,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new We(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:a,max:o}=this,r=t+i*a;return new We(r,e,t+i*o-r,n)}updatePath(){const{path:t,x:e,y:i,width:n,height:a,min:o,max:r,strokeWidth:s}=this,l=s/2;t.clear();const c=this.align(e)+l,u=this.align(i)+l,d=c+this.align(e,n)-2*l,h=u+this.align(i,a)-2*l;t.moveTo(c,u),t.lineTo(d,u),t.lineTo(d,h),t.lineTo(c,h),t.closePath();const p=this.align(e+n*o)+l,g=p+this.align(e+n*o,n*(r-o))-2*l;t.moveTo(p,u),t.lineTo(p,h),t.lineTo(g,h),t.lineTo(g,u),t.closePath()}};hp.className="RangeMask";var pp=class extends is{constructor(t){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new Ro({name:"navigator-background",zIndex:1})),this.append(t)}layout(t,e,i,n,a,o){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=a,this.rOffset=o,this.background.translationX=t,this.background.translationY=e,this.markDirty(3)}updateBackground(t,e){null!=t&&this.background.removeChild(t),null!=e&&this.background.appendChild(e),this.markDirty(3)}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:a,rOffset:o}=this;return new We(t-a,e,i+(a+o),n)}},gp=class extends xl{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new hp,this.minHandle=new dp,this.maxHandle=new dp,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(t,e)=>({x:t,y:e})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new pp([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const e=t.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",(t=>this.onHover(t)),50),e.addListener("drag-start",(t=>this.onDragStart(t)),50),e.addListener("drag",(t=>this.onDrag(t)),50),e.addListener("drag-end",(t=>this.onDragEnd(t)),50),e.addListener("leave",(t=>this.onLeave(t)),50),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),this.ctx.layoutManager.registerElement(3,(t=>this.onLayoutStart(t))),this.ctx.layoutManager.addListener("layout:complete",(t=>this.onLayoutComplete(t))),t.zoomManager.addListener("zoom-change",(t=>this.onZoomChange(t)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onMinSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onPanSliderChange(t)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:t=>this.onMaxSliderChange(t)})],this.proxyNavigatorElements.forEach((t=>_r(t,"data-preventdefault",!1))),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),Xl({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((t=>t.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(t,e){var i;null===(i=this.rangeSelector)||void 0===i||i.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;null!=this.rangeSelector&&t!==this.rangeSelector.visible&&(this.rangeSelector.visible=t,this.proxyNavigatorToolbar.ariaHidden=(!t).toString(),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(t){if(this.enabled){const{layoutBox:e}=t,i=this.height+this.spacing;e.shrink(i,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0}onLayoutComplete(t){const{x:e,width:i}=t.series.rect;if(this.enabled){const{y:t,height:n}=this;this.layoutNodes(e,t,i,n),ke(this.proxyNavigatorToolbar,{x:e,y:t,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=e,this.width=i}onHover(t){this.enabled&&this.updateCursor(t)}updateCursor(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n}=this,{regionOffsetX:a,regionOffsetY:o}=t;i.containsPoint(a,o)||n.containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(a,o)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;this.updateCursor(t);const{mask:e,minHandle:i,maxHandle:n,x:a,width:o,_min:r}=this,{regionOffsetX:s,regionOffsetY:l}=t;i.zIndex<n.zIndex?n.containsPoint(s,l)?this.dragging="max":i.containsPoint(s,l)&&(this.dragging="min"):i.containsPoint(s,l)?this.dragging="min":n.containsPoint(s,l)&&(this.dragging="max"),null==this.dragging&&e.computeVisibleRangeBBox().containsPoint(s,l)&&(this.dragging="pan",this.panStart=(s-a)/o-r),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(t){if(!this.enabled||null==this.dragging)return;const{dragging:e,minRange:i,panStart:n,x:a,width:o}=this;let{_min:r,_max:s}=this;const{regionOffsetX:l}=t,c=(l-a)/o;if("min"===e)r=Ee(0,c,s-i);else if("max"===e)s=Ee(r+i,c,1);else if("pan"===e&&null!=n){const t=s-r;r=Ee(0,c-n,1-t),s=r+t}this._min=r,this._max=s,this.updateZoom()}onDragEnd(t){this.dragging=void 0,this.updateCursor(t)}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){const{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max),this.setPanSliderValue(e.min,e.max),this.setSliderRatio(this.proxyNavigatorElements[0],e.min),this.setSliderRatio(this.proxyNavigatorElements[2],e.max))}onPanSliderChange(t){const e=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=Ee(0,e,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(t){const e=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(e,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(t){const e=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(e,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(t,e){this.proxyNavigatorElements[1].value="".concat(Math.round(100*t)),this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e})}setSliderRatioClamped(t,e,i){const n=this.getSliderRatio(t),a=Ee(e,n,i);return a!==n&&this.setSliderRatio(t,a),a}setSliderRatio(t,e){const i=Math.round(100*e);t.value="".concat(i),t.ariaValueText=Ye(i)}getSliderRatio(t){return parseFloat(t.value)/100}layoutNodes(t,e,i,n){const{rangeSelector:a,mask:o,minHandle:r,maxHandle:s,_min:l,_max:c}=this;a.layout(t,e,i,n,r.width/2,s.width/2),o.layout(t,e,i,n),dp.align(r,s,t,e,i,n,l,c),l+(c-l)/2<.5?(r.zIndex=3,s.zIndex=4):(r.zIndex=4,s.zIndex=3),[r,this.maskVisibleRange,s].forEach(((i,n)=>{const a=i.getBBox(),o={x:a.x-t,y:a.y-e,height:a.height,width:a.width};ke(this.proxyNavigatorElements[n],o)}))}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;const{_min:t,_max:e}=this;if(null==t||null==e)return;return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e}},!1,(t=>{null==this.min&&null==this.max||St.warnOnce("Could not apply [navigator.min] or [navigator.max] as [".concat(t,"] has modified the initial zoom state."))}))}};gt([On(Bn,{optional:!0})],gp.prototype,"miniChart",2),gt([On(Gn),zr((t=>t.updateGroupVisibility()))],gp.prototype,"enabled",2),gt([On(Zn)],gp.prototype,"height",2),gt([On(Zn)],gp.prototype,"spacing",2),gt([Or({newValue(t){this._min=t,this.updateZoom()}}),On(jn(Hn,$n("max")),{optional:!0})],gp.prototype,"min",2),gt([Or({newValue(t){this._max=t,this.updateZoom()}}),On(jn(Hn,ta("min")),{optional:!0})],gp.prototype,"max",2);var fp={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new gp(t),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function yp(t){let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}function mp(t){return{marker:yp(t)}}var vp=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))(vp||{}),xp=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(xp||{}),bp=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(bp||{}),Mp=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(Mp||{}),Sp=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(Sp||{}),Ip=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(Ip||{}),Dp=Symbol("is-dark-theme"),wp=Symbol("is-community"),Np=Symbol("is-enterprise"),Lp=Symbol("default-font"),kp=Symbol("default-label-colour"),Ap=Symbol("default-inverted-label-colour"),Cp=Symbol("default-inside-series-label-colour"),Tp=Symbol("default-muted-label-colour"),Ep=Symbol("default-axis-grid-colour"),Rp=Symbol("default-axis-line-colour"),Op=Symbol("default-cross-lines-colour"),zp=Symbol("default-background-colour"),jp=Symbol("default-shadow-colour"),Pp=Symbol("default-colours"),Bp=Symbol("default-padding"),Fp=Symbol("default-caption-layout-style"),Gp=Symbol("default-caption-alignment"),Up=Symbol("palette-up-stroke"),_p=Symbol("palette-down-stroke"),Yp=Symbol("palette-up-fill"),Vp=Symbol("palette-down-fill"),Wp=Symbol("palette-neutral-stroke"),Zp=Symbol("palette-neutral-fill"),Hp=Symbol("palette-alt-up-stroke"),Kp=Symbol("palette-alt-down-stroke"),Qp=Symbol("palette-alt-up-fill"),Xp=Symbol("palette-alt-down-fill"),Jp=Symbol("palette-gray-fill"),qp=Symbol("palette-gray-stroke"),$p=Symbol("default-polar-series-stroke"),tg=Symbol("default-diverging-series-colour-range"),eg=Symbol("default-gauge-series-colour-range"),ig=Symbol("default-funnel-series-colour-range"),ng=Symbol("default-hierarchy-fills"),ag=Symbol("default-hierarchy-strokes"),og=Symbol("default-annotation-stroke"),rg=Symbol("default-text-annotation-color"),sg=Symbol("default-annotation-background-fill"),lg=Symbol("default-annotation-handle-fill"),cg=Symbol("default-annotation-statistics-fill"),ug=Symbol("default-annotation-statistics-stroke"),dg=Symbol("default-annotation-statistics-color"),hg=Symbol("default-annotation-statistics-divider-stroke"),pg=Symbol("default-annotation-statistics-fill"),gg=Symbol("default-annotation-statistics-stroke"),fg=Symbol("default-textbox-fill"),yg=Symbol("default-textbox-stroke"),mg=Symbol("default-textbox-color"),vg=Symbol("default-toolbar-position"),xg=Symbol("default-gridline-enabled");function bg(t,e,i,n,a){const{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s}=a,l=(n,a,o)=>{i.animate({id:"".concat(t,"_").concat(e,"_").concat(a.id,"_").concat(n),groupId:t,from:0,to:1,ease:Yi,collapsable:!1,onUpdate(t,e){e&&"removed"!==n||(a.path.clear(!0),o(t,a),a.checkPathDirty())},onStop(){"added"===n&&(a.path.clear(!0),o(1,a),a.checkPathDirty())},phase:nn[n]})};for(const c of n)i.isSkipped()||(l("removed",c,s),l("updated",c,r)),l("added",c,o)}function Mg(t){return"number"===typeof t?t.toFixed(2):String(null!==t&&void 0!==t?t:"")}var Sg=null;function Ig(t){var e;if(null!=t)return""===t?"":(null!==(e=Sg)&&void 0!==e||(Sg=Ie("div")),Sg.textContent=String(t),Sg.innerHTML)}var Dg=new WeakMap;function wg(t,e){var i,n;const a=JSON.stringify(t,null,0);var o;(Dg.has(e)||Dg.set(e,new Map),null!==(i=Dg.get(e))&&void 0!==i&&i.has(a))||(null===(o=Dg.get(e))||void 0===o||o.set(a,e(t)));return null===(n=Dg.get(e))||void 0===n?void 0:n.get(a)}function Ng(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of t)"number"===typeof i&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function Lg(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>Ng(t)}}function kg(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:t=>Ng(t),groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n}}}function Ag(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:t=>_u.extendDomain(t)}}function Cg(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n}}}function Tg(t,e){const i={id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:t=>Ng(t),groupAggregateFunction:function(t){var e,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return n[0]+=null!==(e=null===t||void 0===t?void 0:t[0])&&void 0!==e?e:0,n[1]+=null!==(i=null===t||void 0===t?void 0:t[1])&&void 0!==i?i:0,n[2]++,n},finalFunction:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}};return i}function Eg(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return e.aggregateFunction(t).map((t=>t/n))}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function Rg(t){return()=>{let e=0;return i=>Di(i)?(e+=t?Math.max(0,i):i,e):i}}function Og(){return()=>{let t=0;return e=>{if(!Di(e))return e;const i=t;return t+=e,i}}}function zg(t){return null!=t&&ps(t)}function jg(t){return null!=t}function Pg(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return zg;default:return jg}}function Bg(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Fg(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O({property:t,type:"key",valueType:Bg(e),validation:Pg(e)},i)}function Gg(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O({property:t,type:"value",valueType:Bg(e),validation:Pg(e)},i)}function Ug(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0}=e;return O({type:"value",property:t,valueType:"range",validation:zg,processor:()=>t=>Di(t)?Ee(i,t,n):t},z(e,Y))}function _g(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n}=i;return O(O({},Gg(t,e,z(i,V))),{},{processor:Rg(n)})}function Yg(t,e){return O(O({},Gg(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})),{},{processor:Og()})}function Vg(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[Gg(t,arguments.length>4?arguments[4]:void 0,n),nf(n.groupId,e,i,n.separateNegative),...null!=n.rangeId?[Ag(n.rangeId,n.groupId)]:[]]}function Wg(t,e,i){return[Gg(t,e,i),of(i.groupId)]}var Zg={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n<e?n:e}}},Hg={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-t);return t=i,!isNaN(n)&&n>0&&n>e?n:e}}},Kg={type:"processor",property:"sortedGroupDomain",calculate:t=>{let{domain:{groups:e}}=t;return null===e||void 0===e?void 0:e.slice().sort(((t,e)=>{for(let i=0;i<t.length;i++){const n=t[i]-e[i];if(0!==n)return n}return 0}))}};function Qg(t){let{normaliseTo:e,mode:i}=t;const n=(t,i)=>{const n=t*e/i;return n>=0?Math.min(e,n):Math.max(-e,n)};return()=>()=>(t,e)=>{const a=[0,0];for(const n of e){const e=t[n],o="number"===typeof e?e:Math.max(...e),r=o<0?0:1;"sum"===i?a[r]+=o:a[r]=0===r?Math.min(a[r],o):Math.max(a[r],o)}const o=Math.max(Math.abs(a[0]),a[1]);for(const i of e){const e=t[i];t[i]="number"===typeof e?n(e,o):e.map((t=>n(t,o)))}}}function Xg(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:wg({normaliseTo:e,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},Qg)}}function Jg(t){let{normaliseTo:e,zeroDomain:i,rangeMin:n,rangeMax:a}=t;const o=e[1]-e[0],r=(t,n,a)=>{const r=e[0]+(t-n)/a*o;return 0===a?i:r>=e[1]?e[1]:r<e[0]?e[0]:r};return()=>(t,i)=>{let[o,s]=t.domain.values[i];null!=n&&(o=n),null!=a&&(s=a);const l=s-o;t.domain.values[i]=[e[0],e[1]];for(const e of t.data){let n=e.values;"ungrouped"===t.type&&(n=[n]);for(const t of n)t[i]=r(t[i],o,l)}}}function qg(t,e,i,n,a){return{type:"property-value-processor",property:t,adjust:wg({normaliseTo:e,rangeMin:n,rangeMax:a,zeroDomain:i},Jg)}}function $g(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:a,data:o}=e;let r=!0,s=!0;const l=[];for(let u=0;u<n.length;u++)null!==t&&void 0!==t&&t.includes(n[u].id)&&l.push([u,n[u]]);const c=(t,i,n)=>{var l;if("category"===i.valueType){const i=e.domain[n][t];return void(r&&(r=i.length===a.count))}let c=null===(l=o[0])||void 0===l?void 0:l[n][t];for(let e=1;(r||s)&&e<o.length;e++){const i=o[e][n][t];s&&(s=c<=i),r&&(r=c!==i),c=i}};for(let t=0;(r||s)&&t<i.length;t++)c(t,i[t],"keys");for(let t=0;(r||s)&&t<l.length;t++){const[e,i]=l[t];c(e,i,"values")}return{uniqueKeys:r,orderedKeys:s}}}}function tf(t){let{mode:e,separateNegative:i}=t;return()=>()=>(t,n)=>{const a=[0,0];for(const o of n){const n=t[o],r=Pe(n)&&i?0:1;Di(n)&&("normal"===e&&(a[r]+=n),t[o]=a[r],"trailing"===e&&(a[r]+=n))}}}function ef(t){let{mode:e,sum:i}=t;return()=>{const t=[];let n=!0;return()=>(a,o)=>{let r=0;for(const s of o){const o=a[s],l=n&&"current"===i?0:t[s];t[s]=o;const c="current"===i?o:l;Di(o)&&Di(l)?("normal"===e&&(r+=c),a[s]=r,"trailing"===e&&(r+=c)):a[s]=r}n=!1}}}function nf(t,e,i){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.startsWith("window")){n=wg({mode:e.endsWith("-trailing")?"trailing":"normal",sum:i},ef)}else n=wg({mode:e,separateNegative:a},tf);return{type:"group-value-processor",matchGroupIds:[t],adjust:n}}function af(){return()=>(t,e)=>{const i=new Float64Array(32);let n=0;for(const a of e){const e=t[a];i[n]=Number.isFinite(e)?e:NaN,n+=1,t[a]=i.subarray(0,n)}}}function of(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:af}}function rf(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,a=new Map,o=new Map,r=new Map,s=Math.max(t.data.length,i.data.length);for(let l=0;l<s;l++){const s=t.data[l],c=i.data[l],u=s?sf(s.keys):"",d=c?sf(c.keys):"";c&&s&&u===d?hn(s.values,c.values)||o.set(d,c):(r.has(d)?(!e&&hn(r.get(d).values,c.values)||(o.set(d,c),n.set(d,c)),r.delete(d)):c&&a.set(d,c),a.has(u)?(!e&&hn(a.get(u).values,s.values)||(o.set(u,s),n.set(u,s)),a.delete(u)):s&&(o.delete(u),r.set(u,s)))}return{changed:a.size>0||o.size>0||r.size>0,added:a,updated:o,removed:r,moved:n}}}}function sf(t){let e;e=pi(t)?t.map((t=>fs(t))).join("___"):fs(t);const i="string"===typeof e||"number"===typeof e||"boolean"===typeof e||e instanceof Date;for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return i&&a.length>0&&(e+="___".concat(a.join("___"))),e}function lf(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];on(n,e,i,o,{opacity:0},{opacity:1},{phase:"trailing"})}function cf(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];on(n,e,i,o,{opacity:1},{opacity:0},{phase:"remove"})}function uf(t){return{opacity:1}}var df=class extends Tn{constructor(){super(...arguments),this._dirty=3}markDirty(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._dirty<t&&(this._dirty=t)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},hf=class extends df{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};gt([On(Gn),He({redraw:3})],hf.prototype,"enabled",2),gt([On(aa),He({redraw:3})],hf.prototype,"color",2),gt([On(Yn),He({redraw:3})],hf.prototype,"xOffset",2),gt([On(Yn),He({redraw:3})],hf.prototype,"yOffset",2),gt([On(Zn),He({redraw:3})],hf.prototype,"blur",2);var pf=Aa((t=>ph(t)||"function"===typeof t&&Object.create(t.prototype)instanceof Jd),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),gf=class extends df{constructor(){super(...arguments),this.enabled=!0,this.shape=qd,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:o,strokeOpacity:r}=this;return{size:t,shape:e,fill:i,fillOpacity:n,stroke:a,strokeWidth:o,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};gt([On(Gn),He({redraw:3})],gf.prototype,"enabled",2),gt([On(pf),He({redraw:3})],gf.prototype,"shape",2),gt([On(Zn),He({redraw:3})],gf.prototype,"size",2),gt([On(aa,{optional:!0}),He({redraw:3})],gf.prototype,"fill",2),gt([On(Hn),He({redraw:3})],gf.prototype,"fillOpacity",2),gt([On(aa,{optional:!0}),He({redraw:3})],gf.prototype,"stroke",2),gt([On(Zn),He({redraw:3})],gf.prototype,"strokeWidth",2),gt([On(Hn),He({redraw:3})],gf.prototype,"strokeOpacity",2),gt([On(Un,{optional:!0}),He({redraw:3})],gf.prototype,"itemStyler",2);var ff=class extends Tn{constructor(){super(...arguments),this.enabled=!1}};gt([On(Gn)],ff.prototype,"enabled",2);var yf=class extends Tn{constructor(){super(...arguments),this.enabled=!0,this.interaction=new ff,this.position=new qr,this.range=void 0}toTooltipHtml(t,e){return this.renderer?Jr(this.renderer(e),t):Jr(t)}};gt([On(Gn)],yf.prototype,"enabled",2),gt([On(Gn,{optional:!0})],yf.prototype,"showArrow",2),gt([On(Un,{optional:!0})],yf.prototype,"renderer",2),gt([On(Bn)],yf.prototype,"interaction",2),gt([On(Bn)],yf.prototype,"position",2),gt([On(Da,{optional:!0})],yf.prototype,"range",2);var mf=Na(["linear","smooth","step"],"a line style"),vf=Na(["start","middle","end"]),xf=class extends Tn{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};gt([On(mf)],xf.prototype,"type",2),gt([On(Hn)],xf.prototype,"tension",2),gt([On(vf)],xf.prototype,"position",2);var bf=class extends wh{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new xf,this.shadow=new hf,this.marker=new gf,this.label=new os,this.tooltip=new yf,this.connectMissingData=!1}};function Mf(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function Sf(t,e,i){const[n,a]=Mf(t),o=a.x!==n.x?(i.x-e.x)/(a.x-n.x):0,r=a.y!==n.y?(i.y-e.y)/(a.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*o,cp1y:i.y-(t.cp2y-n.y)*r,cp2x:i.x-(t.cp1x-n.x)*o,cp2y:i.y-(t.cp1y-n.y)*r,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*o}}}function If(t,e,i){const{moveTo:n}=t,[a,o]=function(t){const e=Mf(t);return e[0].x>e[1].x&&e.reverse(),e}(t),{x:r,y:s}=a,{x:l,y:c}=o;if(i<r)return Sf(t,a,a);if(e>l)return Sf(t,o,o);switch(t.type){case"linear":{const t=s===c?void 0:(c-s)/(l-r);return{type:"linear",moveTo:n,x0:e,y0:null==t?s:t*(e-r)+s,x1:i,y1:null==t?s:t*(i-r)+s}}case"step":if(i<=t.stepX){const a=t.y0;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:a,stepX:i}}if(e>=t.stepX){const a=t.y1;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:a,stepX:e}}{const{y0:a,y1:o,stepX:r}=t;return{type:"step",moveTo:n,x0:e,y0:a,x1:i,y1:o,stepX:r}}case"cubic":{const a=fc(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e);let[o,r]=yc(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,a);const s=fc(r[0].x,r[1].x,r[2].x,r[3].x,i);return[r,o]=yc(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,s),{type:"cubic",moveTo:n,cp0x:r[0].x,cp0y:r[0].y,cp1x:r[1].x,cp1y:r[1].y,cp2x:r[2].x,cp2y:r[2].y,cp3x:r[3].x,cp3y:r[3].y}}}}gt([On(_n)],bf.prototype,"xKey",2),gt([On(_n,{optional:!0})],bf.prototype,"xName",2),gt([On(_n)],bf.prototype,"yKey",2),gt([On(_n,{optional:!0})],bf.prototype,"yName",2),gt([On(_n,{optional:!0})],bf.prototype,"yFilterKey",2),gt([On(Zn,{optional:!0})],bf.prototype,"normalizedTo",2),gt([On(aa)],bf.prototype,"fill",2),gt([On(Hn)],bf.prototype,"fillOpacity",2),gt([On(aa)],bf.prototype,"stroke",2),gt([On(Zn)],bf.prototype,"strokeWidth",2),gt([On(Hn)],bf.prototype,"strokeOpacity",2),gt([On(ga)],bf.prototype,"lineDash",2),gt([On(Zn)],bf.prototype,"lineDashOffset",2),gt([On(Bn)],bf.prototype,"interpolation",2),gt([On(Bn)],bf.prototype,"shadow",2),gt([On(Bn)],bf.prototype,"marker",2),gt([On(Bn)],bf.prototype,"label",2),gt([On(Bn)],bf.prototype,"tooltip",2),gt([On(Gn)],bf.prototype,"connectMissingData",2);var Df={start:0,middle:.5,end:1};var wf=.05;function Nf(t,e,i){return(e-t)*i+t}function Lf(t,e){return"linear"===t.type?function(t,e){const{x0:i,y0:n,x1:a,y1:o}=t,r=(o-n)/(a-i)*(e-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:e,leftCp2y:r,stepX:e,stepY0:r,stepY1:r,rightCp1x:e,rightCp1y:r,rightCp2x:a,rightCp2y:o}}(t,e):"cubic"===t.type?function(t,e){const{cp0x:i,cp0y:n,cp1x:a,cp1y:o,cp2x:r,cp2y:s,cp3x:l,cp3y:c}=t,u=fc(i,a,r,l,e),[d,h]=yc(i,n,a,o,r,s,l,c,u),p=d[3].y;return{leftCp1x:d[1].x,leftCp1y:d[1].y,leftCp2x:d[2].x,leftCp2y:d[2].y,stepX:e,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}(t,e):function(t){const{x0:e,y0:i,x1:n,y1:a,stepX:o}=t;return{leftCp1x:(e+o)/2,leftCp1y:i,leftCp2x:(e+o)/2,leftCp2y:i,stepX:o,stepY0:i,stepY1:a,rightCp1x:(o+n)/2,rightCp1y:a,rightCp2x:(o+n)/2,rightCp2y:a}}(t)}function kf(t,e,i,n,a,o,r){switch(e){case 1:r?t.moveTo(a,o):t.moveTo(i,n);break;case 2:r?t.lineTo(a,o):t.lineTo(i,n)}}function Af(t,e,i,n,a,o){o?t.lineTo(e,i):t.lineTo(n,a)}function Cf(t,e,i,n,a,o,r,s,l,c){c?t.cubicCurveTo(o,r,n,a,e,i):t.cubicCurveTo(n,a,o,r,s,l)}function Tf(t,e,i,n,a,o,r){r?(t.lineTo(o,a),t.lineTo(o,i),t.lineTo(e,i)):(t.lineTo(o,i),t.lineTo(o,a),t.lineTo(n,a))}function Ef(t,e,i,n){const[a,o]=Mf(e);switch(kf(t,i,a.x,a.y,o.x,o.y,n),e.type){case"linear":Af(t,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":Cf(t,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":Tf(t,e.x0,e.y0,e.x1,e.y1,e.stepX,n)}}function Rf(t,e,i,n,a,o){const[r,s]=Mf(e),[l,c]=Mf(i),u=Nf(r.x,l.x,n),d=Nf(r.y,l.y,n),h=Nf(s.x,c.x,n),p=Nf(s.y,c.y,n);if(kf(t,a,u,d,h,p,o),"cubic"===e.type&&"cubic"===i.type){Cf(t,u,d,Nf(e.cp1x,i.cp1x,n),Nf(e.cp1y,i.cp1y,n),Nf(e.cp2x,i.cp2x,n),Nf(e.cp2y,i.cp2y,n),h,p,o)}else if("step"===e.type&&"step"===i.type){Tf(t,u,d,h,p,Nf(e.stepX,i.stepX,n),o)}else if("linear"===e.type&&"linear"===i.type)Af(t,u,d,h,p,o);else{let a;a="step"===e.type?e.stepX:"step"===i.type?i.stepX:(u+h)/2;const r=Lf(e,a),s=Lf(i,a),l=Nf(r.leftCp1x,s.leftCp1x,n),c=Nf(r.leftCp1y,s.leftCp1y,n),g=Nf(r.leftCp2x,s.leftCp2x,n),f=Nf(r.leftCp2y,s.leftCp2y,n),y=Nf(r.stepX,s.stepX,n),m=Nf(r.stepY0,s.stepY0,n),v=Nf(r.stepY1,s.stepY1,n),x=Nf(r.rightCp1x,s.rightCp1x,n),b=Nf(r.rightCp1y,s.rightCp1y,n),M=Nf(r.rightCp2x,s.rightCp2x,n),S=Nf(r.rightCp2y,s.rightCp2y,n);o?(t.cubicCurveTo(M,S,x,b,y,v),t.lineTo(y,m),t.cubicCurveTo(g,f,l,c,u,d)):(t.cubicCurveTo(l,c,g,f,y,m),t.lineTo(y,v),t.cubicCurveTo(x,b,M,S,h,p))}}function Of(t,e,i){let{id:n}=t;const a={phase:i?nn[i]:"trailing"};for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];on(n,"markers",e,r,{opacity:0},{opacity:1},a),r.forEach((t=>t.cleanup()))}function zf(t,e){let{id:i}=t;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];on(i,"markers",e,a,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),a.forEach((t=>t.cleanup()))}function jf(t,e){let{id:i,nodeDataDependencies:n}=t;const a=n.seriesRectWidth;for(var o=arguments.length,r=new Array(o>2?o-2:0),s=2;s<o;s++)r[s-2]=arguments[s];an(i,"markers",e,r,{fromFn:(t,e)=>{var i,n;const o=null!==(i=null===(n=e.midPoint)||void 0===n?void 0:n.x)&&void 0!==i?i:a;let r=Ee(0,Ki(o/a),1);return isNaN(r)&&(r=0),{scalingX:0,scalingY:0,delay:r,duration:Qi,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Pf(t){return{opacity:1,scalingX:1,scalingY:1}}function Bf(t,e){var i,n,a,o;return{translationX:null!==(i=null===(n=e.point)||void 0===n?void 0:n.x)&&void 0!==i?i:NaN,translationY:null!==(a=null===(o=e.point)||void 0===o?void 0:o.y)&&void 0!==a?a:NaN}}function Ff(t,e){const i=(e,i)=>{const n=t[i][e];return Array.isArray(n)?n[0]:n},n=e=>{const{xValue:n}=e;return t.moved[n]?{point:i(n,"moved"),status:"updated"}:t.removed[n]?{point:i(n,"removed"),status:"removed"}:t.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(t,i)=>{var a,o,r,s;const{status:l,point:c}=n(i);if("unknown"===l)return{opacity:0};const u={translationX:null!==(a=null===c||void 0===c||null===(o=c.from)||void 0===o?void 0:o.x)&&void 0!==a?a:t.translationX,translationY:null!==(r=null===c||void 0===c||null===(s=c.from)||void 0===s?void 0:s.y)&&void 0!==r?r:t.translationY,opacity:t.opacity,phase:nn[l]};var d,h;return"added"===e?O(O({},u),{},{opacity:0,translationX:null===c||void 0===c||null===(d=c.to)||void 0===d?void 0:d.x,translationY:null===c||void 0===c||null===(h=c.to)||void 0===h?void 0:h.y,phase:nn.added}):("added"===l&&(u.opacity=0),u)},toFn:(t,i)=>{const{status:a,point:o}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:nn[a]};var s,l;return"removed"===a||"removed"===e?O(O({},r),{},{translationX:null===o||void 0===o||null===(s=o.to)||void 0===s?void 0:s.x,translationY:null===o||void 0===o||null===(l=o.to)||void 0===l?void 0:l.y,opacity:0,phase:nn.removed}):r}}}function Gf(t,e){var i;let{datumIndex:n}=e;const a=t.getNodeData();if(void 0===a)return;const o=a[n],{point:r}=o;if(null==o||null==r)return;const s=null!==(i=r.focusSize)&&void 0!==i?i:t.getFormattedMarkerStyle(o).size,l=s/2,c=o.point.x-l,u=o.point.y-l;return ko.toCanvas(t.contentGroup,new We(c,u,s,s))}var Uf=.05;function _f(t){return t.reduce(((t,e)=>{let{min:i,max:n}=t;return(null==i||i.point.x>e.point.x)&&(i=e),(null==n||n.point.x<e.point.x)&&(n=e),{min:i,max:n}}),{})}function Yf(t,e,i){const n=(e.y-t.y)/(e.x-t.x);return{x:i,y:(i-t.x)*n+t.y}}function Vf(t,e,i,n){let a=-1,o=0;const r=[];for(;o<t.length;)t[o].change!==e?t[o].change!==i?(r.length>0&&(n(r,a,o),r.length=0),a=o,o++):o++:(r.push(t[o]),o++);r.length>0&&n(r,a,o)}function Wf(t,e){Vf(t,"out","in",((i,n,a)=>{var o,r;-1===n&&t[a]?i.forEach((e=>e.to=t[a].from)):a===t.length&&t[n]?i.forEach((e=>e.to=t[n].from)):"intersect"===e&&null!==(o=t[n])&&void 0!==o&&o.from&&null!==(r=t[a])&&void 0!==r&&r.from?i.forEach((e=>e.to=Yf(t[n].from,t[a].from,e.from.x))):i.forEach((t=>t.to=t.from))})),Vf(t,"in","out",((i,n,a)=>{var o,r;-1===n&&t[a]?i.forEach((e=>e.from=t[a].to)):a===t.length&&t[n]?i.forEach((e=>e.from=t[n].to)):"intersect"===e&&null!==(o=t[n])&&void 0!==o&&o.to&&null!==(r=t[a])&&void 0!==r&&r.to?i.forEach((e=>e.from=Yf(t[n].to,t[a].to,e.to.x))):i.forEach((t=>t.from=t.to))}))}function Zf(t,e,i){const n=isNaN(t.x)?e.x:t.x,a=isNaN(t.y)?e.y:t.y,o=e.x-t.x,r=e.y-t.y;return{x:n+(isNaN(o)?0:o*i),y:a+(isNaN(r)?0:r*i)}}var Hf={start:0,middle:.5,end:1};function Kf(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:a}=e;var o;if("smooth"===(null===i||void 0===i?void 0:i.type))!function(t,e,i,n){const a=Array.isArray(e)?e:Array.from(e);if(0===a.length)return;if(n?t.lineTo(a[0].x,a[0].y):t.moveTo(a[0].x,a[0].y),a.length<=1)return;const o=a.map(((t,e)=>{const i=0===e?t:a[e-1],n=e===a.length-1?t:a[e+1],o=0===e||e===a.length-1;if(Math.sign(i.y-t.y)===Math.sign(n.y-t.y))return 0;if(!o){const e=Math.abs(i.y-n.y),a=Math.abs(t.y-i.y)/e,o=Math.abs(t.y-n.y)/e;if(a<=Uf||1-a<=Uf||o<=Uf||1-o<=Uf)return 0}return(n.y-i.y)/(n.x-i.x)}));0===o[1]&&(o[0]*=2),0===o[o.length-2]&&(o[o.length-1]*=2);for(let r=1;r<a.length;r+=1){const e=a[r-1],n=o[r-1],s=a[r],l=o[r],c=s.x-e.x,u=s.y-e.y;let d=c*i/3,h=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(h)>Math.abs(u)&&(d*=Math.abs(u/h),h=Math.sign(h)*Math.abs(u)),0===n&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),t.cubicCurveTo(e.x+d,e.y+h,s.x-p,s.y-g,s.x,s.y)}}(a,t,null!==(o=i.tension)&&void 0!==o?o:1,n);else if("step"===(null===i||void 0===i?void 0:i.type)){var r;!function(t,e,i,n){let a;for(const s of e){if(null!=a){var o,r;const e=a.x<s.x?i:1-i,n=(s.x-a.x)*e+a.x;t.lineTo(n,null!==(o=null===(r=a)||void 0===r?void 0:r.y)&&void 0!==o?o:s.y),t.lineTo(n,s.y),t.lineTo(s.x,s.y)}else n?t.lineTo(s.x,s.y):t.moveTo(s.x,s.y);a=s}}(a,t,Hf[null!==(r=i.position)&&void 0!==r?r:"end"],n)}else!function(t,e,i){let n=i;for(const{x:a,y:o}of e)n?t.lineTo(a,o):(t.moveTo(a,o),n=!0)}(a,t,n)}function Qf(t,e){let i,n;const a=[],o=()=>{null!=n&&(a.push(n),n=void 0)};for(const l of t){const{from:t,to:a}=l,c=e[l.change];if(null==c||null==t||null==a)continue;const u=Zf(t,a,c);var r;if(!1===l.moveTo)null!==(r=n)&&void 0!==r||(n=[]),n.push(u);else if(!0!==l.moveTo&&i){if(i){var s;const t="in"===l.moveTo?c:1-c,{x:e,y:a}=Zf(i,u,t);null!==(s=n)&&void 0!==s||(n=[]),n.push({x:e,y:a}),o(),n=[u]}}else o(),n=[u];i=u}return o(),a}function Xf(t,e,i,n){Qf(t,e).forEach((t=>{Kf(t,i,n)}))}function Jf(t,e){let{id:i,visible:n,nodeDataDependencies:a}=t;const{seriesRectWidth:o,seriesRectHeight:r}=a;for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];on(i,"path_properties",e,l,{clipX:0},{clipX:o},{phase:"initial",start:{clip:!0,clipY:r,visible:n},finish:{clip:!1,visible:n}})}function qf(t,e,i){let{id:n}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var o=arguments.length,r=new Array(o>4?o-4:0),s=4;s<o;s++)r[s-4]=arguments[s];on(n,e,i,r,{opacity:0},{opacity:1},{phase:a})}function $f(t,e,i){let{id:n}=t;for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];on(n,e,i,o,{opacity:1},{opacity:0},{phase:"remove"})}function ty(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function ey(t,e){let{nodeDataDependencies:i}=t;const n=t=>isFinite(t)?t:0;e.clipX=n(i.seriesRectWidth),e.clipY=n(i.seriesRectHeight)}function iy(t){return"continuous"===t.type||"log"===t.type}function ny(t){return"category"===t.type}function ay(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every(((t,i)=>t===e.domain[i]))&&t.range.every(((t,i)=>t===e.range[i]))}function oy(t,e){return void 0===t||void 0===e?void 0!==t||void 0!==e:iy(t)&&iy(e)?t.type===e.type&&ay(t,e):!(!ny(t)||!ny(e))&&ay(t,e)}function ry(t){return null!=t&&(!!t.range.every((t=>Number.isFinite(t)))&&("category"===t.type?t.domain.every((t=>null!=t)):t.domain.every((t=>Number.isFinite(t)||t instanceof Date))))}function*sy(t){let e=-1,i=0;for(const{point:n}of t){if(n.moveTo){const t=e>=0?{start:e,end:i}:void 0;e=i,i=e,void 0!==t&&(yield t)}i+=1}-1!==e&&(yield{start:e,end:i})}function ly(t,e){let{start:i,end:n}=e;return function*(){for(let e=i;e<n;e+=1)yield t[e].point}()}function cy(t,e){let{start:i,end:n}=e;return function*(){for(let e=n-1;e>=i;e-=1)yield t[e].point}()}function uy(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),"continuous"===e.type&&"number"===typeof t){return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0]}if("log"===e.type&&"number"===typeof t)return e.convert(t);const i=e.domain.findIndex((e=>e===t));if(i>=0)return e.range[i];const n=e.domain.findIndex((e=>{return n=e,null!=(i=t)&&null!=n&&"object"===typeof i&&"object"===typeof n&&("id"in i&&"id"in n?i.id===n.id:i.toString()===n.toString());var i,n}));return n>=0?e.range[n]:NaN}function dy(t,e){const i=Number(t),n=Number(e);return isNaN(i)||isNaN(n)?t===e:Math.abs(n-i)<.25}function hy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(t):t?"in":"out"}function py(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,a=[],o={added:{},moved:{},removed:{}},r=function(t,e,i){var n,r;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";t&&(isNaN(t.point.x)||isNaN(t.point.y))&&(t=e);const l={from:null===(n=t)||void 0===n?void 0:n.point,to:null===e||void 0===e?void 0:e.point,moveTo:hy(null===(r=t)||void 0===r?void 0:r.point.moveTo,null===e||void 0===e?void 0:e.point.moveTo),change:s};"move"===s?(o.moved[i]=l,d++,h++):"in"===s?(o.added[i]=l,h++):"out"===s&&(o.removed[i]=l,d++),a.push(l)},{min:s,max:l}=_f(e.nodeData),{min:c,max:u}=_f(t.nodeData);let d=0,h=0;for(;d<e.nodeData.length||h<t.nodeData.length;){var p,g,f,y,m,v;const i=e.nodeData[d],n=t.nodeData[h],a=i?uy(null!==(p=i.xValue)&&void 0!==p?p:NaN,t.scales.x):void 0,o=n?uy(null!==(g=n.xValue)&&void 0!==g?g:NaN,e.scales.x):void 0,x=void 0;if(null!=a&&dy(a,null===n||void 0===n?void 0:n.point.x))r(i,n,n.xValue,"move");else if(null!=a&&a<(null!==(f=null===c||void 0===c?void 0:c.point.x)&&void 0!==f?f:-1/0))r(i,x,i.xValue,"out");else if(null!=a&&a>(null!==(y=null===u||void 0===u?void 0:u.point.x)&&void 0!==y?y:1/0))r(i,x,i.xValue,"out");else if(null!=o&&o<(null!==(m=null===s||void 0===s?void 0:s.point.x)&&void 0!==m?m:-1/0))r(x,n,n.xValue,"in");else if(null!=o&&o>(null!==(v=null===l||void 0===l?void 0:l.point.x)&&void 0!==v?v:1/0))r(x,n,n.xValue,"in");else if(null!=a&&a<(null===n||void 0===n?void 0:n.point.x))r(i,x,i.xValue,"out");else if(null!=o&&o<(null===i||void 0===i?void 0:i.point.x))r(x,n,n.xValue,"in");else if(i)r(i,x,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");r(x,n,n.xValue,"in")}}return Wf(a,n),{result:a,resultMap:o}}function gy(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:a="intersect",multiDatum:o=!1}=n,r=[],s={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let u,d;const h=(t,e)=>{var i;const n=c[e.change];var a;o?(null!==(a=(i=l[n])[t])&&void 0!==a||(i[t]=[]),l[n][t].push(e)):s[n][t]=e;u=e,d=fs(t)};let p=0,g=0,f=!1;for(;p<e.nodeData.length||g<t.nodeData.length;){const n=e.nodeData[p],a=t.nodeData[g],s=fs(null===n||void 0===n?void 0:n.xValue),l=fs(null===a||void 0===a?void 0:a.xValue);let c;var y;if(s===l)c={change:"move",moveTo:hy(null!==(y=n.point.moveTo)&&void 0!==y&&y,a.point.moveTo),from:n.point,to:a.point},h(null===n||void 0===n?void 0:n.xValue,c),p++,g++;else if(null!==i&&void 0!==i&&i.removed.has(String(s))){var m;c={change:"out",moveTo:null!==(m=n.point.moveTo)&&void 0!==m&&m,from:n.point},h(null===n||void 0===n?void 0:n.xValue,c),p++}else if(null!==i&&void 0!==i&&i.added.has(String(l))){var v;c={change:"in",moveTo:null!==(v=a.point.moveTo)&&void 0!==v&&v,to:a.point},h(null===a||void 0===a?void 0:a.xValue,c),g++}else if(o&&u&&d===s)c=O({},u),h(null===n||void 0===n?void 0:n.xValue,c),p++;else{if(!o||!u||d!==l){f=!0;break}c=O({},u),h(null===a||void 0===a?void 0:a.xValue,c),g++}r.push(c)}let x=-1/0;return f||(f=r.some((t=>{const{change:e,to:{x:i=-1/0}={}}=t;if("out"===e)return;const n=i<x;return x=i,n}))),f?{result:void 0,resultMap:void 0}:(Wf(r,a),{result:r,resultMap:o?l:s})}function fy(t,e,i){let n="updated";const a=t=>t.visible;if(!a(e)&&a(t))n="added";else if(a(e)&&!a(t))n="removed";else for(let c=0;c<i.length;c++){var o,r,s,l;if("move"!==i[c].change)break;if((null===(o=i[c].from)||void 0===o?void 0:o.x)!==(null===(r=i[c].to)||void 0===r?void 0:r.x))break;if((null===(s=i[c].from)||void 0===s?void 0:s.y)!==(null===(l=i[c].to)||void 0===l?void 0:l.y))break;if(c===i.length-1)return"no-op"}return n}function yy(t,e){const i="none"===e?"updated":t,n={fromFn:e=>{let n;return n="removed"===t?{finish:{visible:!1}}:"added"===t?{start:{visible:!0}}:{},O({phase:nn[i]},n)},toFn:t=>({phase:nn[i]})};return"fade"===e?{fromFn:e=>O({opacity:"added"===t?0:e.opacity},n.fromFn(e)),toFn:e=>O({opacity:"removed"===t?0:1},n.toFn(e))}:n}function my(t,e,i,n,a,o){const r=fy(t,e,i);return{status:r,path:{addPhaseFn:(t,e)=>{o(i,{move:1,in:t},e,a)},updatePhaseFn:(t,e)=>{o(i,{move:t},e,a)},removePhaseFn:(t,e)=>{o(i,{move:0,out:t},e,a)}},pathProperties:yy(r,n)}}function vy(t,e,i,n){var a,o,r;const s="category"===(null===(a=t.scales.x)||void 0===a?void 0:a.type);if(s!==("category"===(null===(o=e.scales.x)||void 0===o?void 0:o.type))||!ry(t.scales.x)||!ry(e.scales.x))return;const{result:l,resultMap:c}=s?gy(t,e,i):py(t,e);let u="updated";if(e.visible&&!t.visible?u="removed":!e.visible&&t.visible&&(u="added"),void 0===l||void 0===c)return;const d=null===(r=null===i||void 0===i?void 0:i.changed)||void 0===r||r||function(t,e){return!oy(t.scales.x,e.scales.x)||!oy(t.scales.y,e.scales.y)}(t,e)||"updated"!==u,h=my(t,e,l,"fade",n,Xf),p=Ff(c,u);return O(O({},h),{},{marker:p,hasMotion:d})}function xy(t){return fs(t).valueOf()}function by(t,e){let{data:i}=t;return i.map(((t,i)=>({xValue0Index:e.indexOf(xy(t.xValue0)),xValue1Index:e.indexOf(xy(t.xValue1)),datumIndex:i})))}function My(t,e){const i=new Set;for(const{xValue0:s,xValue1:l}of t.data){const t=xy(s),e=xy(l);i.add(t).add(e)}const n=Array.from(i).sort(((e,i)=>uy(e,t.scales.x)-uy(i,t.scales.x))),a=[];for(const{xValue0:s,xValue1:l}of e.data){const t=xy(s),e=xy(l);i.has(t)||(i.add(t),a.push(t)),i.has(e)||(i.add(e),a.push(e))}a.sort(((t,i)=>uy(t,e.scales.x)-uy(i,e.scales.x)));const o=n;let r=0;for(const s of a){t:for(let t=o.length;t>r;t-=1){if(uy(s,e.scales.x)>uy(o[t],e.scales.x)){r=t+1;break t}}o.splice(r,0,s),r+=1}if(!function(t,e){let i=-1/0;for(const n of t){const t=uy(n,e.scales.x);if(Number.isFinite(t)){if(t<i)return!1;i=t}}return!0}(o,e))return;return{axisValues:o,oldDataAxisIndices:by(e,o),newDataAxisIndices:by(t,o)}}function Sy(t,e,i){if(i.xValue1Index===i.xValue0Index+1)return t;const n=Mf(t),a=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),o=n[0].x+(e-i.xValue0Index)*a;return If(t,o,o+a)}function Iy(t,e){const[i,n]=Mf(t),a=uy(0,e.scales.y);return Sf(t,{x:i.x,y:a},{x:n.x,y:a})}function Dy(t,e,i,n,a){let o,r;if(n.xValue0Index>=a.xValue1Index){var s;const t=null===(s=i.findLast((t=>t.xValue1Index<=a.xValue1Index)))||void 0===s?void 0:s.datumIndex,n=null!=t?e.data[t]:void 0;o=null===n||void 0===n?void 0:n.xValue1,r=null===n||void 0===n?void 0:n.yValue1}else if(n.xValue0Index<=a.xValue0Index){var l;const t=null===(l=i.find((t=>t.xValue0Index>=a.xValue0Index)))||void 0===l?void 0:l.datumIndex,n=null!=t?e.data[t]:void 0;o=null===n||void 0===n?void 0:n.xValue0,r=null===n||void 0===n?void 0:n.yValue0}if(null==o||null==r)return Iy(t,e);const c={x:uy(o,e.scales.x),y:uy(r,e.scales.y)};return Sf(t,c,c)}function wy(t,e){var i;const n=xy(t.xValue0),a=xy(t.xValue1);return null===e||void 0===e||null===(i=e.find((t=>xy(t.xValue0)===n&&xy(t.xValue1)===a)))||void 0===i?void 0:i.span}function Ny(t,e,i,n,a,o){const r=t.data[i.datumIndex],s=r.span,l=wy(r,n);if(null!=l)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:s}),o.added.push({from:s,to:s});else{const n=Dy(s,t,e,i,a);o.added.push({from:n,to:s})}}function Ly(t,e,i,n,a,o){const r=t.data[i.datumIndex],s=r.span,l=wy(r,n);if(null!=l)o.removed.push({from:s,to:s}),o.moved.push({from:s,to:l}),o.added.push({from:l,to:l});else{const n=Dy(s,t,e,i,a);o.removed.push({from:s,to:n})}}function ky(t,e,i,n,a){const o=e[a.xValue0Index],r=i.data.find((t=>xy(t.xValue0)===o)),s=e[a.xValue1Index],l=i.data.find((t=>xy(t.xValue1)===s));if(null==r||null==l)return;const[{x:c},{x:u}]=Mf(t),d=uy(r.xValue0,i.scales.x),h=uy(r.yValue0,i.scales.y),p=uy(l.xValue1,i.scales.x),g=uy(l.yValue1,i.scales.y);let f=n.data[a.datumIndex].span;return f=Sf(f,{x:d,y:h},{x:p,y:g}),f=If(f,c,u),f}function Ay(t,e,i,n,a,o,r,s){const l=n+1,c=o.find((t=>t.xValue0Index<=n&&t.xValue1Index>=l)),u=a.find((t=>t.xValue0Index<=n&&t.xValue1Index>=l)),d=e.zeroData,h=t.zeroData;if(null==c&&null!=u)return void Ny(t,a,u,d,r,s);if(null!=c&&null==u)return void Ly(e,o,c,h,r,s);if(null==c||null==u)return;let p;p=c.xValue0Index===u.xValue0Index&&c.xValue1Index===u.xValue1Index?0:c.xValue0Index<=u.xValue0Index&&c.xValue1Index>=u.xValue1Index?-1:c.xValue0Index>=u.xValue0Index&&c.xValue1Index<=u.xValue1Index?1:0;const g=Sy(e.data[c.datumIndex].span,n,c),f=Sy(t.data[u.datumIndex].span,n,u);if(1===p){const n=ky(g,i,e,t,u);null!=n?(s.removed.push({from:g,to:n}),s.moved.push({from:n,to:f}),s.added.push({from:f,to:f})):Ly(e,o,c,h,r,s)}else if(-1===p){const n=ky(f,i,t,e,c);null!=n?(s.removed.push({from:g,to:g}),s.moved.push({from:g,to:n}),s.added.push({from:n,to:f})):Ny(t,a,u,d,r,s)}else s.removed.push({from:g,to:g}),s.moved.push({from:g,to:f}),s.added.push({from:f,to:f})}function Cy(t,e){const i={removed:[],moved:[],added:[]},n=My(t,e);return null==n?function(t,e,i){for(const o of e.data){var n;const t=o.span,a=null!==(n=wy(o,e.zeroData))&&void 0!==n?n:Iy(t,e);i.removed.push({from:t,to:a})}for(const o of t.data){var a;const e=o.span,n=null!==(a=wy(o,t.zeroData))&&void 0!==a?a:Iy(e,t);i.added.push({from:n,to:e})}}(t,e,i):function(t,e,i,n){var a,o,r,s,l,c,u,d;const{axisValues:h,oldDataAxisIndices:p,newDataAxisIndices:g}=t,f={xValue0Index:Math.max(null!==(a=null===(o=p.at(0))||void 0===o?void 0:o.xValue0Index)&&void 0!==a?a:-1/0,null!==(r=null===(s=g.at(0))||void 0===s?void 0:s.xValue0Index)&&void 0!==r?r:-1/0),xValue1Index:Math.min(null!==(l=null===(c=p.at(-1))||void 0===c?void 0:c.xValue1Index)&&void 0!==l?l:1/0,null!==(u=null===(d=g.at(-1))||void 0===d?void 0:d.xValue1Index)&&void 0!==u?u:1/0)};for(let y=0;y<h.length-1;y+=1)Ay(e,i,h,y,g,p,f,n)}(n,t,e,i),i}function Ty(t,e,i,n){for(let a=0;a<i.length;a+=1){const o=i[a],r=n[a];Rf(e.path,o.from,o.to,t,1,!1),Rf(e.path,r.from,r.to,t,2,!0),e.path.closePath()}}function Ey(t,e,i){for(const n of i)Rf(e.path,n.from,n.to,t,1,!1)}function Ry(t,e){var i,n;if("category"===(null===(i=t.scales.x)||void 0===i?void 0:i.type)!==("category"===(null===(n=e.scales.x)||void 0===n?void 0:n.type))||!ry(t.scales.x)||!ry(e.scales.x))return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const o=Cy({scales:t.scales,data:t.fillData.spans,visible:t.visible},{scales:e.scales,data:e.fillData.spans,visible:e.visible}),r=Cy({scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible},{scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible}),s=Cy({scales:t.scales,data:t.strokeData.spans,visible:t.visible,zeroData:t.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans}),l="none",c=function(t,e,i,n){return{status:t,path:{addPhaseFn:(t,n)=>Ty(t,n,e.added,i.added),updatePhaseFn:(t,n)=>Ty(t,n,e.moved,i.moved),removePhaseFn:(t,n)=>Ty(t,n,e.removed,i.removed)},pathProperties:yy(t,n)}}(a,o,r,l),u=function(t,e,i){return{status:t,path:{addPhaseFn:(t,i)=>Ey(t,i,e.added),updatePhaseFn:(t,i)=>Ey(t,i,e.moved),removePhaseFn:(t,i)=>Ey(t,i,e.removed)},pathProperties:yy(t,i)}}(a,s,l);return{status:a,fill:c,stroke:u}}var Oy=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:ty({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:uf,marker:(t,e)=>O(O({},{opacity:1,scalingX:1,scalingY:1}),Bf(0,e))}}),this.properties=new bf}async processData(t){var e,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:a,seriesGrouping:{groupIndex:o=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:l,yFilterKey:c,connectMissingData:u,normalizedTo:d}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=null===(e=this.axes.x)||void 0===e?void 0:e.scale,g=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:f,yScaleType:y}=this.getScaleInformation({xScale:p,yScale:g}),m={value:"area-stack-".concat(o,"-yValue"),values:"area-stack-".concat(o,"-yValues"),stack:"area-stack-".concat(o,"-yValue-stack"),marker:"area-stack-".concat(o,"-yValues-marker")},v=[];hi(d)&&v.push(Xg(Object.values(m),d,"range")),h&&v.push($g());const x={invalidValue:null};u&&r>1&&(x.invalidValue=0),a||(x.forceValue=0),await this.requestDataModel(t,n,{props:[Fg(s,f,{id:"xValue"}),Gg(l,y,O({id:"yValueRaw"},x)),...null!=c?[Gg(c,y,{id:"yFilterRaw"})]:[],...Wg(l,y,O(O({id:"yValueStack"},x),{},{groupId:m.stack})),Gg(l,y,O(O({id:"yValue"},x),{},{groupId:m.value})),...Vg(l,"window","current",O(O({id:"yValueEnd"},x),{},{groupId:m.values}),y),...Vg(l,"normal","current",O(O({id:"yValueCumulative"},x),{},{groupId:m.marker}),y),...v],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||0===e.data.length)return[];const a=n.y,o=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",e),s=i.getDomain(this,"yValueEnd","value",e);if("x"===t)return"key"===(null===o||void 0===o?void 0:o.def.type)&&"category"===o.def.valueType?r:Wu(un(r));if(a instanceof Ph||a instanceof Bh)return Wu(s);return Wu([s[0]>0?0:s[0],s[1]<0?0:s[1]])}async createNodeData(){var t,e,i;const{axes:n,data:a,processedData:{data:o}={},dataModel:r}=this,s=n.x,l=n.y;if(!s||!l||!a||!r||!this.properties.isValid())return;const{yKey:c,xKey:u,yFilterKey:d,marker:h,label:p,fill:g,stroke:f,connectMissingData:y}=this.properties,{scale:m}=s,{scale:v}=l,{isContinuousY:x}=this.getScaleInformation({xScale:m,yScale:v}),b=(null!==(t=m.bandwidth)&&void 0!==t?t:0)/2,M=r.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),S=null!=d?r.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,I=r.resolveProcessedDataIndexById(this,"yValueStack"),D=(t,e,i)=>{let n;return(hi(this.properties.normalizedTo)?x&&ps(i):!isNaN(i))&&(n=e),{x:m.convert(t)+b,y:v.convert(n),size:h.size}},w=c,N=[],L=[],{visibleSameStackCount:k}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let A=-1,C=!1;null===o||void 0===o||o.forEach((t=>{const{keys:e,keys:[i],datum:n,values:a}=t;a.forEach(((t,a)=>{A++;const o=n[a],s=r.resolveProcessedDataDefsValues(M,{keys:e,values:t}),{yValueRaw:l,yValueCumulative:d,yValueEnd:y}=s,m=Number.isFinite(l),v=D(i,+d,l),x=null!=S?t[S]===l:void 0;var b,I,k;(!1===x&&(C=!0),m&&h)&&L.push({index:A,series:this,itemId:w,datum:o,midPoint:{x:v.x,y:v.y},cumulativeValue:y,yValue:l,xValue:i,yKey:c,xKey:u,point:v,fill:null!==(b=h.fill)&&void 0!==b?b:g,stroke:null!==(I=h.stroke)&&void 0!==I?I:f,strokeWidth:null!==(k=h.strokeWidth)&&void 0!==k?k:this.getStrokeWidth(this.properties.strokeWidth),selected:x});if(m&&p){const t=this.getLabelText(p,{value:l,datum:o,xKey:u,yKey:c,xName:this.properties.xName,yName:this.properties.yName},Mg);N.push({index:A,series:this,itemId:c,datum:o,x:v.x,y:v.y,labelText:t})}}))}));const{interpolation:T}=this.properties,E=t=>{let e;const i=t.map((t=>t.point));switch(T.type){case"linear":e=function(t){const e=[];let i=0,n=NaN,a=NaN;for(const{x:o,y:r}of t){if(i>0){const t=1===i;e.push({type:"linear",moveTo:t,x0:n,y0:a,x1:o,y1:r})}i+=1,n=o,a=r}return e}(i);break;case"smooth":e=function(t,e){const i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];const n=i.map(((t,e)=>{const n=0===e?t:i[e-1],a=e===i.length-1?t:i[e+1],o=0===e||e===i.length-1;if(Math.sign(n.y-t.y)===Math.sign(a.y-t.y))return 0;if(!o){const e=Math.abs(n.y-a.y),i=Math.abs(t.y-n.y)/e,o=Math.abs(t.y-a.y)/e;if(i<=wf||1-i<=wf||o<=wf||1-o<=wf)return 0}return(a.y-n.y)/(a.x-n.x)}));0===n[1]&&(n[0]*=2),0===n[n.length-2]&&(n[n.length-1]*=2);const a=[];for(let o=1;o<i.length;o+=1){const t=i[o-1],r=n[o-1],s=i[o],l=n[o],c=s.x-t.x,u=s.y-t.y;let d=c*e/3,h=c*r*e/3,p=c*e/3,g=c*l*e/3;0===l&&Math.abs(h)>Math.abs(u)&&(d*=Math.abs(u/h),h=Math.sign(h)*Math.abs(u)),0===r&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),a.push({type:"cubic",moveTo:1===o,cp0x:t.x,cp0y:t.y,cp1x:t.x+d,cp1y:t.y+h,cp2x:s.x-p,cp2y:s.y-g,cp3x:s.x,cp3y:s.y})}return a}(i,T.tension);break;case"step":e=function(t,e){const i=[];let n=0,a=NaN,o=NaN;const r="number"===typeof e?e:Df[e];for(const{x:s,y:l}of t){if(n>0){const t=1===n,e=a+(s-a)*r;i.push({type:"step",moveTo:t,x0:a,y0:o,x1:s,y1:l,stepX:e})}n+=1,a=s,o=l}return i}(i,T.position)}return e.map(((e,i)=>({span:e,xValue0:t[i].xDatum,yValue0:t[i].yDatum,xValue1:t[i+1].xDatum,yValue1:t[i+1].yDatum})))},R=null===o||void 0===o?void 0:o.flatMap((t=>{const{keys:[e],values:i}=t;return i.map((t=>({xDatum:e,values:t})))})),O=(t,e)=>({point:{x:m.convert(t)+b,y:v.convert(e)},xDatum:t,yDatum:e}),z=t=>{const e=[];if(null==R)return[];for(let a=0;a<R.length;a+=1){var i,n;const{xDatum:o,values:r}=R[a],s=r[I],l=s[t],c=Number.isFinite(l);if(y&&!c)continue;const u=null===(i=R[a-1])||void 0===i?void 0:i.values[I],d=null===(n=R[a+1])||void 0===n?void 0:n.values[I];let h=0,p=0;for(let e=0;e<=t;e+=1){const t=s[e];if(Number.isFinite(t)){(null==u||Number.isFinite(u[e]))&&(h+=t),(null==d||Number.isFinite(d[e]))&&(p+=t)}}const g=e[e.length-1];if(y||h===p&&c){const t=Math.max(h,p),i=O(o,t);Array.isArray(g)?g.push(i):null!=g?(g.skip+=1,e.push([i])):e.push([i])}else if(!c&&Array.isArray(g)&&1===g.length)e[e.length-1]={skip:1};else{const t=O(o,h),i=O(o,p);Array.isArray(g)?g.push(t):null!=g&&(g.skip+=1),e.push(c?[i]:{skip:0})}}return(t=>t.flatMap((t=>Array.isArray(t)?E(t):new Array(t.skip).fill(null))))(e)},j=null!==(e=null===(i=this.seriesGrouping)||void 0===i?void 0:i.stackIndex)&&void 0!==e?e:0,P=()=>{if(null==R)return[];const t=R.map((t=>{let{xDatum:e,values:i}=t;const n=i[I][j];if(!y||Number.isFinite(n))return O(e,0)})).filter((t=>null!=t));return E(t)},B=z(j),F=B.map((()=>null));for(let Y=j-1;Y>=-1;Y-=1){let t;for(let e=0;e<F.length;e+=1){var G;null==F[e]&&(null!==(G=t)&&void 0!==G||(t=-1!==Y?z(Y):P()),F[e]=t[e])}}const U=B.map(((t,e)=>null!==t&&void 0!==t?t:F[e])),_=B.filter((t=>null!=t));return{itemId:w,fillData:{itemId:w,spans:U,phantomSpans:F},strokeData:{itemId:w,spans:_},labelData:N,nodeData:L,scales:this.calculateScaling(),visible:this.visible,stackVisible:k>0,crossFiltering:C}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(gh(t))}async updatePathNodes(t){var e;const{opacity:i,visible:n,animationEnabled:a}=t,[o,r]=t.paths,s=!0===(null===(e=this.contextNodeData)||void 0===e?void 0:e.crossFiltering),l=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({fill:void 0,lineJoin:r.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:l,strokeOpacity:this.properties.strokeOpacity*(s?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:n||a}),o.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(s?.125:1),fillShadow:this.properties.shadow,opacity:i,visible:n||a}),ey(this,r),ey(this,o)}async updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.checkPathDirty()}updateFillPath(t,e){const{spans:i,phantomSpans:n}=e.fillData,[a]=t,{path:o}=a;o.clear(!0);for(let r=0;r<i.length;r+=1){const{span:t}=i[r],e=n[r].span;Ef(o,t,1,!1),Ef(o,e,2,!0),o.closePath()}a.checkPathDirty()}updateStrokePath(t,e){const{spans:i}=e.strokeData,[,n]=t,{path:a}=n;a.clear(!0);for(const{span:o}of i)Ef(a,o,1,!1);n.checkPathDirty()}async updateMarkerSelection(t){var e;const{nodeData:i,markerSelection:n}=t,a=this.properties.marker.enabled||!0===(null===(e=this.contextNodeData)||void 0===e?void 0:e.crossFiltering);return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(a?i:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,marker:o,fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u,highlightStyle:d}=this.properties,h=Ei(i&&d.item,o.getStyle(),{fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u});e.each(((t,e)=>{this.updateMarkerStyle(t,o,{datum:e,highlighted:i,xKey:n,yKey:a},h,{selected:e.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}async updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:a,fontSize:o,fontFamily:r,color:s}=this.properties.label;e.each(((t,e)=>{const{x:l,y:c,labelText:u}=e;u&&i&&this.visible?(t.fontStyle=n,t.fontWeight=a,t.fontSize=o,t.fontFamily=r,t.textAlign="center",t.textBaseline="bottom",t.text=u,t.x=l,t.y=c-10,t.fill=s,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){const{id:e,axes:i,dataModel:n}=this,{xKey:a,xName:o,yName:r,tooltip:s,marker:l}=this.properties,{yKey:c,xValue:u,yValue:d,datum:h,itemId:p}=t,g=i.x,f=i.y;if(!this.properties.isValid()||!(g&&f&&Di(d))||!n)return Qr;const y=g.formatDatum(u),m=f.formatDatum(d),v=Ig(r),x=Ig(y+": "+m),b=Ei({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:M}=this.getMarkerStyle(l,{datum:t,xKey:a,yKey:c,highlighted:!1},b);return s.toTooltipHtml({title:v,content:x,backgroundColor:M},{datum:h,itemId:p,xKey:a,xName:o,yKey:c,yName:r,color:M,title:v,seriesId:e})}getLegendData(t){var e,i,n,a,o;if(null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==t)return[];const{yKey:r,yName:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h,lineDash:p,marker:g,visible:f,legendItemName:y}=this.properties,m=!g.enabled||void 0===g.fill;return[{legendType:t,id:this.id,itemId:r,seriesId:this.id,enabled:f,label:{text:null!==(i=null!==y&&void 0!==y?y:s)&&void 0!==i?i:r},symbols:[{marker:{shape:g.shape,fill:m?l:g.fill,fillOpacity:m?u:g.fillOpacity,stroke:null!==(n=g.stroke)&&void 0!==n?n:c,strokeOpacity:null!==(a=g.strokeOpacity)&&void 0!==a?a:d,strokeWidth:null!==(o=g.strokeWidth)&&void 0!==o?o:0,enabled:g.enabled||h<=0},line:{stroke:c,strokeOpacity:d,strokeWidth:h,lineDash:p}}],legendItemName:y}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:a}=t,{animationManager:o}=this.ctx;this.updateAreaPaths(a,n),Jf(this,o,...a),ja([e],Bf),jf(this,o,e),lf(this,"labels",o,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:a,paths:o,previousContextData:r}=t,[s,l]=o;if(null==s&&null==l)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(o,a)},u=()=>{e.skipCurrentBatch(),c()};if(null==a||null==r)return c(),Of(this,e,"added",i),qf(this,"fill_path_properties",e,"add",s),qf(this,"stroke_path_properties",e,"add",l),void lf(this,"labels",e,n);if(a.crossFiltering!==r.crossFiltering)return void u();const d=Ry(a,r);void 0!==d?"no-op"!==d.status&&(Of(this,e,void 0,i),an(this.id,"fill_path_properties",e,[s],d.fill.pathProperties),bg(this.id,"fill_path_update",e,[s],d.fill.path),an(this.id,"stroke_path_properties",e,[l],d.stroke.pathProperties),bg(this.id,"stroke_path_update",e,[l],d.stroke.path),lf(this,"labels",e,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(o,a)})):u()}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Co}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Gf(this,t)}};Oy.className="AreaSeries",Oy.type="area";var zy={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new Oy(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:jp,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Lp,color:kp}}},paletteFactory:t=>{const{marker:e}=mp(t);return{fill:e.fill,stroke:e.stroke,marker:e}}};function jy(t,e){return i=>e(i)?[O(O({},t[0]),{},{position:t[1].position}),O(O({},t[1]),{},{position:t[0].position})]:t}function Py(t,e){for(const i of e){const e=i.datum;void 0===e?St.error("undefined datum"):t.addValue(i,e)}}function By(t,e){const{x:i,y:n}=e,{nearest:a,distanceSquared:o}=t.getQuadTree().find(i,n);if(void 0!==a)return{datum:a.value,distance:Math.sqrt(o)}}var Fy=class extends wh{constructor(){super(...arguments),this.direction="vertical"}};gt([On(Sa)],Fy.prototype,"direction",2);var Gy=class extends Nh{constructor(){super(...arguments),this.groupScale=new Cn,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,e){var i;const n="boolean"===typeof e?1:.5,a=Di(this.smallestDataInterval)?this.smallestDataInterval*n:0,o=null!==(i=un(t))&&void 0!==i?i:[NaN,NaN];return"boolean"===typeof e?o[e?0:1]-=(e?1:-1)*a:(o[0]-=a,o[1]+=a),Wu(o)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t){return cn.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval):t.scale.bandwidth}updateGroupScale(t){const e=[],{groupScale:i}=this,n=this.getBandwidth(t),{index:a,visibleGroupCount:o}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<o;r++)e.push(String(r));i.domain=e,i.range=[0,null!==n&&void 0!==n?n:0],t instanceof rl?i.paddingInner=t.groupPaddingInner:i.padding=t instanceof vl?.1:0,i.round=0!==i.padding;return{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:a}}resolveKeyDirection(t){return"x"===this.getBarDirection()?"x"===t?"y":"x":t}initQuadTree(t){Py(t,this.datumNodesIter())}pickNodeClosestDatum(t){return By(this,t)}},Uy=class extends os{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};gt([On(Na(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],Uy.prototype,"placement",2),gt([On(Yn)],Uy.prototype,"padding",2);var _y=class extends Fy{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new hf,this.label=new Uy,this.tooltip=new yf,this.sparklineMode=!1}};function Yy(t,e){var i,n,a,o,r,s;t.crisp=null===(i=e.crisp)||void 0===i||i,t.fill=e.fill,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.fillOpacity=e.fillOpacity,t.strokeOpacity=e.strokeOpacity,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=e.fillShadow,t.topLeftCornerRadius=!1!==e.topLeftCornerRadius&&null!==(n=e.cornerRadius)&&void 0!==n?n:0,t.topRightCornerRadius=!1!==e.topRightCornerRadius&&null!==(a=e.cornerRadius)&&void 0!==a?a:0,t.bottomRightCornerRadius=!1!==e.bottomRightCornerRadius&&null!==(o=e.cornerRadius)&&void 0!==o?o:0,t.bottomLeftCornerRadius=!1!==e.bottomLeftCornerRadius&&null!==(r=e.cornerRadius)&&void 0!==r?r:0,t.visible=null===(s=e.visible)||void 0===s||s}function Vy(t){var e,i,n,a,o,r,s,l,c,u,d,h,p,g,f,y;let{datum:m,isHighlighted:v,style:x,highlightStyle:b,itemStyler:M,seriesId:S,ctx:{callbackCache:I}}=t,D=z(t,W);const{fill:w,fillOpacity:N,stroke:L,strokeWidth:k,strokeOpacity:A,lineDash:C,lineDashOffset:T,cornerRadius:E=0}=Ei(v&&b,x);let R;return M&&(R=I.call(M,O({datum:m.datum,xKey:m.xKey,fill:w,fillOpacity:N,stroke:L,strokeWidth:k,strokeOpacity:A,lineDash:C,lineDashOffset:T,cornerRadius:E,highlighted:v,seriesId:S},D))),{fill:null!==(e=null===(i=R)||void 0===i?void 0:i.fill)&&void 0!==e?e:w,fillOpacity:null!==(n=null===(a=R)||void 0===a?void 0:a.fillOpacity)&&void 0!==n?n:N,stroke:null!==(o=null===(r=R)||void 0===r?void 0:r.stroke)&&void 0!==o?o:L,strokeWidth:null!==(s=null===(l=R)||void 0===l?void 0:l.strokeWidth)&&void 0!==s?s:k,strokeOpacity:null!==(c=null===(u=R)||void 0===u?void 0:u.strokeOpacity)&&void 0!==c?c:A,lineDash:null!==(d=null===(h=R)||void 0===h?void 0:h.lineDash)&&void 0!==d?d:C,lineDashOffset:null!==(p=null===(g=R)||void 0===g?void 0:g.lineDashOffset)&&void 0!==p?p:T,cornerRadius:null!==(f=null===(y=R)||void 0===y?void 0:y.cornerRadius)&&void 0!==f?f:E,topLeftCornerRadius:x.topLeftCornerRadius,topRightCornerRadius:x.topRightCornerRadius,bottomRightCornerRadius:x.bottomRightCornerRadius,bottomLeftCornerRadius:x.bottomLeftCornerRadius,fillShadow:x.fillShadow}}function Wy(t,e,i,n){if(null!=e){const[t,i]=e;if(0!==t||1!==i)return!1}if(cn.is(t)){const e=t.calcBandwidth(n)-t.calcBandwidth(i);if(e>0&&e<1)return!1}return!0}gt([On(_n)],_y.prototype,"xKey",2),gt([On(_n,{optional:!0})],_y.prototype,"xName",2),gt([On(_n)],_y.prototype,"yKey",2),gt([On(_n,{optional:!0})],_y.prototype,"yName",2),gt([On(_n,{optional:!0})],_y.prototype,"yFilterKey",2),gt([On(_n,{optional:!0})],_y.prototype,"stackGroup",2),gt([On(Yn,{optional:!0})],_y.prototype,"normalizedTo",2),gt([On(aa)],_y.prototype,"fill",2),gt([On(Hn)],_y.prototype,"fillOpacity",2),gt([On(aa)],_y.prototype,"stroke",2),gt([On(Zn)],_y.prototype,"strokeWidth",2),gt([On(Hn)],_y.prototype,"strokeOpacity",2),gt([On(ga)],_y.prototype,"lineDash",2),gt([On(Zn)],_y.prototype,"lineDashOffset",2),gt([On(Zn)],_y.prototype,"cornerRadius",2),gt([On(Gn,{optional:!0})],_y.prototype,"crisp",2),gt([On(Un,{optional:!0})],_y.prototype,"itemStyler",2),gt([On(Bn,{optional:!0})],_y.prototype,"shadow",2),gt([On(Bn)],_y.prototype,"label",2),gt([On(Bn)],_y.prototype,"tooltip",2),gt([On(Gn)],_y.prototype,"sparklineMode",2);var Zy=t=>{var e;return Pe(null!==(e=t.yValue)&&void 0!==e?e:0)};function Hy(t,e,i){const{startingX:n,startingY:a}=function(t,e){const i=e[t?"y":"x"];let n=1/0,a=0;if(!i)return{startingX:n,startingY:a};t?a=i.scale.convert(cn.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(cn.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:a}}(t,e);return{isVertical:t,calculate:(e,i)=>{let o=t?e.x:n,r=t?a:e.y,s=t?e.width:0,l=t?0:e.height;const{opacity:c}=e;let u;return i&&(isNaN(o)||isNaN(r))&&(({x:o,y:r}=i),s=t?i.width:0,l=t?0:i.height,t&&!Zy(i)?r+=i.height:!t&&Zy(i)&&(o+=i.width)),u=null==e.clipBBox?void 0:Zy(e)?t?new We(o,r-l,s,l):new We(o-s,r,s,l):new We(o,r,s,l),{x:o,y:r,width:s,height:l,clipBBox:u,opacity:c}},mode:i}}function Ky(t,e){return{isVertical:t,calculate:e=>({x:t?e.x:e.x+e.width/2,y:t?e.y+e.height/2:e.y,width:t?e.width:0,height:t?0:e.height,clipBBox:e.clipBBox,opacity:e.opacity}),mode:e}}function Qy(t){const e=t=>null==t||isNaN(t.x)||isNaN(t.y);return{toFn:(i,n,a)=>{let o;return o="removed"===a&&null==i.datum&&"fade"===t.mode?O(O({},Xy(i,n)),{},{opacity:0}):"removed"===a||e(n)?t.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},o},fromFn:(i,n,a)=>{let o;"updated"===a&&e(n)?a="removed":"updated"===a&&e(i.previousDatum)&&(a="added"),o="added"===a&&null==i.previousDatum&&"fade"===t.mode?O(O({},Xy(i,n)),{},{opacity:0}):"unknown"===a||"added"===a?t.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const r=nn[a];return O(O({},o),{},{phase:r})}}}function Xy(t,e){let{x:i,y:n,width:a,height:o,clipBBox:r,opacity:s}=e;return{x:i,y:n,width:a,height:o,clipBBox:r,opacity:s}}function Jy(t,e,i){if(void 0===t)return;const{x:n,y:a,width:o,height:r}=t;return ko.toCanvas(e,new We(n,a,o,r)).clip(i)}function qy(t,e,i){if(e.enabled&&i){const{x:n,y:a,text:o,textAlign:r,textBaseline:s}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=e;t.setProperties({visible:!0,x:n,y:a,text:o,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:r,textBaseline:s})}else t.visible=!1}var $y={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function tm(t){let{isUpward:e,isVertical:i,placement:n,padding:a=0,rect:o}=t,r=o.x+o.width/2,s=o.y+o.height/2,l="center",c="middle";if("inside-center"!==n){const t=(e?1:-1)*(i?-1:1),{direction:u,textAlignment:d}=$y[n],h=.5*(u+1);if(i){s=(e?o.y+o.height:o.y)+o.height*t*h+a*d*t,c=d===t?"top":"bottom"}else{r=(e?o.x:o.x+o.width)+o.width*t*h+a*d*t,l=d===t?"left":"right"}}return{x:r,y:s,textAlign:l,textBaseline:c}}var em={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},im=class extends Gy{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Xy,label:uf}}),this.properties=new _y}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}async processData(t){var e,i,n,a;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:o=this.id}={},data:r=[]}=this,{xKey:s,yKey:l,yFilterKey:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale,p=null===(i=this.getValueAxis())||void 0===i?void 0:i.scale,{isContinuousX:g,xScaleType:f,yScaleType:y}=this.getScaleInformation({xScale:h,yScale:p}),m="bar-stack-".concat(o,"-yValues"),v="".concat(m,"-trailing"),x=[];Di(u)&&x.push(Xg([m,v],Math.abs(u),"range")),d&&this.processedData&&x.push(rf(this.processedData)),d&&x.push($g());const b=this.visible?{}:{forceValue:0},{processedData:M}=await this.requestDataModel(t,r,{props:[Fg(s,f,{id:"xValue"}),Gg(l,y,O({id:"yValue-raw",invalidValue:null},b)),...this.crossFilteringEnabled()?[Gg(c,y,O({id:"yFilterValue",invalidValue:null},b))]:[],...Vg(l,"normal","current",O({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0},b),y),...Vg(l,"trailing","current",O({id:"yValue-start",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},b),y),...g?[Zg,Hg]:[],...x],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=null===(n=M.reduced)||void 0===n?void 0:n.smallestKeyInterval,this.largestDataInterval=null===(a=M.reduced)||void 0===a?void 0:a.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!i||null===e||void 0===e||!e.data.length)return[];const n=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",e);let o=i.getDomain(this,"yValue-end","value",e);const r=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",e):void 0;if(null!=r&&(o=[Math.min(o[0],r[0]),Math.max(o[1],r[1])]),t===this.getCategoryDirection())return"key"===(null===n||void 0===n?void 0:n.def.type)&&"category"===n.def.valueType?a:this.padBandExtent(a);if(this.getValueAxis()instanceof Ph)return Wu(o);return Wu([Math.min(0,o[0]),Math.max(0,o[1])])}async createNodeData(){const{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!t||!e||!i||!this.properties.isValid())return;const n=e.scale,a=i.scale,{xKey:o,yKey:r,xName:s,yName:l,fill:c,stroke:u,strokeWidth:d,cornerRadius:h,legendItemName:p,label:g}=this.properties,f=i.isReversed(),{barWidth:y,groupIndex:m}=this.updateGroupScale(e),v=cn.is(n)?-.5*y:0,x=t.resolveProcessedDataIndexById(this,"xValue"),b=t.resolveProcessedDataIndexById(this,"yValue-raw"),M=this.crossFilteringEnabled()?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,S=t.resolveProcessedDataIndexById(this,"yValue-start"),I=t.resolveProcessedDataIndexById(this,"yValue-end"),D=t.resolveProcessedDataIndexById(this,"yValue-range"),w=!this.ctx.animationManager.isSkipped(),N=t=>{let{datum:e,valueIndex:i,xValue:s,yValue:l,cumulativeValue:p,phantom:x,currY:b,prevY:M,isPositive:S,yRange:I,labelText:D,crossScale:w=1}=t;const N=n.convert(s),k=S!==f,A=N+L.convert(String(m))+v,C=a.convert(b),T=a.convert(M),E="x"===this.getBarDirection(),R=a.convert(I),z=a.convert(0),j=.5*y*(1-w),P={x:E?Math.min(C,T):A+j,y:E?A+j:Math.min(C,T),width:E?Math.abs(T-C):y*w,height:E?y*w:Math.abs(T-C)},B=new We(P.x,P.y,P.width,P.height),F={x:E?Math.min(z,R):A+j,y:E?A+j:Math.min(z,R),width:E?Math.abs(z-R):y*w,height:E?y*w:Math.abs(z-R)},G=this.shouldFlipXY()?P.height:P.width;return{series:this,itemId:x?sf(r,x):r,datum:e,valueIndex:i,cumulativeValue:p,phantom:x,xValue:s,yValue:l,yKey:r,xKey:o,capDefaults:{lengthRatioMultiplier:G,lengthMax:G},x:F.x,y:F.y,width:F.width,height:F.height,midPoint:{x:P.x+P.width/2,y:P.y+P.height/2},fill:c,stroke:u,opacity:1,strokeWidth:d,cornerRadius:h,topLeftCornerRadius:E!==k,topRightCornerRadius:k,bottomRightCornerRadius:E===k,bottomLeftCornerRadius:!k,clipBBox:B,label:null!=D?O({text:D},tm({isUpward:k,isVertical:!E,placement:em[g.placement],padding:g.padding,rect:P})):void 0,missing:null==l,focusable:!x}},{groupScale:L,processedData:k}=this,A=[],C=[],T=[];return null===k||void 0===k||k.data.forEach((t=>{let{keys:e,datum:i,values:n,aggValues:a}=t;n.forEach(((t,n)=>{var c;const u=e[x],d=t[b],h=Number(t[S]),g=null!=M?Number(t[M]):void 0,f=Number(t[I]),y=d>=0&&!Object.is(d,-0),m=null!==(c=null===a||void 0===a?void 0:a[D][y?1:0])&&void 0!==c?c:0;if(!Number.isFinite(f))return;if(null!=g&&!Number.isFinite(g))return;const v=null!=d?this.getLabelText(this.properties.label,{datum:i[n],value:null!==g&&void 0!==g?g:d,xKey:o,yKey:r,xName:s,yName:l,legendItemName:p},Mg):void 0,w=null!=g&&g>d,L=N({datum:i[n],valueIndex:n,xValue:u,yValue:null!==g&&void 0!==g?g:d,cumulativeValue:null!==g&&void 0!==g?g:f,phantom:!1,currY:null!=g?h+g:f,prevY:h,isPositive:y,yRange:Math.max(h+(null!==g&&void 0!==g?g:-1/0),m),labelText:v,crossScale:w?.6:void 0});if(C.push(L),T.push(L),null!=g){const t=N({datum:i[n],valueIndex:n,xValue:u,yValue:g,cumulativeValue:g,phantom:!0,currY:f,prevY:h,isPositive:y,yRange:m,labelText:void 0,crossScale:void 0});A.push(t)}}))})),{itemId:r,nodeData:A.length>0?[...A,...C]:C,labelData:T,scales:this.calculateScaling(),visible:this.visible||w}}nodeFactory(){return new Yh}getHighlightData(t,e){const i=t.find((t=>t.datum===e.datum&&!t.phantom));return null!=i?[i]:void 0}async updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,(t=>sf(t.xValue,t.valueIndex,t.phantom)))}async updateDatumNodes(t){var e;if(!this.properties.isValid())return;const{yKey:i,stackGroup:n,fill:a,fillOpacity:o,stroke:r,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,itemStyler:d,shadow:h,highlightStyle:{item:p}}=this.properties,g=this.axes.x,f=null!==(e=this.properties.crisp)&&void 0!==e?e:Wy(null===g||void 0===g?void 0:g.scale,null===g||void 0===g?void 0:g.visibleRange,this.smallestDataInterval,this.largestDataInterval),y="x"===this.getCategoryDirection(),m={fill:a,stroke:r,lineDash:c,lineDashOffset:u,fillShadow:h,strokeWidth:this.getStrokeWidth(s),fillOpacity:0,strokeOpacity:0},v={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:i,style:m,itemStyler:d,stackGroup:n};t.datumSelection.each(((t,e)=>{var i,n,a,r;m.fillOpacity=o*(e.phantom?.2:1),m.strokeOpacity=l*(e.phantom?.2:1),m.cornerRadius=e.cornerRadius,m.topLeftCornerRadius=e.topLeftCornerRadius,m.topRightCornerRadius=e.topRightCornerRadius,m.bottomRightCornerRadius=e.bottomRightCornerRadius,m.bottomLeftCornerRadius=e.bottomLeftCornerRadius;const s=y?(null!==(i=null===(n=e.clipBBox)||void 0===n?void 0:n.width)&&void 0!==i?i:e.width)>0:(null!==(a=null===(r=e.clipBBox)||void 0===r?void 0:r.height)&&void 0!==a?a:e.height)>0;v.datum=e;const c=Vy(v);c.crisp=f,c.visible=s,Yy(t,c)}))}async updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,(t=>{t.pointerEvents=1}))}async updateLabelNodes(t){t.labelSelection.each(((t,e)=>{qy(t,this.properties.label,e.label)}))}getTooltipHtml(t){var e,i;const{id:n,processedData:a,ctx:{callbackCache:o}}=this,r=this.getCategoryAxis(),s=this.getValueAxis();if(!a||!this.properties.isValid()||!r||!s)return Qr;const{xKey:l,yKey:c,xName:u,yName:d,fill:h,stroke:p,strokeWidth:g,tooltip:f,itemStyler:y,stackGroup:m,legendItemName:v}=this.properties,{xValue:x,yValue:b,datum:M,itemId:S}=t,I=r.formatDatum(x),D=s.formatDatum(b),w=Ig(d),N=Ig(I+": "+D);let L;var k;y&&(L=o.call(y,{seriesId:n,datum:M,xKey:l,yKey:c,stackGroup:m,fill:h,stroke:p,strokeWidth:this.getStrokeWidth(g),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:null!==(k=this.properties.lineDash)&&void 0!==k?k:[],lineDashOffset:this.properties.lineDashOffset}));const A=null!==(e=null===(i=L)||void 0===i?void 0:i.fill)&&void 0!==e?e:h;return f.toTooltipHtml({title:w,content:N,backgroundColor:A},O({seriesId:n,itemId:S,datum:M,xKey:l,yKey:c,xName:u,yName:d,stackGroup:m,title:w,color:A,legendItemName:v},this.getModuleTooltipParams()))}getLegendData(t){var e,i;const{showInLegend:n}=this.properties;if("category"!==t||null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||!n)return[];const{yKey:a,yName:o,fill:r,stroke:s,strokeWidth:l,fillOpacity:c,strokeOpacity:u,legendItemName:d,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:a,seriesId:this.id,enabled:h,label:{text:null!==(i=null!==d&&void 0!==d?d:o)&&void 0!==i?i:a},symbols:[{marker:{fill:r,fillOpacity:c,stroke:s,strokeWidth:l,strokeOpacity:u}}],legendItemName:d}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i,annotationSelections:n}=t;const a=Qy(Hy(this.isVertical(),this.axes,"normal"));an(this.id,"nodes",this.ctx.animationManager,[e],a),lf(this,"labels",this.ctx.animationManager,i),lf(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(t){var e,i;const{datumSelection:n,labelSelection:a,annotationSelections:o,previousContextData:r}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,l=null==r?"fade":"normal",c=Qy(Hy(this.isVertical(),this.axes,l));an(this.id,"nodes",this.ctx.animationManager,[n],c,((t,e)=>sf(e.xValue,e.valueIndex,e.phantom)),s);(null===(i=null===s||void 0===s?void 0:s.changed)||void 0===i||i)&&(lf(this,"labels",this.ctx.animationManager,a),lf(this,"annotations",this.ctx.animationManager,...o))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){var e;let{datumIndex:i,seriesRect:n}=t;return Jy(null===(e=this.contextNodeData)||void 0===e?void 0:e.nodeData[i].clipBBox,this.contentGroup,n)}};im.className="BarSeries",im.type="bar";var nm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new im(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:jy([{type:"number",position:"left"},{type:"category",position:"bottom"}],(t=>"horizontal"===(null===t||void 0===t?void 0:t.direction))),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:Lp,color:Cp,placement:"inside-center"},shadow:{enabled:!1,color:jp,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:yp},am=class extends gf{constructor(){super(...arguments),this.maxSize=30}};gt([On(Zn),He({redraw:3})],am.prototype,"maxSize",2),gt([On(sa,{optional:!0}),He({redraw:3})],am.prototype,"domain",2);var om=class extends os{constructor(){super(...arguments),this.placement="top"}};gt([On(wa)],om.prototype,"placement",2);var rm=class extends wh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new om,this.tooltip=new yf,this.marker=new am}};gt([On(_n)],rm.prototype,"xKey",2),gt([On(_n)],rm.prototype,"yKey",2),gt([On(_n)],rm.prototype,"sizeKey",2),gt([On(_n,{optional:!0})],rm.prototype,"labelKey",2),gt([On(_n,{optional:!0})],rm.prototype,"colorKey",2),gt([On(_n,{optional:!0})],rm.prototype,"xFilterKey",2),gt([On(_n,{optional:!0})],rm.prototype,"yFilterKey",2),gt([On(_n,{optional:!0})],rm.prototype,"sizeFilterKey",2),gt([On(_n,{optional:!0})],rm.prototype,"xName",2),gt([On(_n,{optional:!0})],rm.prototype,"yName",2),gt([On(_n,{optional:!0})],rm.prototype,"sizeName",2),gt([On(_n,{optional:!0})],rm.prototype,"labelName",2),gt([On(_n,{optional:!0})],rm.prototype,"colorName",2),gt([On(sa,{optional:!0})],rm.prototype,"colorDomain",2),gt([On(oa)],rm.prototype,"colorRange",2),gt([On(_n,{optional:!0})],rm.prototype,"title",2),gt([Tr("marker.shape")],rm.prototype,"shape",2),gt([Tr("marker.size")],rm.prototype,"size",2),gt([Tr("marker.maxSize")],rm.prototype,"maxSize",2),gt([Tr("marker.domain",{optional:!0})],rm.prototype,"domain",2),gt([Tr("marker.fill",{optional:!0})],rm.prototype,"fill",2),gt([Tr("marker.fillOpacity")],rm.prototype,"fillOpacity",2),gt([Tr("marker.stroke",{optional:!0})],rm.prototype,"stroke",2),gt([Tr("marker.strokeWidth")],rm.prototype,"strokeWidth",2),gt([Tr("marker.strokeOpacity")],rm.prototype,"strokeOpacity",2),gt([Tr("marker.itemStyler",{optional:!0})],rm.prototype,"itemStyler",2),gt([On(Bn)],rm.prototype,"label",2),gt([On(Bn)],rm.prototype,"tooltip",2);var sm=class extends Dh{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},lm=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:uf,marker:Pf}}),this.NodeEvent=sm,this.properties=new rm,this.sizeScale=new Rh,this.colorScale=new ir}get pickModeAxis(){return"main-category"}async processData(t){var e,i,n;if(!this.properties.isValid()||null==this.data||!this.visible)return;const a=null===(e=this.axes.x)||void 0===e?void 0:e.scale,o=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:r,yScaleType:s}=this.getScaleInformation({xScale:a,yScale:o}),l=this.colorScale.type,c=this.sizeScale.type,{xKey:u,yKey:d,sizeKey:h,xFilterKey:p,yFilterKey:g,sizeFilterKey:f,labelKey:y,colorDomain:m,colorRange:v,colorKey:x,marker:b}=this.properties,{dataModel:M,processedData:S}=await this.requestDataModel(t,this.data,{props:[Gg(u,r,{id:"xValue"}),Gg(d,s,{id:"yValue"}),...null!=p?[Gg(p,r,{id:"xFilterValue"})]:[],...null!=g?[Gg(g,s,{id:"yFilterValue"})]:[],...null!=f?[Gg(f,c,{id:"sizeFilterValue"})]:[],Gg(h,c,{id:"sizeValue"}),...x?[Gg(x,l,{id:"colorValue"})]:[],...y?[Gg(y,"band",{id:"labelValue"})]:[]]}),I=M.resolveProcessedDataIndexById(this,"sizeValue"),D=null!==(n=S.domain.values[I])&&void 0!==n?n:[];if(this.sizeScale.domain=b.domain?b.domain:D,x){var w;const t=M.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(w=null!==m&&void 0!==m?m:S.domain.values[t])&&void 0!==w?w:[],this.colorScale.range=v,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);return"value"===(null===a||void 0===a?void 0:a.def.type)&&"category"===(null===a||void 0===a?void 0:a.def.valueType)?o:Wu(un(o))}async createNodeData(){var t,e;const{axes:i,dataModel:n,processedData:a,colorScale:o,sizeScale:r}=this,{xKey:s,yKey:l,sizeKey:c,xFilterKey:u,yFilterKey:d,sizeFilterKey:h,labelKey:p,xName:g,yName:f,sizeName:y,labelName:m,label:v,colorKey:x,marker:b,visible:M}=this.properties,S=gh(b.shape),{placement:I}=v,D=i.x,w=i.y;if(!(n&&a&&M&&D&&w))return;const N=n.resolveProcessedDataIndexById(this,"xValue"),L=n.resolveProcessedDataIndexById(this,"yValue"),k=null!=c?n.resolveProcessedDataIndexById(this,"sizeValue"):void 0,A=null!=x?n.resolveProcessedDataIndexById(this,"colorValue"):-1,C=null!=p?n.resolveProcessedDataIndexById(this,"labelValue"):-1,T=null!=u?n.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,E=null!=d?n.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,R=null!=h?n.resolveProcessedDataIndexById(this,"sizeFilterValue"):void 0,z=D.scale,j=w.scale,P=(null!==(t=z.bandwidth)&&void 0!==t?t:0)/2,B=(null!==(e=j.bandwidth)&&void 0!==e?e:0)/2,F=[];r.range=[b.size,b.maxSize];const G=v.getFont(),U=ur.getMeasurer({font:G});for(const{values:Y,datum:V}of null!==(_=a.data)&&void 0!==_?_:[]){var _;const t=Y[N],e=Y[L],i=null!=k?Y[k]:void 0,n=z.convert(t)+P,a=j.convert(e)+B;let u;null!=T&&null!=E&&(u=Y[T]===t&&Y[E]===e,null!=R&&u&&(u=Y[R]===i));const d=this.getLabelText(v,{value:p?Y[C]:e,datum:V,xKey:s,yKey:l,sizeKey:c,labelKey:p,xName:g,yName:f,sizeName:y,labelName:m}),h=U.measureText(String(d)),M=i?r.convert(i):b.size,D=x?o.convert(Y[A]):void 0;F.push({series:this,itemId:l,yKey:l,xKey:s,datum:V,xValue:t,yValue:e,sizeValue:i,point:{x:n,y:a,size:M},midPoint:{x:n,y:a},fill:D,label:O({text:d},h),marker:S,placement:I,selected:u})}return{itemId:l,nodeData:F,labelData:F,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t,e;return null!==(t=null===(e=this.contextNodeData)||void 0===e?void 0:e.labelData)&&void 0!==t?t:[]}markerFactory(){const{shape:t}=this.properties.marker;return new(gh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,(t=>sf([t.xValue,t.yValue,t.label.text])))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,sizeKey:o,labelKey:r,marker:s}=this.properties,{size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:g}=Ei(i&&this.properties.highlightStyle.item,s.getStyle()),f={size:l,shape:c,fill:u,fillOpacity:d,stroke:h,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[s.size,s.maxSize],e.each(((t,e)=>{this.updateMarkerStyle(t,s,{datum:e,highlighted:i,xKey:n,yKey:a,sizeKey:o,labelKey:r},f,{selected:e.selected})})),i||this.properties.marker.markClean()}async updateLabelSelection(t){var e,i;const n=this.properties.label.enabled&&null!==(e=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==e?e:[];return t.labelSelection.update(n.map((t=>O(O({},t.datum),{},{point:{x:t.x,y:t.y,size:t.datum.point.size}}))))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{var n,a,o,r;t.text=i.label.text,t.fill=e.color,t.x=null!==(n=null===(a=i.point)||void 0===a?void 0:a.x)&&void 0!==n?n:0,t.y=null!==(o=null===(r=i.point)||void 0===r?void 0:r.y)&&void 0!==o?o:0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return Qr;const{xKey:a,yKey:o,sizeKey:r,labelKey:s,xName:l,yName:c,sizeName:u,labelName:d,marker:h,tooltip:p}=this.properties,g=null!==(e=this.properties.title)&&void 0!==e?e:c,f=Ei({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:a,yKey:o,sizeKey:r,labelKey:s},f),{datum:m,xValue:v,yValue:x,sizeValue:b,label:{text:M},itemId:S}=t,I=Ig(i.formatDatum(v)),D=Ig(n.formatDatum(x));let w="<b>".concat(Ig(null!==l&&void 0!==l?l:a),"</b>: ").concat(I,"<br><b>").concat(Ig(null!==c&&void 0!==c?c:o),"</b>: ").concat(D);return r&&(w+="<br><b>".concat(Ig(null!==u&&void 0!==u?u:r),"</b>: ").concat(Ig(String(b)))),s&&(w="<b>".concat(Ig(null!==d&&void 0!==d?d:s),"</b>: ").concat(Ig(M),"<br>")+w),p.toTooltipHtml({title:g,content:w,backgroundColor:y},{datum:m,itemId:S,xKey:a,xName:l,yKey:o,yName:c,sizeKey:r,sizeName:u,labelKey:s,labelName:d,title:g,color:y,seriesId:this.id})}getLegendData(){var t,e;if(null===(t=this.data)||void 0===t||!t.length||!this.properties.isValid())return[];const{yKey:i,yName:n,title:a,marker:o,visible:r}=this.properties,{shape:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h}=o;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:r,label:{text:null!==(e=null!==a&&void 0!==a?a:n)&&void 0!==e?e:i},symbols:[{marker:{shape:s,fill:null!==l&&void 0!==l?l:"rgba(0, 0, 0, 0)",stroke:null!==c&&void 0!==c?c:"rgba(0, 0, 0, 0)",fillOpacity:null!==u&&void 0!==u?u:1,strokeOpacity:null!==d&&void 0!==d?d:1,strokeWidth:null!==h&&void 0!==h?h:0}}]}]}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i}=t;zf(this,this.ctx.animationManager,e),lf(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Co}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:a,highlighted:!1})}computeFocusBounds(t){return Gf(this,t)}};lm.className="BubbleSeries",lm.type="bubble";var cm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new lm(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Lp,color:kp}}},paletteFactory:yp},um=class extends wh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new hf,this.label=new os,this.tooltip=new yf}};gt([On(_n)],um.prototype,"xKey",2),gt([On(_n,{optional:!0})],um.prototype,"yKey",2),gt([On(_n,{optional:!0})],um.prototype,"xName",2),gt([On(_n,{optional:!0})],um.prototype,"yName",2),gt([On(aa,{optional:!0})],um.prototype,"fill",2),gt([On(Hn)],um.prototype,"fillOpacity",2),gt([On(aa,{optional:!0})],um.prototype,"stroke",2),gt([On(Zn)],um.prototype,"strokeWidth",2),gt([On(Hn)],um.prototype,"strokeOpacity",2),gt([On(ga)],um.prototype,"lineDash",2),gt([On(Zn)],um.prototype,"lineDashOffset",2),gt([On(Zn)],um.prototype,"cornerRadius",2),gt([On(Gn)],um.prototype,"areaPlot",2),gt([On(Xn,{optional:!0})],um.prototype,"bins",2),gt([On(Na(["count","sum","mean"],"a histogram aggregation"))],um.prototype,"aggregation",2),gt([On(Zn,{optional:!0})],um.prototype,"binCount",2),gt([On(Bn)],um.prototype,"shadow",2),gt([On(Bn)],um.prototype,"label",2),gt([On(Bn)],um.prototype,"tooltip",2);var dm=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Xy,label:uf}}),this.properties=new um,this.calculatedBins=[]}deriveBins(t){const e=$a(t[0],t[1],10),i=eo(t[0],t[1],10),[n]=e;return[[n-i,n],...e.map((t=>[t,t+i]))]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],a=e||1,{start:o,binSize:r}=this.calculateNiceStart(i,n,a);return this.getBins(o,n,r,a)}getBins(t,e,i,n){const a=[],o=this.calculatePrecision(i);for(let r=0;r<n;r++){const s=Math.round((t+r*i)*o)/o;let l=Math.round((t+(r+1)*i)*o)/o;r===n-1&&(l=Math.max(l,e)),a[r]=[s,l]}return a}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,a=Math.floor(Math.log10(n)),o=Math.pow(10,a);return{start:Math.floor(t/o)*o,binSize:n}}async processData(t){var e,i;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:n,yKey:a,areaPlot:o,aggregation:r}=this.properties,s=null===(e=this.axes.x)||void 0===e?void 0:e.scale,l=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:c,yScaleType:u}=this.getScaleInformation({yScale:l,xScale:s}),d=[Fg(n,c),Kg];if(a){let t=Cg("groupAgg");"count"===r||("sum"===r?t=kg("groupAgg"):"mean"===r&&(t=Tg("groupAgg"))),o&&(t=Eg("groupAgg",t)),d.push(Gg(a,u,{invalidValue:void 0}),t)}else{let t=Cg("groupAgg");o&&(t=Eg("groupAgg",t)),d.push(t)}!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(rf(this.processedData,!1)),await this.requestDataModel(t,this.data,{props:d,groupByFn:t=>{var e;const i=Wu(t.domain.keys[0]);if(0===i.length)return t.domain.groups=[],()=>[];const n=Ii(this.properties.binCount)?this.calculateNiceBins(i,this.properties.binCount):null!==(e=this.properties.bins)&&void 0!==e?e:this.deriveBins(i),a=n.length;return this.calculatedBins=[...n],t=>{const e=t.keys[0];for(let i=0;i<a;i++){const t=n[i];if(e>=t[0]&&e<t[1])return t;if(i===a-1&&e<=t[1])return t}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(t){var e,i,n,a;const{processedData:o,dataModel:r}=this;if(!o||!r||!this.calculatedBins.length)return[];const s=r.getDomain(this,"groupAgg","aggregate",o),l=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],c=null===(i=this.calculatedBins)||void 0===i?void 0:i[(null!==(n=null===(a=this.calculatedBins)||void 0===a?void 0:a.length)&&void 0!==n?n:0)-1][1];return Wu("x"===t?[l,c]:s)}async createNodeData(){var t,e;const{id:i,axes:n,processedData:a,ctx:{callbackCache:o}}=this,r=n.x,s=n.y;if(!r||!s)return;const{scale:l}=r,{scale:c}=s,{xKey:u,yKey:d,xName:h,yName:p,fill:g,stroke:f,strokeWidth:y,cornerRadius:m}=this.properties,v=null!==(t=this.properties.label.formatter)&&void 0!==t?t:t=>String(t.value),x=[],b={itemId:null!==(e=this.properties.yKey)&&void 0!==e?e:this.id,nodeData:x,labelData:x,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&a&&"grouped"===a.type?(a.data.forEach((t=>{const{aggValues:[[e,n]]=[[0,0]],datum:a,datum:{length:r},keys:b,keys:[M,S]}=t,I=l.convert(M),D=l.convert(S),w=e+n,N=c.convert(0),L=c.convert(w),k=Math.abs(D-I),A=Math.abs(L-N),C=Math.min(I,D),T=Math.min(N,L);let E;var R;0!==w&&(E={x:C+k/2,y:T+A/2,text:null!==(R=o.call(v,{value:w,datum:a,seriesId:i,xKey:u,yKey:d,xName:h,yName:p}))&&void 0!==R?R:String(w)});const O={x:C+k/2,y:T+A/2},z=s.isReversed();x.push({series:this,datum:a,aggregatedValue:w,frequency:r,domain:b,yKey:d,xKey:u,x:C,y:T,xValue:I,yValue:L,width:k,height:A,midPoint:O,fill:g,stroke:f,cornerRadius:m,topLeftCornerRadius:!z,topRightCornerRadius:!z,bottomRightCornerRadius:z,bottomLeftCornerRadius:z,opacity:1,strokeWidth:y,label:E})})),x.sort(((t,e)=>t.x-e.x)),b):b}nodeFactory(){return new Yh}async updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,(t=>{t.crisp=!0}),(t=>t.domain.join("_")))}async updateDatumNodes(t){const{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:n,lineDash:a,lineDashOffset:o,shadow:r,highlightStyle:{item:{fill:s,fillOpacity:l=i,stroke:c,strokeWidth:u}}}=this.properties;t.datumSelection.each(((t,d,h)=>{var p,g;const{cornerRadius:f,topLeftCornerRadius:y,topRightCornerRadius:m,bottomRightCornerRadius:v,bottomLeftCornerRadius:x}=d,b=e&&void 0!==u?u:d.strokeWidth,M=e?l:i;t.fill=null!==(p=e?s:void 0)&&void 0!==p?p:d.fill,t.stroke=null!==(g=e?c:void 0)&&void 0!==g?g:d.stroke,t.fillOpacity=M,t.strokeOpacity=n,t.strokeWidth=b,t.lineDash=a,t.lineDashOffset=o,t.topLeftCornerRadius=y?f:0,t.topRightCornerRadius=m?f:0,t.bottomRightCornerRadius=v?f:0,t.bottomLeftCornerRadius=x?f:0,t.fillShadow=r,t.zIndex=e?Td.highlightedZIndex:h,t.visible=d.height>0}))}async updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,(t=>{t.pointerEvents=1,t.textAlign="center",t.textBaseline="middle"}))}async updateLabelNodes(t){const{fontStyle:e,fontWeight:i,fontFamily:n,fontSize:a,color:o}=this.properties.label,r=this.isLabelEnabled();t.labelSelection.each(((t,s)=>{r&&null!==s&&void 0!==s&&s.label?(t.text=s.label.text,t.x=s.label.x,t.y=s.label.y,t.fontStyle=e,t.fontWeight=i,t.fontFamily=n,t.fontSize=a,t.fill=o,t.visible=!0):t.visible=!1}))}initQuadTree(t){const{value:e}=this.contentGroup.children().next();e&&Py(t,e.children())}pickNodeClosestDatum(t){return By(this,t)}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return Qr;const{xKey:n,yKey:a,xName:o,yName:r,fill:s,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:u,frequency:d,domain:[h,p],itemId:g}=t,f="".concat(Ig(null!==o&&void 0!==o?o:n),": ").concat(e.formatDatum(h)," - ").concat(e.formatDatum(p));let y=a?"<b>".concat(Ig(null!==r&&void 0!==r?r:a)," (").concat(l,")</b>: ").concat(i.formatDatum(u),"<br>"):"";y+="<b>Frequency</b>: ".concat(d);const m={title:f,backgroundColor:s,content:y};return c.toTooltipHtml(m,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},itemId:g,xKey:n,xName:o,yKey:a,yName:r,color:s,title:f,seriesId:this.id})}getLegendData(t){var e,i;if(null===(e=this.data)||void 0===e||!e.length||"category"!==t)return[];const{xKey:n,yName:a,fill:o,fillOpacity:r,stroke:s,strokeWidth:l,strokeOpacity:c,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:u,label:{text:null!==(i=null!==a&&void 0!==a?a:n)&&void 0!==i?i:"Frequency"},symbols:[{marker:{fill:null!==o&&void 0!==o?o:"rgba(0, 0, 0, 0)",stroke:null!==s&&void 0!==s?s:"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:c,strokeWidth:l}}]}]}animateEmptyUpdateReady(t){let{datumSelection:e,labelSelection:i}=t;const n=Qy(Hy(!0,this.axes,"normal"));an(this.id,"datums",this.ctx.animationManager,[e],n),lf(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var e;const i=null===(e=this.processedData)||void 0===e||null===(e=e.reduced)||void 0===e?void 0:e.diff,n=Qy(Hy(!0,this.axes,"normal"));an(this.id,"datums",this.ctx.animationManager,[t.datumSelection],n,((t,e)=>sf(e.domain)),i),lf(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(t){var e;let{datumIndex:i,seriesRect:n}=t;return Jy(null===(e=this.contextNodeData)||void 0===e?void 0:e.nodeData[i],this.contentGroup,n)}};dm.className="HistogramSeries",dm.type="histogram";var hm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new dm(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:Lp,color:Cp},shadow:{enabled:!1,color:jp,xOffset:3,yOffset:3,blur:5}}},paletteFactory:t=>{let{takeColors:e}=t;const{fills:[i],strokes:[n]}=e(1);return{fill:i,stroke:n}}},pm=class extends wh{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new xf,this.marker=new gf,this.label=new os,this.tooltip=new yf,this.connectMissingData=!1}};gt([On(_n)],pm.prototype,"xKey",2),gt([On(_n)],pm.prototype,"yKey",2),gt([On(_n,{optional:!0})],pm.prototype,"xName",2),gt([On(_n,{optional:!0})],pm.prototype,"yName",2),gt([On(_n,{optional:!0})],pm.prototype,"yFilterKey",2),gt([On(_n,{optional:!0})],pm.prototype,"stackGroup",2),gt([On(Zn,{optional:!0})],pm.prototype,"normalizedTo",2),gt([On(_n,{optional:!0})],pm.prototype,"title",2),gt([On(aa)],pm.prototype,"stroke",2),gt([On(Zn)],pm.prototype,"strokeWidth",2),gt([On(Hn)],pm.prototype,"strokeOpacity",2),gt([On(ga)],pm.prototype,"lineDash",2),gt([On(Zn)],pm.prototype,"lineDashOffset",2),gt([On(Bn)],pm.prototype,"interpolation",2),gt([On(Bn)],pm.prototype,"marker",2),gt([On(Bn)],pm.prototype,"label",2),gt([On(Bn)],pm.prototype,"tooltip",2),gt([On(Gn)],pm.prototype,"connectMissingData",2);var gm=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:ty({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:uf,marker:(t,e)=>O(O({},{opacity:1,scalingX:1,scalingY:1}),Bf(0,e))}}),this.properties=new pm}get pickModeAxis(){return"main-category"}async processData(t){var e,i;if(null==this.data||!this.properties.isValid())return;const{data:n,visible:a,seriesGrouping:{groupIndex:o=this.id,stackCount:r=1}={}}=this,{xKey:s,yKey:l,yFilterKey:c,connectMissingData:u,normalizedTo:d}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=null===(e=this.axes.x)||void 0===e?void 0:e.scale,g=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{isContinuousX:f,xScaleType:y,yScaleType:m}=this.getScaleInformation({xScale:p,yScale:g}),v={invalidValue:null};u&&r>1&&(v.invalidValue=0),a||(v.forceValue=0);const x=[];if(f||x.push(Fg(s,y,{id:"xKey"})),x.push(Gg(s,y,{id:"xValue"}),Gg(l,m,O(O({id:"yValueRaw"},v),{},{invalidValue:void 0}))),null!=c&&x.push(Gg(c,m,{id:"yFilterRaw"})),r>1){const t=["line-stack-".concat(o,"-yValues"),"line-stack-".concat(o,"-yValues-trailing"),"line-stack-".concat(o,"-yValues-marker")];x.push(...Vg(l,"window","current",O(O({id:"yValueEnd"},v),{},{groupId:t[0]}),m),...Vg(l,"window-trailing","current",O(O({id:"yValueStart"},v),{},{groupId:t[1]}),m),...Vg(l,"normal","current",O(O({id:"yValueCumulative"},v),{},{groupId:t[2]}),m)),hi(d)&&x.push(Xg([t[0],t[1],t[2]],d,"range"))}h&&(x.push($g(f?["xValue"]:void 0)),this.processedData&&x.push(rf(this.processedData))),await this.requestDataModel(t,n,{props:x}),this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!e||null===i||void 0===i||!i.data.length)return[];const n=e.resolveProcessedDataDefById(this,"xValue");if("x"===t){const t=e.getDomain(this,"xValue","value",i);return"value"===(null===n||void 0===n?void 0:n.def.type)&&"category"===n.def.valueType?t:Wu(un(t))}var a,o;return Wu((null!==(a=null===(o=this.seriesGrouping)||void 0===o?void 0:o.stackCount)&&void 0!==a?a:1)>1?e.getDomain(this,"yValueEnd","value",i):e.getDomain(this,"yValueRaw","value",i))}async createNodeData(){var t,e,i,n,a;const{processedData:o,dataModel:r,axes:s}=this,l=s.x,c=s.y;if(!o||!r||!l||!c)return;const{xKey:u,yKey:d,yFilterKey:h,xName:p,yName:g,marker:f,label:y,connectMissingData:m,legendItemName:v}=this.properties,x=(null!==(t=null===(e=this.seriesGrouping)||void 0===e?void 0:e.stackCount)&&void 0!==t?t:1)>1,b=l.scale,M=c.scale,S=(null!==(i=b.bandwidth)&&void 0!==i?i:0)/2,I=(null!==(n=M.bandwidth)&&void 0!==n?n:0)/2,D=[],w=f.enabled?f.size:0,N=r.resolveProcessedDataIndexById(this,"xValue"),L=r.resolveProcessedDataIndexById(this,"yValueRaw"),k=null!=h?r.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,A=x?r.resolveProcessedDataIndexById(this,"yValueCumulative"):L,C=x?r.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let T=!0,E=!1;return null===(a=o.data)||void 0===a||a.forEach((t=>{let{datum:e,values:i}=t;const n=i[N],a=i[L],o=i[A],r=null!=C?i[C]:void 0;if(null==a)return void(T||(T=!m));const s=b.convert(n)+S;if(isNaN(s))return void(T||(T=!m));const l=M.convert(o)+I,c=null!=k?i[k]===a:void 0;!1===c&&(E=!0);const h=this.getLabelText(y,{value:a,datum:e,xKey:u,yKey:d,xName:p,yName:g,legendItemName:v},Mg);D.push({series:this,datum:e,yKey:d,xKey:u,point:{x:s,y:l,moveTo:T,size:w},midPoint:{x:s,y:l},cumulativeValue:r,yValue:a,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},labelText:h,selected:c}),T=!1})),{itemId:d,nodeData:D,labelData:D,scales:this.calculateScaling(),visible:this.visible,crossFiltering:E}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(gh(t))}async updatePathNodes(t){var e;const{paths:[i],opacity:n,visible:a,animationEnabled:o}=t,r=!0===(null===(e=this.contextNodeData)||void 0===e?void 0:e.crossFiltering);i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(r?.25:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(i.visible=a),ey(this,i)}async updateMarkerSelection(t){var e;let{nodeData:i}=t;const{markerSelection:n}=t;return i=this.properties.marker.enabled||!0===(null===(e=this.contextNodeData)||void 0===e?void 0:e.crossFiltering)?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,(t=>sf(t.xValue)))}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,stroke:o,strokeWidth:r,strokeOpacity:s,marker:l,highlightStyle:c}=this.properties,u=Ei(i&&c.item,l.getStyle(),{stroke:o,strokeWidth:r,strokeOpacity:s}),d=this.ctx.animationManager.isSkipped();e.each(((t,e)=>{this.updateMarkerStyle(t,l,{datum:e,highlighted:i,xKey:n,yKey:a},u,{applyTranslation:d,selected:e.selected})})),i||l.markClean()}async updateLabelSelection(t){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])}async updateLabelNodes(t){const{enabled:e,fontStyle:i,fontWeight:n,fontSize:a,fontFamily:o,color:r}=this.properties.label;t.labelSelection.each(((t,s)=>{e&&null!==s&&void 0!==s&&s.labelText?(t.fontStyle=i,t.fontWeight=n,t.fontSize=a,t.fontFamily=o,t.textAlign="center",t.textBaseline="bottom",t.text=s.labelText,t.x=s.point.x,t.y=s.point.y-10,t.fill=r,t.visible=!0):t.visible=!1}))}getTooltipHtml(t){var e;const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return Qr;const{xKey:a,yKey:o,xName:r,yName:s,strokeWidth:l,marker:c,tooltip:u}=this.properties,{datum:d,xValue:h,yValue:p,itemId:g}=t,f=i.formatDatum(h),y=n.formatDatum(p),m=Ig(null!==(e=this.properties.title)&&void 0!==e?e:s),v=Ig(f+": "+y),x=Ei({fill:c.stroke},c.getStyle(),{strokeWidth:l}),{fill:b}=this.getMarkerStyle(c,{datum:t,xKey:a,yKey:o,highlighted:!1},x);return u.toTooltipHtml({title:m,content:v,backgroundColor:b},O({datum:d,itemId:g,xKey:a,xName:r,yKey:o,yName:s,title:m,color:b,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,n,a,o,r,s,l,c,u;if(null===(e=this.data)||void 0===e||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:d,yName:h,stroke:p,strokeOpacity:g,strokeWidth:f,lineDash:y,title:m,marker:v,visible:x,legendItemName:b}=this.properties,M="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,legendItemName:b,seriesId:this.id,enabled:x,label:{text:null!==(i=null!==(n=null!==b&&void 0!==b?b:m)&&void 0!==n?n:h)&&void 0!==i?i:d},symbols:[{marker:{shape:v.shape,fill:null!==(a=v.fill)&&void 0!==a?a:M,stroke:null!==(o=null!==(r=v.stroke)&&void 0!==r?r:p)&&void 0!==o?o:M,fillOpacity:null!==(s=v.fillOpacity)&&void 0!==s?s:1,strokeOpacity:null!==(l=null!==(c=v.strokeOpacity)&&void 0!==c?c:g)&&void 0!==l?l:1,strokeWidth:null!==(u=v.strokeWidth)&&void 0!==u?u:0,enabled:v.enabled},line:{stroke:null!==p&&void 0!==p?p:M,strokeOpacity:g,strokeWidth:f,lineDash:y}}]}]}async updatePaths(t){this.updateLinePaths(t.paths,t.contextData)}updateLinePaths(t,e){const{interpolation:i}=this.properties,{nodeData:n}=e,[a]=t;a.path.clear(!0);for(const o of sy(n))Kf(ly(n,o),a,i);a.checkPathDirty()}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n,contextData:a,paths:o}=t,{animationManager:r}=this.ctx;this.updateLinePaths(o,a),Jf(this,r,...o),ja([e],Bf),jf(this,r,e),lf(this,"labels",r,i),lf(this,"annotations",r,...n)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:a,contextData:o,paths:r,previousContextData:s}=t,[l]=r;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateLinePaths(r,o)},u=()=>{e.skipCurrentBatch(),c()};if(null==o||null==s)return c(),Of(this,e,"added",i),qf(this,"path_properties",e,"add",l),lf(this,"labels",e,n),void lf(this,"annotations",e,...a);if(o.crossFiltering!==s.crossFiltering)return void u();let d;try{var h;d=vy(o,s,null===(h=this.processedData)||void 0===h||null===(h=h.reduced)||void 0===h?void 0:h.diff,this.properties.interpolation)}catch(p){d=void 0}void 0!==d?"no-op"!==d.status&&(Of(this,e,void 0,i),an(this.id,"path_properties",e,[l],d.pathProperties),"added"===d.status?this.updateLinePaths(r,o):"removed"===d.status?this.updateLinePaths(r,s):bg(this.id,"path_update",e,[l],d.path),d.hasMotion&&(lf(this,"labels",e,n),lf(this,"annotations",e,...a))):u()}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Co}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Gf(this,t)}};gm.className="LineSeries",gm.type="line";var fm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new gm(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:Lp,color:kp},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=mp(t);return{stroke:e.fill,marker:e}}},ym=class extends os{constructor(){super(...arguments),this.placement="top"}};gt([On(wa)],ym.prototype,"placement",2);var mm=class extends wh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new ym,this.tooltip=new yf,this.marker=new gf}};gt([On(_n)],mm.prototype,"xKey",2),gt([On(_n)],mm.prototype,"yKey",2),gt([On(_n,{optional:!0})],mm.prototype,"labelKey",2),gt([On(_n,{optional:!0})],mm.prototype,"colorKey",2),gt([On(_n,{optional:!0})],mm.prototype,"xFilterKey",2),gt([On(_n,{optional:!0})],mm.prototype,"yFilterKey",2),gt([On(_n,{optional:!0})],mm.prototype,"xName",2),gt([On(_n,{optional:!0})],mm.prototype,"yName",2),gt([On(_n,{optional:!0})],mm.prototype,"labelName",2),gt([On(_n,{optional:!0})],mm.prototype,"colorName",2),gt([On(sa,{optional:!0})],mm.prototype,"colorDomain",2),gt([On(oa)],mm.prototype,"colorRange",2),gt([On(_n,{optional:!0})],mm.prototype,"title",2),gt([Tr("marker.shape")],mm.prototype,"shape",2),gt([Tr("marker.size")],mm.prototype,"size",2),gt([Tr("marker.fill")],mm.prototype,"fill",2),gt([Tr("marker.fillOpacity")],mm.prototype,"fillOpacity",2),gt([Tr("marker.stroke")],mm.prototype,"stroke",2),gt([Tr("marker.strokeWidth")],mm.prototype,"strokeWidth",2),gt([Tr("marker.strokeOpacity")],mm.prototype,"strokeOpacity",2),gt([Tr("marker.itemStyler",{optional:!0})],mm.prototype,"itemStyler",2),gt([On(Bn)],mm.prototype,"label",2),gt([On(Bn)],mm.prototype,"tooltip",2);var vm=class extends Nh{constructor(t){super({moduleCtx:t,directionKeys:Sh,directionNames:Ih,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Pf,label:uf}}),this.properties=new mm,this.colorScale=new ir}get pickModeAxis(){return"main-category"}async processData(t){var e,i;if(!this.properties.isValid()||null==this.data||!this.visible)return;const n=null===(e=this.axes.x)||void 0===e?void 0:e.scale,a=null===(i=this.axes.y)||void 0===i?void 0:i.scale,{xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:n,yScale:a}),s=this.colorScale.type,{xKey:l,yKey:c,xFilterKey:u,yFilterKey:d,labelKey:h,colorKey:p,colorDomain:g,colorRange:f}=this.properties,{dataModel:y,processedData:m}=await this.requestDataModel(t,this.data,{props:[Gg(l,o,{id:"xValue"}),Gg(c,r,{id:"yValue"}),...null!=u?[Gg(u,o,{id:"xFilterValue"})]:[],...null!=d?[Gg(d,r,{id:"yFilterValue"})]:[],...p?[Gg(p,s,{id:"colorValue"})]:[],...h?[Gg(h,"band",{id:"labelValue"})]:[]]});if(p){var v;const t=y.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=null!==(v=null!==g&&void 0!==g?g:m.domain.values[t])&&void 0!==v?v:[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n="x"===t?"xValue":"yValue",a=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);return"value"===(null===a||void 0===a?void 0:a.def.type)&&"category"===(null===a||void 0===a?void 0:a.def.valueType)?o:Wu(un(o))}async createNodeData(){var t,e;const{axes:i,dataModel:n,processedData:a,colorScale:o}=this,{xKey:r,yKey:s,xFilterKey:l,yFilterKey:c,labelKey:u,colorKey:d,xName:h,yName:p,labelName:g,marker:f,label:y,visible:m}=this.properties,{placement:v}=y,x=gh(f.shape),b=i.x,M=i.y;if(!(n&&a&&m&&b&&M))return;const S=n.resolveProcessedDataIndexById(this,"xValue"),I=n.resolveProcessedDataIndexById(this,"yValue"),D=null!=d?n.resolveProcessedDataIndexById(this,"colorValue"):-1,w=null!=u?n.resolveProcessedDataIndexById(this,"labelValue"):-1,N=null!=l?n.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,L=null!=c?n.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,k=b.scale,A=M.scale,C=(null!==(t=k.bandwidth)&&void 0!==t?t:0)/2,T=(null!==(e=A.bandwidth)&&void 0!==e?e:0)/2,E=[],R=y.getFont(),z=ur.getMeasurer({font:R});for(const{values:P,datum:B}of null!==(j=a.data)&&void 0!==j?j:[]){var j;const t=P[S],e=P[I],i=k.convert(t)+C,n=A.convert(e)+T,a=null!=N&&null!=L?P[N]===t&&P[L]===e:void 0,l=this.getLabelText(y,{value:u?P[w]:e,datum:B,xKey:r,yKey:s,labelKey:u,xName:h,yName:p,labelName:g}),c=z.measureText(l),m=d?o.convert(P[D]):void 0;E.push({series:this,itemId:s,yKey:s,xKey:r,datum:B,xValue:t,yValue:e,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:i,y:n,size:f.size},midPoint:{x:i,y:n},fill:m,label:O({text:l},c),marker:x,placement:v,selected:a})}return{itemId:s,nodeData:E,labelData:E,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t,e;return null!==(t=null===(e=this.contextNodeData)||void 0===e?void 0:e.labelData)&&void 0!==t?t:[]}markerFactory(){const{shape:t}=this.properties.marker;return new(gh(t))}async updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}async updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:a,labelKey:o,marker:r,highlightStyle:s}=this.properties,l=Ei(i&&s.item,r.getStyle());e.each(((t,e)=>{this.updateMarkerStyle(t,r,{datum:e,highlighted:i,xKey:n,yKey:a,labelKey:o},l,{selected:e.selected})})),i||r.markClean()}async updateLabelSelection(t){var e,i;const n=this.isLabelEnabled()&&null!==(e=null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))&&void 0!==e?e:[];return t.labelSelection.update(n.map((t=>{let{datum:e,x:i,y:n}=t;return O(O({},e),{},{point:{x:i,y:n,size:e.point.size},placement:"top"})})),(t=>{t.pointerEvents=1}))}async updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each(((t,i)=>{var n,a,o,r;t.text=i.label.text,t.fill=e.color,t.x=null!==(n=null===(a=i.point)||void 0===a?void 0:a.x)&&void 0!==n?n:0,t.y=null!==(o=null===(r=i.point)||void 0===r?void 0:r.y)&&void 0!==o?o:0,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.textAlign="left",t.textBaseline="top"}))}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return Qr;const{xKey:n,yKey:a,labelKey:o,xName:r,yName:s,labelName:l,title:c=s,marker:u,tooltip:d}=this.properties,{datum:h,xValue:p,yValue:g,label:f,itemId:y}=t,m=Ei({fill:t.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:v="gray"}=this.getMarkerStyle(u,{datum:t,highlighted:!1,xKey:n,yKey:a,labelKey:o},m),x=Ig(e.formatDatum(p)),b=Ig(i.formatDatum(g));let M="<b>".concat(Ig(null!==r&&void 0!==r?r:n),"</b>: ").concat(x,"<br><b>").concat(Ig(null!==s&&void 0!==s?s:a),"</b>: ").concat(b);return o&&(M="<b>".concat(Ig(null!==l&&void 0!==l?l:o),"</b>: ").concat(Ig(f.text),"<br>")+M),d.toTooltipHtml({title:c,content:M,backgroundColor:v},O({datum:h,itemId:y,xKey:n,xName:r,yKey:a,yName:s,labelKey:o,labelName:l,title:c,color:v,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,n,a,o,r;const{yKey:s,yName:l,title:c,marker:u,visible:d}=this.properties,{fill:h,stroke:p,fillOpacity:g,strokeOpacity:f,strokeWidth:y}=u;return null!==(e=this.data)&&void 0!==e&&e.length&&this.properties.isValid()&&"category"===t?[{legendType:"category",id:this.id,itemId:s,seriesId:this.id,enabled:d,label:{text:null!==(i=null!==c&&void 0!==c?c:l)&&void 0!==i?i:s},symbols:[{marker:{shape:u.shape,fill:null!==(n=null!==(a=u.fill)&&void 0!==a?a:h)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(o=null!==(r=u.stroke)&&void 0!==r?r:p)&&void 0!==o?o:"rgba(0, 0, 0, 0)",fillOpacity:null!==g&&void 0!==g?g:1,strokeOpacity:null!==f&&void 0!==f?f:1,strokeWidth:null!==y&&void 0!==y?y:0}}]}]:[]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;zf(this,this.ctx.animationManager,e),lf(this,"labels",this.ctx.animationManager,i),lf(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Co}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Gf(this,t)}};vm.className="ScatterSeries",vm.type="scatter";var xm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new vm(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:Lp,color:kp},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:yp},bm=class t{constructor(t,e,i,n){this.startAngle=t,this.endAngle=e,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=this;return new t(e,i,n,a)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[ye](e,i){return new t(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function Mm(t){let{startAngle:e,endAngle:i,innerRadius:n,outerRadius:a}=t,o=1/0,r=1/0,s=-1/0,l=-1/0;const c=(t,e)=>{o=Math.min(t,o),r=Math.min(e,r),s=Math.max(t,s),l=Math.max(e,l)};return c(n*Math.cos(e),n*Math.sin(e)),c(n*Math.cos(i),n*Math.sin(i)),c(a*Math.cos(e),a*Math.sin(e)),c(a*Math.cos(i),a*Math.sin(i)),_o(0,e,i)&&c(a,0),_o(.5*Math.PI,e,i)&&c(0,a),_o(Math.PI,e,i)&&c(-a,0),_o(1.5*Math.PI,e,i)&&c(0,-a),new We(o,r,s-o,l-r)}function Sm(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:a,outerRadius:o}=i;if(i.startAngle===i.endAngle||n<Math.min(a,o)||n>Math.max(a,o))return!1;const r=Uo(i.startAngle),s=Uo(i.endAngle),l=Math.atan2(e,t);return r<s?l<=s&&l>=r:l<=s&&l>=-Math.PI||l>=r&&l<=Math.PI}function Im(t,e){const{startAngle:i,endAngle:n,innerRadius:a,outerRadius:o}=e,r={x:o*Math.cos(i),y:o*Math.sin(i)},s={x:o*Math.cos(n),y:o*Math.sin(n)},l=0===a?{x:0,y:0}:{x:a*Math.cos(i),y:a*Math.sin(i)},c=0===a?{x:0,y:0}:{x:a*Math.cos(n),y:a*Math.sin(n)};return uc(t.start.x,t.start.y,t.end.x,t.end.y,r.x,r.y,l.x,l.y)||uc(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,c.x,c.y)||pc(0,0,o,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function Dm(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},a={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return Im({start:i,end:n},e)||Im({start:a,end:o},e)}function wm(t,e,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let a=0,o=1;for(let r=0;r<8;r+=1){const r=(a+o)/2;Math.asin(Math.abs(r*i)/(t+r*i))+Math.asin(Math.abs(r*n)/(t+r*n))-e<0?a=r:o=r}return a}function Nm(t,e){return Zo(t,e)<1e-6?e:Fo(t-e)+e}function Lm(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(e-t)>=2*Math.PI?2*Math.PI:Fo(e-t);return{startAngle:t=Nm(t,i),endAngle:e=t+n}}function km(t,e,i,n,a,o){const r=Math.sin(o),s=Math.cos(o),l=t**2+e**2-i**2;let c=NaN,u=NaN,d=NaN,h=NaN;if(s>.5){const i=r/s,n=1+i**2,a=-2*(t+e*i),o=a**2-4*n*l;if(o<0)return;const p=(-a+Math.sqrt(o))/(2*n),g=(-a-Math.sqrt(o))/(2*n);c=p,u=p*i,d=g,h=g*i}else{const i=s/r,n=1+i**2,a=-2*(e+t*i),o=a**2-4*n*l;if(o<0)return;const p=(-a+Math.sqrt(o))/(2*n),g=(-a-Math.sqrt(o))/(2*n);c=p*i,u=p,d=g*i,h=g}const p=d*s+h*r,g=c*s+u*r>0?Nm(Math.atan2(u-e,c-t),n):NaN,f=p>0?Nm(Math.atan2(h-e,d-t),n):NaN;return g>=n&&g<=a?g:f>=n&&f<=a?f:void 0}function Am(t,e,i,n,a,o){const r=Math.hypot(t,e),s=r-(r**2-i**2+o**2)/(2*r),l=Math.atan2(e,t),c=Math.acos(-s/i),u=Nm(l+c,n),d=Nm(l-c,n);return u>=n&&u<=a?u:d>=n&&d<=a?d:void 0}var Cm=class{constructor(t,e,i,n,a){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=a,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){null==t||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){null==t||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Tm=class extends Mc{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return Mm(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:t}=this;let{innerRadius:e,outerRadius:i}=this;return e=e>0?e+t:0,i=Math.max(i-t,0),{innerRadius:e,outerRadius:i}}normalizedClipSector(){const{clipSector:t}=this;if(null==t)return;const{startAngle:e,endAngle:i}=Lm(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:a}=this.normalizedRadii(),o=Lm(t.startAngle,t.endAngle,e);return new bm(Math.max(e,o.startAngle),Math.min(i,o.endAngle),Math.max(n,t.innerRadius),Math.min(a,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,e,i,n,a,o,r,s){if(t<=0)return;const{startAngle:l,endAngle:c}=Lm(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:d}=this.normalizedRadii(),h=this.normalizedClipSector();if(s&&u<=0)return;const p=s?this.getAngleOffset(u+t):this.getAngleOffset(d-t),g=r?l+p+e:c-p-e,f=s?u+t:d-t,y=f*Math.cos(g),m=f*Math.sin(g);if(null!=h){const t=1e-6;if(!r&&!(g>=l-t&&g<=h.endAngle-t))return;if(r&&!(g>=h.startAngle+t&&g<=c-t))return;if(s&&f<h.innerRadius-t)return;if(!s&&f>h.outerRadius+t)return}const v=new Cm(y,m,t,i,n);if(null!=h){let e,c;if(s?(v.clipStart(km(y,m,t,i,n,h.endAngle)),v.clipEnd(km(y,m,t,i,n,h.startAngle))):(v.clipStart(km(y,m,t,i,n,h.startAngle)),v.clipEnd(km(y,m,t,i,n,h.endAngle))),r?(e=Am(y,m,t,i,n,h.innerRadius),c=Am(y,m,t,i,n,h.outerRadius)):(e=Am(y,m,t,i,n,h.outerRadius),c=Am(y,m,t,i,n,h.innerRadius)),v.clipStart(e),v.clipEnd(c),null!=e){const{x:t,y:i}=v.pointAt(e),n=Nm(Math.atan2(i,t),l);r?null===o||void 0===o||o.clipStart(n):a.clipEnd(n)}if(null!=c){const{x:t,y:e}=v.pointAt(c),i=Nm(Math.atan2(e,t),l);r?a.clipStart(i):null===o||void 0===o||o.clipEnd(i)}}if(null!=h){const{x:t,y:e}=v.pointAt((v.a0+v.a1)/2);if(!Sm(t,e,h))return}const{x:x,y:b}=v.pointAt(r===s?v.a0:v.a1),M=Nm(Math.atan2(b,x),l),S=s?o:a;return r?null===S||void 0===S||S.clipStart(M):null===S||void 0===S||S.clipEnd(M),v}updatePath(){var t,e,i,n,a;const o=1e-6,{path:r,centerX:s,centerY:l,concentricEdgeInset:c,radialEdgeInset:u}=this;let{startOuterCornerRadius:d,endOuterCornerRadius:h,startInnerCornerRadius:p,endInnerCornerRadius:g}=this;const{startAngle:f,endAngle:y}=Lm(this.startAngle,this.endAngle),{innerRadius:m,outerRadius:v}=this.normalizedRadii(),x=this.normalizedClipSector(),b=y-f,M=b>=2*Math.PI-o;if(r.clear(),0===m&&0===v||m>v)return;if((null!==(t=null===x||void 0===x?void 0:x.startAngle)&&void 0!==t?t:f)===(null!==(e=null===x||void 0===x?void 0:x.endAngle)&&void 0!==e?e:y))return;if(M&&null==this.clipSector&&0===d&&0===h&&0===p&&0===g)return r.moveTo(s+v*Math.cos(f),l+v*Math.sin(f)),r.arc(s,l,v,f,y),m>c&&(r.moveTo(s+m*Math.cos(y),l+m*Math.sin(y)),r.arc(s,l,m,y,f,!0)),void r.closePath();if(null==this.clipSector&&Math.abs(m-v)<1e-6)return r.arc(s,l,v,f,y,!1),r.arc(s,l,v,y,f,!0),void r.closePath();const S=this.getAngleOffset(m),I=this.getAngleOffset(v);if(b<2*I)return;const D=(null!==(i=null===x||void 0===x?void 0:x.innerRadius)&&void 0!==i?i:m)>c,w=m<c||b<2*S,N=v-m,L=Math.max(d,p,h,g),k=L>0?Math.min(N/L,1):1;d*=k,h*=k,p*=k,g*=k;const A=wm(v,b-2*I,-d,-h);if(d*=A,h*=A,!w&&D){const t=wm(m,b-2*S,p,g);p*=t,g*=t}else p=0,g=0;const C=Math.max(d+p,h+g),T=C>0?Math.min(N/C,1):1;d*=T,h*=T,p*=T,g*=T;let E=0,R=0;const O=d/(v-d),z=h/(v-h);if(O>=0&&O<.999999)E=Math.asin(O);else{E=b/2;const t=v/(1/Math.sin(E)+1);d=Math.min(t,d)}if(z>=0&&z<.999999)R=Math.asin(z);else{R=b/2;const t=v/(1/Math.sin(R)+1);h=Math.min(t,h)}const j=Math.asin(p/(m+p)),P=Math.asin(g/(m+g)),B=null!==(n=null===x||void 0===x?void 0:x.outerRadius)&&void 0!==n?n:v,F=this.getAngleOffset(B),G=new Cm(0,0,B,f+F,y-F),U=null!==(a=null===x||void 0===x?void 0:x.innerRadius)&&void 0!==a?a:m,_=this.getAngleOffset(U),Y=D?new Cm(0,0,U,f+_,y-_):void 0;null!=x&&(G.clipStart(x.startAngle),G.clipEnd(x.endAngle),null===Y||void 0===Y||Y.clipStart(x.startAngle),null===Y||void 0===Y||Y.clipEnd(x.endAngle));const V=this.arc(d,E,f-.5*Math.PI,f+E,G,Y,!0,!1),W=this.arc(h,R,y-R,y+.5*Math.PI,G,Y,!1,!1),Z=this.arc(g,P,y+.5*Math.PI,y+Math.PI-P,G,Y,!1,!0),H=this.arc(p,j,f+Math.PI+j,f+1.5*Math.PI,G,Y,!0,!0);if(w){const t=b<.5*Math.PI?u*(1+Math.cos(b))/Math.sin(b):NaN;let e;e=t>0&&t<v?Math.max(Math.hypot(u,t),m):u,e=Math.max(e,m);const i=f+.5*b;r.moveTo(s+e*Math.cos(i),l+e*Math.sin(i))}else if(!0===(null===H||void 0===H?void 0:H.isValid())||!0===(null===Y||void 0===Y?void 0:Y.isValid()));else{const t=f+b/2,e=m*Math.cos(t),i=m*Math.sin(t);r.moveTo(s+e,l+i)}if(!0===(null===V||void 0===V?void 0:V.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=V;r.arc(s+t,l+e,i,n,a)}if(G.isValid()){const{r:t,a0:e,a1:i}=G;r.arc(s,l,t,e,i)}if(!0===(null===W||void 0===W?void 0:W.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=W;r.arc(s+t,l+e,i,n,a)}if(!w){if(!0===(null===Z||void 0===Z?void 0:Z.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=Z;r.arc(s+t,l+e,i,n,a)}if(!0===(null===Y||void 0===Y?void 0:Y.isValid())){const{r:t,a0:e,a1:i}=Y;r.arc(s,l,t,i,e,!0)}if(!0===(null===H||void 0===H?void 0:H.isValid())){const{cx:t,cy:e,r:i,a0:n,a1:a}=H;r.arc(s+t,l+e,i,n,a)}}r.closePath()}isPointInPath(t,e){var i;const{startAngle:n,endAngle:a,innerRadius:o,outerRadius:r}=null!==(i=this.clipSector)&&void 0!==i?i:this;return Sm(t-this.centerX,e-this.centerY,{startAngle:n,endAngle:a,innerRadius:Math.min(o,r),outerRadius:Math.max(o,r)})}};Tm.className="Sector",gt([bc()],Tm.prototype,"centerX",2),gt([bc()],Tm.prototype,"centerY",2),gt([bc()],Tm.prototype,"innerRadius",2),gt([bc()],Tm.prototype,"outerRadius",2),gt([bc()],Tm.prototype,"startAngle",2),gt([bc()],Tm.prototype,"endAngle",2),gt([bc()],Tm.prototype,"clipSector",2),gt([bc()],Tm.prototype,"concentricEdgeInset",2),gt([bc()],Tm.prototype,"radialEdgeInset",2),gt([bc()],Tm.prototype,"startOuterCornerRadius",2),gt([bc()],Tm.prototype,"endOuterCornerRadius",2),gt([bc()],Tm.prototype,"startInnerCornerRadius",2),gt([bc()],Tm.prototype,"endInnerCornerRadius",2);var Em={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Rm={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},Om=class extends ts{constructor(){super(...arguments),this.showInLegend=!1}};gt([On(Gn)],Om.prototype,"showInLegend",2);var zm=class extends os{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};gt([On(_n)],zm.prototype,"text",2),gt([On(Yn)],zm.prototype,"spacing",2);var jm=class extends Tn{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};gt([On(aa)],jm.prototype,"fill",2),gt([On(Hn)],jm.prototype,"fillOpacity",2);var Pm=class extends os{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};gt([On(Zn)],Pm.prototype,"offset",2),gt([On(Kn)],Pm.prototype,"minAngle",2),gt([On(Zn)],Pm.prototype,"minSpacing",2),gt([On(Zn)],Pm.prototype,"maxCollisionOffset",2),gt([On(Gn)],Pm.prototype,"avoidCollisions",2);var Bm=class extends os{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};gt([On(Yn)],Bm.prototype,"positionOffset",2),gt([On(Hn)],Bm.prototype,"positionRatio",2);var Fm=class extends Tn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};gt([On(oa,{optional:!0})],Fm.prototype,"colors",2),gt([On(Zn)],Fm.prototype,"length",2),gt([On(Zn)],Fm.prototype,"strokeWidth",2);var Gm=class extends Mh{constructor(){super(...arguments),this.fills=Object.values(Em),this.strokes=Object.values(Rm),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new En(zm),this.title=new Om,this.innerCircle=new jm,this.shadow=new hf,this.calloutLabel=new Pm,this.sectorLabel=new Bm,this.calloutLine=new Fm,this.tooltip=new yf}isValid(){const t=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(St.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};function Um(t,e,i,n){const a=[i.convert(0),i.convert(1)],o=[n.convert(0),n.convert(1)],r=Math.PI/-2+Yo(e),s=t?"initial":"update";return{nodes:{toFn:(t,e,i,n)=>{let{prevLive:o}=n,{startAngle:s,endAngle:l,innerRadius:c,outerRadius:u}=e;const{stroke:d,fill:h}=e.sectorFormat;var p,g;"removed"===i&&o?(s=null===(p=o.datum)||void 0===p?void 0:p.endAngle,l=null===(g=o.datum)||void 0===g?void 0:g.endAngle):"removed"!==i||o||(s=r,l=r);if("removed"===i){const t=(t=>{let{radius:e}=t;return{innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*e}})(e);c=t.innerRadius,u=t.outerRadius}return{startAngle:s,endAngle:l,outerRadius:u,innerRadius:c,stroke:d,fill:h}},fromFn:(e,i,n,a)=>{let{prevFromProps:l}=a,{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h}=e,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l)c=r,u=r,d=i.innerRadius,h=i.outerRadius;else if("added"===n&&l){var f,y,m,v;c=null!==(f=l.endAngle)&&void 0!==f?f:r,u=null!==(y=l.endAngle)&&void 0!==y?y:r,d=null!==(m=l.innerRadius)&&void 0!==m?m:i.innerRadius,h=null!==(v=l.outerRadius)&&void 0!==v?v:i.outerRadius}if("added"===n&&!t){const t=(t=>{let{radius:e}=t;return{innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*e}})(i);d=t.innerRadius,h=t.outerRadius}var x,b;"updated"===n&&(p=null!==(x=e.fill)&&void 0!==x?x:p,g=null!==(b=e.stroke)&&void 0!==b?b:g);return{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,fill:p,stroke:g,phase:s}}},innerCircle:{fromFn:(t,e)=>{var i,n,a;return{size:null!==(i=null!==(n=null===(a=t.previousDatum)||void 0===a?void 0:a.radius)&&void 0!==n?n:t.size)&&void 0!==i?i:0,phase:s}},toFn:(t,e)=>{var i;return{size:null!==(i=e.radius)&&void 0!==i?i:0}}}}}function _m(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function Ym(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,a=Math.atan2(i,n),o=t.getItemNodes();for(const r of o)if(!0!==r.datum.missing&&_o(a,r.startAngle,r.endAngle)){const t=Math.sqrt(n*n+i*i);let e=0;return t<r.innerRadius?e=r.innerRadius-t:t>r.outerRadius&&(e=t-r.outerRadius),{datum:r.datum,distance:e}}}gt([On(_n)],Gm.prototype,"angleKey",2),gt([On(_n,{optional:!0})],Gm.prototype,"angleName",2),gt([On(_n,{optional:!0})],Gm.prototype,"angleFilterKey",2),gt([On(_n,{optional:!0})],Gm.prototype,"radiusKey",2),gt([On(_n,{optional:!0})],Gm.prototype,"radiusName",2),gt([On(Zn,{optional:!0})],Gm.prototype,"radiusMin",2),gt([On(Zn,{optional:!0})],Gm.prototype,"radiusMax",2),gt([On(_n,{optional:!0})],Gm.prototype,"calloutLabelKey",2),gt([On(_n,{optional:!0})],Gm.prototype,"calloutLabelName",2),gt([On(_n,{optional:!0})],Gm.prototype,"sectorLabelKey",2),gt([On(_n,{optional:!0})],Gm.prototype,"sectorLabelName",2),gt([On(_n,{optional:!0})],Gm.prototype,"legendItemKey",2),gt([On(oa)],Gm.prototype,"fills",2),gt([On(oa)],Gm.prototype,"strokes",2),gt([On(Hn)],Gm.prototype,"fillOpacity",2),gt([On(Hn)],Gm.prototype,"strokeOpacity",2),gt([On(ga)],Gm.prototype,"lineDash",2),gt([On(Zn)],Gm.prototype,"lineDashOffset",2),gt([On(Zn)],Gm.prototype,"cornerRadius",2),gt([On(Un,{optional:!0})],Gm.prototype,"itemStyler",2),gt([On(Kn)],Gm.prototype,"rotation",2),gt([On(Yn)],Gm.prototype,"outerRadiusOffset",2),gt([On(Hn)],Gm.prototype,"outerRadiusRatio",2),gt([On(Yn,{optional:!0})],Gm.prototype,"innerRadiusOffset",2),gt([On(Hn,{optional:!0})],Gm.prototype,"innerRadiusRatio",2),gt([On(Zn)],Gm.prototype,"strokeWidth",2),gt([On(Yn)],Gm.prototype,"sectorSpacing",2),gt([On(ua)],Gm.prototype,"innerLabels",2),gt([On(Bn)],Gm.prototype,"title",2),gt([On(Bn)],Gm.prototype,"innerCircle",2),gt([On(Bn)],Gm.prototype,"shadow",2),gt([On(Bn)],Gm.prototype,"calloutLabel",2),gt([On(Bn)],Gm.prototype,"sectorLabel",2),gt([On(Bn)],Gm.prototype,"calloutLine",2),gt([On(Bn)],Gm.prototype,"tooltip",2);var Vm=class extends fh{constructor(t){let{useLabelLayer:e=!1,pickModes:i=[1,0],canHaveAxes:n=!1,animationResetFns:a}=t;super(O(O({},z(t,Z)),{},{useLabelLayer:e,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n})),this.itemGroup=this.contentGroup.appendChild(new Co),this.nodeData=[],this.itemSelection=Po.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=Po.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=Po.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=Po.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=a,this.animationState=new Fr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),highlightMarkers:t=>this.animateReadyHighlightMarkers(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}labelFactory(){const t=new fr;return t.pointerEvents=1,t}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){var t;const{item:e,label:i}=null!==(t=this.animationResetFns)&&void 0!==t?t:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&ja([this.itemSelection,this.highlightSelection],e),i&&ja([this.labelSelection,this.highlightLabelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){var e;const{item:i,label:n}=null!==(e=this.animationResetFns)&&void 0!==e?e:{};i&&ja([this.highlightSelection],i),n&&ja([this.highlightLabelSelection],n)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}computeFocusBounds(t){var e;const i=null===(e=this.getNodeData())||void 0===e?void 0:e[t.datumIndex];if(void 0!==i)return this.itemSelection.select((t=>t instanceof Mc&&t.datum===i))[0]}},Wm=class extends Ad{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Zm=class extends Vm{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:_m,label:uf}}),this.properties=new Gm,this.phantomNodeData=void 0,this.previousRadiusScale=new Rh,this.radiusScale=new Rh,this.phantomGroup=this.contentGroup.appendChild(new Co),this.phantomSelection=Po.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Co({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Po(this.calloutLabelGroup,Co),this.backgroundGroup=this.rootGroup.appendChild(new ns({name:"".concat(this.id,"-background"),zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Co({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new qd),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new qd),this.innerLabelsGroup=this.contentGroup.appendChild(new Co({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Co({name:"".concat(this.id,"-innerCircle")})),this.innerLabelsSelection=Po.select(this.innerLabelsGroup,fr),this.innerCircleSelection=Po.select(this.innerCircleGroup,qd),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=Wm,this.angleScale=new Rh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){var t;return null!==(t=this.phantomNodeData)&&void 0!==t?t:this.nodeData}addChartEventListeners(){var t;this.destroyFns.push(null===(t=this.ctx.chartEventManager)||void 0===t?void 0:t.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new Tm}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){if(null==this.data||!this.properties.isValid())return;let{data:e}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,angleFilterKey:o,radiusKey:r,calloutLabelKey:s,sectorLabelKey:l,legendItemKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=[],h=[];c?d.push(Fg(c,"band",{id:"legendItemKey"})):s?d.push(Fg(s,"band",{id:"calloutLabelKey"})):l&&d.push(Fg(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;var f,y;r&&h.push(Ug(r,{id:"radiusValue",min:null!==(f=this.properties.radiusMin)&&void 0!==f?f:0,max:this.properties.radiusMax}),Gg(r,p,{id:"radiusRaw"}),qg("radiusValue",[0,1],1,null!==(y=this.properties.radiusMin)&&void 0!==y?y:0,this.properties.radiusMax));s&&h.push(Gg(s,"band",{id:"calloutLabelValue"})),l&&h.push(Gg(l,"band",{id:"sectorLabelValue"})),c&&h.push(Gg(c,"band",{id:"legendItemValue"})),o&&h.push(_g(o,g,{id:"angleFilterValue",onlyPositive:!0}),Gg(o,g,{id:"angleFilterRaw"}),qg("angleFilterValue",[0,1],0,0)),u&&this.processedData&&d.length>0&&h.push(rf(this.processedData)),h.push($g()),e=e.map(((t,e)=>i&&n[e]?t:O(O({},t),{},{[a]:0}))),await this.requestDataModel(t,e,{props:[...d,_g(a,g,{id:"angleValue",onlyPositive:!0}),Gg(a,g,{id:"angleRaw"}),qg("angleValue",[0,1],0,0),...h]});for(const x of null!==(m=null===(v=this.processedData)||void 0===v||null===(v=v.defs)||void 0===v?void 0:v.values)&&void 0!==m?m:[]){var m,v;const{id:t,missing:e,property:i}=x,n=Zu(this,e);"angleRaw"!==t&&n>0&&St.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var t;if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:i}=null!==(t=await this.createNodeData())&&void 0!==t?t:{};this.nodeData=e,this.phantomNodeData=i,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:t.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:r,angleRawIdx:s,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:u,radiusRawIdx:d,calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:g}=this.getProcessedDataIndexes(i),f=null!=c&&e.data.some((t=>{let{values:e}=t;return e[c]>e[s]}));let y=0,m=0;const v=[],x=null!=c?[]:void 0;return e.data.forEach(((t,e)=>{var i;const{datum:o,values:b}=t,M=f?b[l]:b[r],S=null==c||f?1:Math.sqrt(b[c]/b[s]),I=n.convert(y)+Yo(a);y=M,m+=M;const D=n.convert(y)+Yo(a),w=Math.abs(D-I),N=I+w/2,L=b[s],k=(null!=u&&null!==(i=b[u])&&void 0!==i?i:1)*S,A=null!=d?b[d]:void 0,C=null!=g?b[g]:void 0,T=this.getLabels(o,N,w,!0,null!=h?b[h]:void 0,null!=p?b[p]:void 0,C),E=this.getSectorFormat(o,e,!1),R=O({itemId:e,series:this,datum:o,index:e,angleValue:L,midAngle:N,midCos:Math.cos(N),midSin:Math.sin(N),startAngle:I,endAngle:D,radius:k,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(k),0),sectorFormat:E,radiusValue:A,legendItemValue:C,enabled:this.seriesItemEnabled[e],focusable:!0},T);v.push(R),null!=x&&x.push(O(O({},R),{},{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))})),this.zerosumOuterRing.visible=0===m,this.zerosumInnerRing.visible=0===m&&null!=o&&1!==o&&o>0,{itemId:t,nodeData:v,labelData:v,phantomNodeData:x}}getLabels(t,e,i,n,a,o,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||s.enabled?this.properties.calloutLabelKey:void 0,d=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>Yo(s.minAngle)&&(p.calloutLabel=O(O({},this.getTextAlignment(e)),{},{text:this.getLabelText(s,O(O({},h),{},{value:a})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,O(O({},h),{},{value:o}))}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Uo(t)- -.75*Math.PI;return e[Ge(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){var n,a,o,r,s,l,c,u,d,h,p,g,f,y,m,v;const{callbackCache:x}=this.ctx,{angleKey:b,radiusKey:M,calloutLabelKey:S,sectorLabelKey:I,legendItemKey:D,fills:w,strokes:N,itemStyler:L}=this.properties,k=N[e%N.length],{fill:A,fillOpacity:C,stroke:T,strokeWidth:E,strokeOpacity:R,lineDash:O,lineDashOffset:z,cornerRadius:j}=Ei(i&&this.properties.highlightStyle.item,{fill:w.length>0?w[e%w.length]:void 0,stroke:k,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let P;return L&&(P=x.call(L,{datum:t,angleKey:b,radiusKey:M,calloutLabelKey:S,sectorLabelKey:I,legendItemKey:D,fill:A,fillOpacity:C,stroke:T,strokeWidth:E,strokeOpacity:R,lineDash:O,lineDashOffset:z,cornerRadius:j,highlighted:i,seriesId:this.id})),{fill:null!==(n=null===(a=P)||void 0===a?void 0:a.fill)&&void 0!==n?n:A,fillOpacity:null!==(o=null===(r=P)||void 0===r?void 0:r.fillOpacity)&&void 0!==o?o:C,stroke:null!==(s=null===(l=P)||void 0===l?void 0:l.stroke)&&void 0!==s?s:T,strokeWidth:null!==(c=null===(u=P)||void 0===u?void 0:u.strokeWidth)&&void 0!==c?c:E,strokeOpacity:null!==(d=null===(h=P)||void 0===h?void 0:h.strokeOpacity)&&void 0!==d?d:R,lineDash:null!==(p=null===(g=P)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:O,lineDashOffset:null!==(f=null===(y=P)||void 0===y?void 0:y.lineDashOffset)&&void 0!==f?f:z,cornerRadius:null!==(m=null===(v=P)||void 0===v?void 0:v.cornerRadius)&&void 0!==m?m:j}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){var e;const i=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);const n=t=>O(O({},t),{},{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=null===(e=this.phantomNodeData)||void 0===e?void 0:e.map(n)}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(t=null===(e=this.properties.title)||void 0===e?void 0:e.spacing)&&void 0!==t?t:0))-Math.max(0,-i)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:null===e||void 0===e?void 0:e.width,seriesRectHeight:null===e||void 0===e?void 0:e.height},a=null!=Dr(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY();i.node.y=isFinite(t)?t:0;const e=i.node.getBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e)}for(const o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;if(t!==e){var i,n;if(t)null===(i=this.labelGroup)||void 0===i||i.removeChild(t.node);if(e)e.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(e.node);this.oldTitle=e}}updateNodeMidPoint(){var t;const e=t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}};this.nodeData.forEach(e),null===(t=this.phantomNodeData)||void 0===t||t.forEach(e)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){var t;const{itemSelection:e,highlightSelection:i,phantomSelection:n,highlightLabelSelection:a,calloutLabelSelection:o,labelSelection:r,innerLabelsSelection:s}=this,l=this.nodeData.map((t=>O(O({},t),{},{sectorFormat:O({},t.sectorFormat)}))),c=(t,e)=>{t.update(e,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};c(e,this.nodeData),c(i,l),c(n,null!==(t=this.phantomNodeData)&&void 0!==t?t:[]),o.update(this.calloutNodeData,(t=>{const e=new lr;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new fr;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),r.update(this.nodeData),a.update(l),s.update(this.properties.innerLabels,(t=>{t.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const t=Math.min(i,this.getOuterRadius()),n=1;e=Math.ceil(2*t+n)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.highlightLabel.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((t,e)=>{var i,n;let{radius:a}=e;t.setProperties({fill:null===(i=this.properties.innerCircle)||void 0===i?void 0:i.fill,opacity:null===(n=this.properties.innerCircle)||void 0===n?void 0:n.fillOpacity,size:a})}));const n=this.ctx.animationManager.isSkipped(),a=(t,e,i,a)=>{const o=this.getSectorFormat(e.datum,e.itemId,a);e.sectorFormat.fill=o.fill,e.sectorFormat.stroke=o.stroke,n&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(a||n)&&(t.fill=o.fill,t.stroke=o.stroke),t.strokeWidth=o.strokeWidth,t.fillOpacity=o.fillOpacity,t.strokeOpacity=o.strokeOpacity,t.lineDash=o.lineDash,t.lineDashOffset=o.lineDashOffset,t.cornerRadius=o.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=o.stroke?o.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>a(t,e,0,!1))),this.highlightSelection.each(((t,i,n)=>{a(t,i,0,!0),t.visible=i.itemId===(null===e||void 0===e?void 0:e.itemId)})),this.phantomSelection.each(((t,e,i)=>a(t,e,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,a=null!==(t=e.colors)&&void 0!==t?t:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,e)=>{const r=t.datum,{calloutLabel:s,outerRadius:l}=r;if(null!==s&&void 0!==s&&s.text&&!s.hidden&&0!==l){var c;t.visible=!0,t.strokeWidth=n,t.stroke=a[e%a.length],t.fill=void 0;const u=r.midCos*l,d=r.midSin*l;let h=r.midCos*(l+i),p=r.midSin*(l+i);if((null!==(c=s.collisionTextAlign)&&void 0!==c?c:0!==s.collisionOffsetY)&&null!=s.box){const t=s.box;let e=h,i=p;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),p<t.y?i=t.y:p>t.y+t.height&&(i=t.y+t.height);const n=e-h,a=i-p,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(h+=n*l/r,p+=a*l/r)}t.x1=u,t.y1=d,t.x2=h,t.y2=p}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,o=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;e.x+1<n?s=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(s=(a-e.x)/e.width);const l=e.y+1<o||e.y+e.height-1>r;return{textLength:1===s?t.length:Math.floor(t.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(null==e)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some((t=>t.x**2+t.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,o=t.convert(0),r=this.calloutNodeData,s=r.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(s.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=s.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=s.filter((t=>{var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),d=s.filter((t=>{var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),h=t=>{var e;const a=t.calloutLabel;if(null==a)return We.zero.clone();const o=t.outerRadius+i.length+n,r=t.midCos*o,s=t.midSin*o+a.collisionOffsetY,l=null!==(e=a.collisionTextAlign)&&void 0!==e?e:a.textAlign,c=a.textBaseline;return fr.computeBBox(a.text,r,s,{font:this.properties.calloutLabel,textAlign:l,textBaseline:c})},p=(t,e,i)=>{const n=h(t).grow(a/2),o=h(e).grow(a/2);if(n.x<o.x+o.width&&n.x+n.width>o.x&&("to-top"===i?n.y<o.y+o.height:n.y+n.height>o.y)){const t="to-top"===i?n.y-o.y-o.height:n.y+n.height-o.y;e.calloutLabel.collisionOffsetY=t}},g=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];p(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];p(e,i,"to-bottom")}},f=t=>{const e=s.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>h(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:o,outerRadius:n}})),u=i.some((t=>c.some((e=>Dm(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};g(l),g(c),f(u),f(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,color:r}=i,s=new fr;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,u=c.calloutLabel,d=e.convert(c.radius),h=Math.max(0,d);if(null===u||void 0===u||!u.text||0===h||u.hidden)return void(n.visible=!1);const p=h+a+o,g=c.midCos*p,f=c.midSin*p+u.collisionOffsetY,y={textAlign:null!==(l=u.collisionTextAlign)&&void 0!==l?l:u.textAlign,textBaseline:u.textBaseline};s.text=u.text,s.x=g,s.y=f,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.getBBox();let v=u.text,x=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(u.text,m,t);v=u.text.length===e?u.text:"".concat(u.text.substring(0,e),"\u2026"),x=!i}n.text=v,n.x=g,n.y=f,n.setFont(this.properties.calloutLabel),n.setAlign(y),n.fill=r,n.visible=x}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new fr;let u;const{title:d}=this.properties;if(null!==d&&void 0!==d&&d.text&&d.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=d.text,c.x=0,c.y=t,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach((i=>{var n;const d=i.calloutLabel;if(!d||0===i.outerRadius)return null;const h=i.outerRadius+a+o,p=i.midCos*h,g=i.midSin*h+d.collisionOffsetY;c.text=d.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=d.collisionTextAlign)&&void 0!==n?n:d.textAlign,textBaseline:d.textBaseline});const f=c.getBBox();if(d.box=f,Math.abs(d.collisionOffsetY)>r)d.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new We(u.x-s,t,u.width+2*s,u.y+u.height+s-t);if(f.collidesBBox(i))return void(d.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(d.text,f,e),a=d.text.length>2&&t<2;if(i||a||n)return void(d.hidden=!0)}d.hidden=!1,l.push(f)}})),0===l.length?null:We.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:o,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=(t,c)=>{const{sectorLabel:u,outerRadius:d}=c;let h=!1;if(u&&0!==d){const p=e*(1-s)+d*s+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=o,t.text=u.text,t.x=c.midCos*p,t.y=c.midSin*p,t.textAlign="center",t.textBaseline="middle";const g=t.getBBox(),f=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:y,endAngle:m}=c,v={startAngle:y,endAngle:m,innerRadius:e,outerRadius:d};f.every((t=>{let[e,i]=t;return Sm(e,i,v)}))&&(h=!0)}t.visible=h};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:a,fontWeight:o,fontSize:r,fontFamily:s,color:l}=n;i.fontStyle=a,i.fontWeight=o,i.fontSize=r,i.fontFamily=s,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",t.push(i.getBBox()),e.push(n.spacing)}));const i=t=>0===t?0:e[t],n=t=>t===e.length-1?0:e[t],a=t.reduce(((t,e,a)=>t+e.height+i(a)+n(a)),0),o=Math.max(...t.map((t=>t.width))),r=this.getInnerRadius(),s=Math.sqrt(Math.pow(o/2,2)+Math.pow(a/2,2))<=(r>0?r:this.getOuterRadius()),l=[];for(let c=0,u=-a/2;c<t.length;c++){const e=t[c].height+u+i(c);l.push(e),u=e+n(c)}this.innerLabelsSelection.each(((t,e,i)=>{t.y=l[i],t.visible=s}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:o,calloutLabel:r,legendItem:s}=t;return a&&void 0!==s?s.text:i&&i!==e&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:n&&n!==e&&void 0!==(null===o||void 0===o?void 0:o.text)?o.text:void 0}pickNodeClosestDatum(t){return Ym(this,t)}getTooltipHtml(t){var e;if(!this.properties.isValid())return Qr;const{datum:i,angleValue:n,sectorFormat:{fill:a},itemId:o}=t,r=Ig(null===(e=this.properties.title)||void 0===e?void 0:e.text),s=Di(n)?Fe(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:null!==r&&void 0!==r?r:l,content:r&&l?"".concat(l,": ").concat(s):s,backgroundColor:a},{datum:i,itemId:o,title:r,color:a,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){var e;const{visible:i,processedData:n,dataModel:a}=this;if(!a||null===n||void 0===n||!n.data.length||!this.properties.isValid()||"category"!==t)return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties;if(!l&&(!r||r===o)&&(!s||s===o))return[];const{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(a),h=(null===(e=this.properties.title)||void 0===e?void 0:e.showInLegend)&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){var g,f;const{datum:t,values:e}=n.data[v],a=[];h&&a.push(h);const x=this.getLabels(t,2*Math.PI,2*Math.PI,!1,null!=c?e[c]:void 0,null!=u?e[u]:void 0,null!=d?e[d]:void 0);if(l&&void 0!==x.legendItem)a.push(x.legendItem.text);else if(r&&r!==o&&void 0!==(null===(g=x.calloutLabel)||void 0===g?void 0:g.text)){var y;a.push(null===(y=x.calloutLabel)||void 0===y?void 0:y.text)}else if(s&&s!==o&&void 0!==(null===(f=x.sectorLabel)||void 0===f?void 0:f.text)){var m;a.push(null===(m=x.sectorLabel)||void 0===m?void 0:m.text)}if(0===a.length)continue;const b=this.getSectorFormat(t,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:i&&this.legendItemEnabled[v],label:{text:a.join(" - ")},symbols:[{marker:{fill:b.fill,stroke:b.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?t[l]:void 0})}return p}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.legendItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}setLegendState(t){this.legendItemEnabled=t,this.ctx.updateService.update(4)}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,a)=>{let{values:o}=i;o[n]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Um(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);an(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((t,e)=>this.getDatumId(e))),an(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),lf(this,"callout",e,this.calloutLabelSelection),lf(this,"sector",e,this.labelSelection),lf(this,"highlight",e,this.highlightLabelSelection),lf(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,a;const{itemSelection:o,highlightSelection:r,phantomSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null===l||void 0===l||null===(t=l.reduced)||void 0===t?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!==(e=null===h||void 0===h?void 0:h.moved.size)&&void 0!==e?e:0),g=(null!==(i=null===l||void 0===l?void 0:l.defs.keys.length)&&void 0!==i?i:0)>0,f=null===(n=null===l||void 0===l||null===(a=l.reduced)||void 0===a||null===(a=a.animationValidation)||void 0===a?void 0:a.uniqueKeys)||void 0===n||n;p&&g&&f||this.ctx.animationManager.skipCurrentBatch();const y=Um(!1,this.properties.rotation,c,u);an(this.id,"nodes",d,[o,r,s],y.nodes,((t,e)=>this.getDatumId(e)),h),an(this.id,"innerCircle",d,[this.innerCircleSelection],y.innerCircle),lf(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),lf(this,"sector",this.ctx.animationManager,this.labelSelection),lf(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),lf(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=Um(!1,this.properties.rotation,n,a);an(this.id,"nodes",o,[t,e,i],r.nodes,((t,e)=>this.getDatumId(e))),an(this.id,"innerCircle",o,[this.innerCircleSelection],r.innerCircle),cf(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),cf(this,"sector",this.ctx.animationManager,this.labelSelection),cf(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),cf(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties;if(null!==(e=this.processedData)&&void 0!==e&&null!==(e=e.reduced)&&void 0!==e&&null!==(e=e.animationValidation)&&void 0!==e&&e.uniqueKeys)return a?t[a]:i?t[i]:n?t[n]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):"".concat(e)}onDataChange(){var t,e;const{data:i,seriesItemEnabled:n,legendItemEnabled:a}=this;this.seriesItemEnabled=null!==(t=null===i||void 0===i?void 0:i.map(((t,e)=>{var i;return null===(i=n[e])||void 0===i||i})))&&void 0!==t?t:[],this.legendItemEnabled=null!==(e=null===i||void 0===i?void 0:i.map(((t,e)=>{var i;return null===(i=a[e])||void 0===i||i})))&&void 0!==e?e:[]}};Zm.className="DonutSeries",Zm.type="donut";var Hm={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Lp,color:Tp,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Lp,color:kp,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Lp,color:Cp,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:jp,xOffset:3,yOffset:3,blur:5}}},Km=t=>{let{takeColors:e,colorsCount:i}=t;const{fills:n,strokes:a}=e(i);return{fills:n,strokes:a,calloutLine:{colors:a}}},Qm={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new Zm(t),tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:Lp,color:Tp,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:Lp,color:kp,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:Lp,color:Cp,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:jp,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:Lp,color:kp,spacing:2}}},paletteFactory:Km},Xm=class extends ts{constructor(){super(...arguments),this.showInLegend=!1}};gt([On(Gn)],Xm.prototype,"showInLegend",2);var Jm=class extends os{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};gt([On(Zn)],Jm.prototype,"offset",2),gt([On(Kn)],Jm.prototype,"minAngle",2),gt([On(Zn)],Jm.prototype,"minSpacing",2),gt([On(Zn)],Jm.prototype,"maxCollisionOffset",2),gt([On(Gn)],Jm.prototype,"avoidCollisions",2);var qm=class extends os{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};gt([On(Yn)],qm.prototype,"positionOffset",2),gt([On(Hn)],qm.prototype,"positionRatio",2);var $m=class extends Tn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};gt([On(oa,{optional:!0})],$m.prototype,"colors",2),gt([On(Zn)],$m.prototype,"length",2),gt([On(Zn)],$m.prototype,"strokeWidth",2);var tv=class extends Mh{constructor(){super(...arguments),this.fills=Object.values(Em),this.strokes=Object.values(Rm),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new Xm,this.shadow=new hf,this.calloutLabel=new Jm,this.sectorLabel=new qm,this.calloutLine=new $m,this.tooltip=new yf}};gt([On(_n)],tv.prototype,"angleKey",2),gt([On(_n,{optional:!0})],tv.prototype,"angleName",2),gt([On(_n,{optional:!0})],tv.prototype,"angleFilterKey",2),gt([On(_n,{optional:!0})],tv.prototype,"radiusKey",2),gt([On(_n,{optional:!0})],tv.prototype,"radiusName",2),gt([On(Zn,{optional:!0})],tv.prototype,"radiusMin",2),gt([On(Zn,{optional:!0})],tv.prototype,"radiusMax",2),gt([On(_n,{optional:!0})],tv.prototype,"calloutLabelKey",2),gt([On(_n,{optional:!0})],tv.prototype,"calloutLabelName",2),gt([On(_n,{optional:!0})],tv.prototype,"sectorLabelKey",2),gt([On(_n,{optional:!0})],tv.prototype,"sectorLabelName",2),gt([On(_n,{optional:!0})],tv.prototype,"legendItemKey",2),gt([On(oa)],tv.prototype,"fills",2),gt([On(oa)],tv.prototype,"strokes",2),gt([On(Hn)],tv.prototype,"fillOpacity",2),gt([On(Hn)],tv.prototype,"strokeOpacity",2),gt([On(ga)],tv.prototype,"lineDash",2),gt([On(Zn)],tv.prototype,"lineDashOffset",2),gt([On(Zn)],tv.prototype,"cornerRadius",2),gt([On(Un,{optional:!0})],tv.prototype,"itemStyler",2),gt([On(Kn)],tv.prototype,"rotation",2),gt([On(Yn)],tv.prototype,"outerRadiusOffset",2),gt([On(Hn)],tv.prototype,"outerRadiusRatio",2),gt([On(Zn)],tv.prototype,"strokeWidth",2),gt([On(Yn)],tv.prototype,"sectorSpacing",2),gt([On(Bn)],tv.prototype,"title",2),gt([On(Bn)],tv.prototype,"shadow",2),gt([On(Bn)],tv.prototype,"calloutLabel",2),gt([On(Bn)],tv.prototype,"sectorLabel",2),gt([On(Bn)],tv.prototype,"calloutLine",2),gt([On(Bn)],tv.prototype,"tooltip",2);var ev=class extends Ad{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},iv=class extends Vm{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:_m,label:uf}}),this.properties=new tv,this.phantomNodeData=void 0,this.previousRadiusScale=new Rh,this.radiusScale=new Rh,this.phantomGroup=this.contentGroup.appendChild(new Co),this.phantomSelection=Po.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Co({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Po(this.calloutLabelGroup,Co),this.backgroundGroup=this.rootGroup.appendChild(new ns({name:"".concat(this.id,"-background"),zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Co({name:"".concat(this.id,"-zerosumRings")})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new qd),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=ev,this.angleScale=new Rh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((t=>t+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){var t;return null!==(t=this.phantomNodeData)&&void 0!==t?t:this.nodeData}addChartEventListeners(){var t;this.destroyFns.push(null===(t=this.ctx.chartEventManager)||void 0===t?void 0:t.addListener("legend-item-click",(t=>this.onLegendItemClick(t))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.includes(!0))}nodeFactory(){const t=new Tm;return t.miterLimit=1e9,t}getSeriesDomain(t){return"x"===t?this.angleScale.domain:this.radiusScale.domain}async processData(t){var e;if(null==this.data||!this.properties.isValid())return;let{data:i}=this;const{visible:n,seriesItemEnabled:a}=this,{angleKey:o,angleFilterKey:r,radiusKey:s,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=[],p=[];u?h.push(Fg(u,"band",{id:"legendItemKey"})):l?h.push(Fg(l,"band",{id:"calloutLabelKey"})):c&&h.push(Fg(c,"band",{id:"sectorLabelKey"}));const g=this.radiusScale.type,f=this.radiusScale.type;var y,m;s&&p.push(Ug(s,{id:"radiusValue",min:null!==(y=this.properties.radiusMin)&&void 0!==y?y:0,max:this.properties.radiusMax}),Gg(s,g,{id:"radiusRaw"}),qg("radiusValue",[0,1],1,null!==(m=this.properties.radiusMin)&&void 0!==m?m:0,this.properties.radiusMax));l&&p.push(Gg(l,"band",{id:"calloutLabelValue"})),c&&p.push(Gg(c,"band",{id:"sectorLabelValue"})),u&&p.push(Gg(u,"band",{id:"legendItemValue"})),r&&p.push(_g(r,f,{id:"angleFilterValue",onlyPositive:!0}),Gg(r,f,{id:"angleFilterRaw"}),qg("angleFilterValue",[0,1],0,0)),d&&null!==(e=this.processedData)&&void 0!==e&&null!==(e=e.reduced)&&void 0!==e&&null!==(e=e.animationValidation)&&void 0!==e&&e.uniqueKeys&&h.length>0&&p.push(rf(this.processedData)),p.push($g()),i=i.map(((t,e)=>n&&a[e]?t:O(O({},t),{},{[o]:0}))),await this.requestDataModel(t,i,{props:[...h,_g(o,f,{id:"angleValue",onlyPositive:!0}),Gg(o,f,{id:"angleRaw"}),qg("angleValue",[0,1],0,0),...p]});for(const b of null!==(v=null===(x=this.processedData)||void 0===x||null===(x=x.defs)||void 0===x?void 0:x.values)&&void 0!==v?v:[]){var v,x;const{id:t,missing:e,property:i}=b,n=Zu(this,e);"angleRaw"!==t&&n>0&&St.warnOnce("no value was found for the key '".concat(String(i),"' on ").concat(n," data element").concat(n>1?"s":""))}this.animationState.transition("updateData")}async maybeRefreshNodeData(){var t;if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:i}=null!==(t=await this.createNodeData())&&void 0!==t?t:{};this.nodeData=e,this.phantomNodeData=i,this.nodeDataRefresh=!1}getProcessedDataIndexes(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:t.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:a}=this.properties;if(!e||!i||"ungrouped"!==e.type)return;const{angleIdx:o,angleRawIdx:r,angleFilterIdx:s,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:u,calloutLabelIdx:d,sectorLabelIdx:h,legendItemIdx:p}=this.getProcessedDataIndexes(i),g=null!=l&&e.data.some((t=>{let{values:e}=t;return e[l]>e[r]}));let f=0,y=0;const m=[],v=null!=l?[]:void 0;return e.data.forEach(((t,e)=>{var i;const{datum:x,values:b}=t,M=g?b[s]:b[o],S=null==l||g?1:Math.sqrt(b[l]/b[r]),I=n.convert(f)+Yo(a);f=M,y+=M;const D=n.convert(f)+Yo(a),w=Math.abs(D-I),N=I+w/2,L=b[r],k=(null!=c&&null!==(i=b[c])&&void 0!==i?i:1)*S,A=null!=u?b[u]:void 0,C=null!=p?b[p]:void 0,T=this.getLabels(x,N,w,!0,null!=d?b[d]:void 0,null!=h?b[h]:void 0,C),E=this.getSectorFormat(x,e,!1),R=O({itemId:e,series:this,datum:x,index:e,angleValue:L,midAngle:N,midCos:Math.cos(N),midSin:Math.sin(N),startAngle:I,endAngle:D,radius:k,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(k),0),sectorFormat:E,radiusValue:A,legendItemValue:C,enabled:this.seriesItemEnabled[e]},T);m.push(R),null!=v&&v.push(O(O({},R),{},{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)}))})),this.zerosumOuterRing.visible=0===y,{itemId:t,nodeData:m,labelData:m,phantomNodeData:v}}getLabels(t,e,i,n,a,o,r){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||s.enabled?this.properties.calloutLabelKey:void 0,d=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>Yo(s.minAngle)&&(p.calloutLabel=O(O({},this.getTextAlignment(e)),{},{text:this.getLabelText(s,O(O({},h),{},{value:a})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,O(O({},h),{},{value:o}))}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Uo(t)- -.75*Math.PI;return e[Ge(Math.floor(i/(Math.PI/2)),e.length)]}getSectorFormat(t,e,i){var n,a,o,r,s,l,c,u,d,h,p,g,f,y,m,v;const{callbackCache:x}=this.ctx,{angleKey:b,radiusKey:M,calloutLabelKey:S,sectorLabelKey:I,legendItemKey:D,fills:w,strokes:N,itemStyler:L}=this.properties,k=N[e%N.length],{fill:A,fillOpacity:C,stroke:T,strokeWidth:E,strokeOpacity:R,lineDash:O,lineDashOffset:z,cornerRadius:j}=Ei(i&&this.properties.highlightStyle.item,{fill:w.length>0?w[e%w.length]:void 0,stroke:k,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let P;return L&&(P=x.call(L,{datum:t,angleKey:b,radiusKey:M,calloutLabelKey:S,sectorLabelKey:I,legendItemKey:D,fill:A,strokeOpacity:R,stroke:T,strokeWidth:E,fillOpacity:C,lineDash:O,lineDashOffset:z,cornerRadius:j,highlighted:i,seriesId:this.id})),{fill:null!==(n=null===(a=P)||void 0===a?void 0:a.fill)&&void 0!==n?n:A,fillOpacity:null!==(o=null===(r=P)||void 0===r?void 0:r.fillOpacity)&&void 0!==o?o:C,stroke:null!==(s=null===(l=P)||void 0===l?void 0:l.stroke)&&void 0!==s?s:T,strokeWidth:null!==(c=null===(u=P)||void 0===u?void 0:u.strokeWidth)&&void 0!==c?c:E,strokeOpacity:null!==(d=null===(h=P)||void 0===h?void 0:h.strokeOpacity)&&void 0!==d?d:R,lineDash:null!==(p=null===(g=P)||void 0===g?void 0:g.lineDash)&&void 0!==p?p:O,lineDashOffset:null!==(f=null===(y=P)||void 0===y?void 0:y.lineDashOffset)&&void 0!==f?f:z,cornerRadius:null!==(m=null===(v=P)||void 0===v?void 0:v.cornerRadius)&&void 0!==m?m:j}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){var e;const i=[0,this.getOuterRadius()];this.radiusScale.range=i,t&&(this.previousRadiusScale.range=i);const n=t=>O(O({},t),{},{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(t.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=null===(e=this.phantomNodeData)||void 0===e?void 0:e.map(n)}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;return-i-(2+(null!==(t=null===(e=this.properties.title)||void 0===e?void 0:e.spacing)&&void 0!==t?t:0))-Math.max(0,-i)}async update(t){let{seriesRect:e}=t;const{title:i}=this.properties,n={seriesRectWidth:null===e||void 0===e?void 0:e.width,seriesRectHeight:null===e||void 0===e?void 0:e.height},a=null!=Dr(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const t=this.getTitleTranslationY();i.node.y=isFinite(t)?t:0;const e=i.node.getBBox();i.node.visible=i.enabled&&isFinite(t)&&!this.bboxIntersectsSurroundingSeries(e)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){const{oldTitle:t}=this,{title:e}=this.properties;if(t!==e){var i,n;if(t)null===(i=this.labelGroup)||void 0===i||i.removeChild(t.node);if(e)e.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(e.node);this.oldTitle=e}}updateNodeMidPoint(){var t;const e=t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}};this.nodeData.forEach(e),null===(t=this.phantomNodeData)||void 0===t||t.forEach(e)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){var t;const{itemSelection:e,highlightSelection:i,phantomSelection:n,highlightLabelSelection:a,calloutLabelSelection:o,labelSelection:r}=this,s=this.nodeData.map((t=>O(O({},t),{},{sectorFormat:O({},t.sectorFormat)}))),l=(t,e)=>{t.update(e,void 0,(t=>this.getDatumId(t))),this.ctx.animationManager.isSkipped()&&t.cleanup()};l(e,this.nodeData),l(i,s),l(n,null!==(t=this.phantomNodeData)&&void 0!==t?t:[]),o.update(this.calloutNodeData,(t=>{const e=new lr;e.tag=0,e.pointerEvents=1,t.appendChild(e);const i=new fr;i.tag=1,i.pointerEvents=1,t.appendChild(i)})),r.update(this.nodeData),a.update(s)}async updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.highlightLabel.visible=i&&(null===e||void 0===e?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),a=(t,e,i,a)=>{const o=this.getSectorFormat(e.datum,e.itemId,a);e.sectorFormat.fill=o.fill,e.sectorFormat.stroke=o.stroke,n&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius),(a||n)&&(t.fill=o.fill,t.stroke=o.stroke),t.strokeWidth=o.strokeWidth,t.fillOpacity=o.fillOpacity,t.strokeOpacity=o.strokeOpacity,t.lineDash=o.lineDash,t.lineDashOffset=o.lineDashOffset,t.cornerRadius=o.cornerRadius,t.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=o.stroke?o.strokeWidth:0))/2,0);t.inset=r,t.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((t,e,i)=>a(t,e,0,!1))),this.highlightSelection.each(((t,i,n)=>{a(t,i,0,!0),t.visible=i.itemId===(null===e||void 0===e?void 0:e.itemId)})),this.phantomSelection.each(((t,e,i)=>a(t,e,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,a=null!==(t=e.colors)&&void 0!==t?t:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((t,e)=>{const r=t.datum,{calloutLabel:s,outerRadius:l}=r;if(null!==s&&void 0!==s&&s.text&&!s.hidden&&0!==l){var c;t.visible=!0,t.strokeWidth=n,t.stroke=a[e%a.length],t.fill=void 0;const u=r.midCos*l,d=r.midSin*l;let h=r.midCos*(l+i),p=r.midSin*(l+i);if((null!==(c=s.collisionTextAlign)&&void 0!==c?c:0!==s.collisionOffsetY)&&null!=s.box){const t=s.box;let e=h,i=p;h<t.x?e=t.x:h>t.x+t.width&&(e=t.x+t.width),p<t.y?i=t.y:p>t.y+t.height&&(i=t.y+t.height);const n=e-h,a=i-p,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),l=r-o;l>0&&(h+=n*l/r,p+=a*l/r)}t.x1=u,t.y1=d,t.x2=h,t.y2=p}else t.visible=!1}))}getLabelOverflow(t,e,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,o=i.y-this.centerY,r=i.y+i.height-this.centerY;let s=1;e.x+1<n?s=(e.x+e.width-n)/e.width:e.x+e.width-1>a&&(s=(a-e.x)/e.width);const l=e.y+1<o||e.y+e.height-1>r;return{textLength:1===s?t.length:Math.floor(t.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(null==e)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some((t=>t.x**2+t.y**2>n))}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=e,o=t.convert(0),r=this.calloutNodeData,s=r.filter((t=>{return!(!(e=t).calloutLabel||0===e.outerRadius);var e}));if(s.forEach((t=>{const e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),s.length<=1)return;const l=s.filter((t=>t.midCos<0)).sort(((t,e)=>t.midSin-e.midSin)),c=s.filter((t=>t.midCos>=0)).sort(((t,e)=>t.midSin-e.midSin)),u=s.filter((t=>{var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),d=s.filter((t=>{var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort(((t,e)=>t.midCos-e.midCos)),h=t=>{var e;const a=t.calloutLabel;if(null==a)return We.zero.clone();const o=t.outerRadius+i.length+n,r=t.midCos*o,s=t.midSin*o+a.collisionOffsetY,l=null!==(e=a.collisionTextAlign)&&void 0!==e?e:a.textAlign,c=a.textBaseline;return fr.computeBBox(a.text,r,s,{font:this.properties.calloutLabel,textAlign:l,textBaseline:c})},p=(t,e,i)=>{const n=h(t).grow(a/2),o=h(e).grow(a/2);if(n.x<o.x+o.width&&n.x+n.width>o.x&&("to-top"===i?n.y<o.y+o.height:n.y+n.height>o.y)){const t="to-top"===i?n.y-o.y-o.height:n.y+n.height-o.y;e.calloutLabel.collisionOffsetY=t}},g=t=>{const e=t.slice().sort(((t,e)=>Math.abs(t.midSin)-Math.abs(e.midSin)))[0],i=t.indexOf(e);for(let n=i-1;n>=0;n--){const e=t[n+1],i=t[n];p(e,i,"to-top")}for(let n=i+1;n<t.length;n++){const e=t[n-1],i=t[n];p(e,i,"to-bottom")}},f=t=>{const e=s.some((t=>0!==t.calloutLabel.collisionOffsetY)),i=t.map((t=>h(t))),n=i.map((t=>t.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const e=n[a];for(let i=a+1;i<t.length;i++){const t=n[i];if(e.collidesBBox(t)){l=!0;break}}}const c=r.map((t=>{const{startAngle:e,endAngle:i,outerRadius:n}=t;return{startAngle:e,endAngle:i,innerRadius:o,outerRadius:n}})),u=i.some((t=>c.some((e=>Dm(t,e)))));(l||e||u)&&t.filter((t=>"center"===t.calloutLabel.textAlign)).forEach((t=>{const e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};g(l),g(c),f(u),f(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,color:r}=i,s=new fr;this.calloutLabelSelection.selectByTag(1).forEach((n=>{var l;const{datum:c}=n,u=c.calloutLabel,d=e.convert(c.radius),h=Math.max(0,d);if(null===u||void 0===u||!u.text||0===h||u.hidden)return void(n.visible=!1);const p=h+a+o,g=c.midCos*p,f=c.midSin*p+u.collisionOffsetY,y={textAlign:null!==(l=u.collisionTextAlign)&&void 0!==l?l:u.textAlign,textBaseline:u.textBaseline};s.text=u.text,s.x=g,s.y=f,s.setFont(this.properties.calloutLabel),s.setAlign(y);const m=s.getBBox();let v=u.text,x=!0;if(i.avoidCollisions){const{textLength:e,hasVerticalOverflow:i}=this.getLabelOverflow(u.text,m,t);v=u.text.length===e?u.text:"".concat(u.text.substring(0,e),"\u2026"),x=!i}n.text=v,n.x=g,n.y=f,n.setFont(this.properties.calloutLabel),n.setAlign(y),n.fill=r,n.visible=x}))}async computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:o,maxCollisionOffset:r,minSpacing:s}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new fr;let u;const{title:d}=this.properties;if(null!==d&&void 0!==d&&d.text&&d.enabled){const t=this.getTitleTranslationY();isFinite(t)&&(c.text=d.text,c.x=0,c.y=t,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(),l.push(u))}return this.calloutNodeData.forEach((i=>{var n;const d=i.calloutLabel;if(!d||0===i.outerRadius)return null;const h=i.outerRadius+a+o,p=i.midCos*h,g=i.midSin*h+d.collisionOffsetY;c.text=d.text,c.x=p,c.y=g,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!==(n=d.collisionTextAlign)&&void 0!==n?n:d.textAlign,textBaseline:d.textBaseline});const f=c.getBBox();if(d.box=f,Math.abs(d.collisionOffsetY)>r)d.hidden=!0;else{if(u){const t=e.y-this.centerY,i=new We(u.x-s,t,u.width+2*s,u.y+u.height+s-t);if(f.collidesBBox(i))return void(d.hidden=!0)}if(t.hideWhenNecessary){const{textLength:t,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:n}=this.getLabelOverflow(d.text,f,e),a=d.text.length>2&&t<2;if(i||a||n)return void(d.hidden=!0)}d.hidden=!1,l.push(f)}})),0===l.length?null:We.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:o,positionOffset:r,positionRatio:s,color:l}=this.properties.sectorLabel,c=e>0,u=1===this.seriesItemEnabled.filter(Boolean).length,d=(t,d)=>{const{sectorLabel:h,outerRadius:p,startAngle:g,endAngle:f}=d;let y=!1;if(h&&0!==p){const m=e*(1-s)+p*s+r;t.fill=l,t.fontStyle=n,t.fontWeight=a,t.fontSize=i,t.fontFamily=o,t.text=h.text;!c&&u?(t.x=0,t.y=0):(t.x=d.midCos*m,t.y=d.midSin*m),t.textAlign="center",t.textBaseline="middle";const v=t.getBBox(),x=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],b={startAngle:g,endAngle:f,innerRadius:e,outerRadius:p};x.every((t=>{let[e,i]=t;return Sm(e,i,b)}))&&(y=!0)}t.visible=y};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:o,calloutLabel:r,legendItem:s}=t;return a&&void 0!==s?s.text:i&&i!==e&&void 0!==(null===r||void 0===r?void 0:r.text)?r.text:n&&n!==e&&void 0!==(null===o||void 0===o?void 0:o.text)?o.text:void 0}pickNodeClosestDatum(t){return Ym(this,t)}getTooltipHtml(t){var e;if(!this.properties.isValid())return Qr;const{datum:i,angleValue:n,sectorFormat:{fill:a},itemId:o}=t,r=Ig(null===(e=this.properties.title)||void 0===e?void 0:e.text),s=Di(n)?Fe(n):String(n),l=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:null!==r&&void 0!==r?r:l,content:r&&l?"".concat(l,": ").concat(s):s,backgroundColor:a},{datum:i,itemId:o,title:r,color:a,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){var e;const{visible:i,processedData:n,dataModel:a}=this;if(!a||null===n||void 0===n||!n.data.length||"category"!==t)return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:s,legendItemKey:l}=this.properties;if(!l&&(!r||r===o)&&(!s||s===o))return[];const{calloutLabelIdx:c,sectorLabelIdx:u,legendItemIdx:d}=this.getProcessedDataIndexes(a),h=(null===(e=this.properties.title)||void 0===e?void 0:e.showInLegend)&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){var g,f;const{datum:t,values:e}=n.data[v],a=[];h&&a.push(h);const x=this.getLabels(t,2*Math.PI,2*Math.PI,!1,null!=c?e[c]:void 0,null!=u?e[u]:void 0,null!=d?e[d]:void 0);if(l&&void 0!==x.legendItem)a.push(x.legendItem.text);else if(r&&r!==o&&void 0!==(null===(g=x.calloutLabel)||void 0===g?void 0:g.text)){var y;a.push(null===(y=x.calloutLabel)||void 0===y?void 0:y.text)}else if(s&&s!==o&&void 0!==(null===(f=x.sectorLabel)||void 0===f?void 0:f.text)){var m;a.push(null===(m=x.sectorLabel)||void 0===m?void 0:m.text)}if(0===a.length)continue;const b=this.getSectorFormat(t,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:i&&this.legendItemEnabled[v],label:{text:a.join(" - ")},symbols:[{marker:{fill:b.fill,stroke:b.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=l?t[l]:void 0})}return p}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:a}=t;n.id===this.id?this.toggleSeriesItem(i,e):null!=a&&this.toggleOtherSeriesItems(a,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.legendItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}setLegendState(t){this.legendItemEnabled=t,this.ctx.updateService.update(4)}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");null===(i=this.processedData)||void 0===i||i.data.forEach(((i,a)=>{let{values:o}=i;o[n]===t&&this.toggleSeriesItem(a,e)}))}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Um(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);an(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((t,e)=>this.getDatumId(e))),lf(this,"callout",e,this.calloutLabelSelection),lf(this,"sector",e,this.labelSelection),lf(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,a;const{itemSelection:o,highlightSelection:r,phantomSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null===l||void 0===l||null===(t=l.reduced)||void 0===t?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!==(e=null===h||void 0===h?void 0:h.moved.size)&&void 0!==e?e:0),g=(null!==(i=null===l||void 0===l?void 0:l.defs.keys.length)&&void 0!==i?i:0)>0,f=null===(n=null===l||void 0===l||null===(a=l.reduced)||void 0===a||null===(a=a.animationValidation)||void 0===a?void 0:a.uniqueKeys)||void 0===n||n;p&&g&&f||this.ctx.animationManager.skipCurrentBatch();const y=Um(!1,this.properties.rotation,c,u);an(this.id,"nodes",d,[o,r,s],y.nodes,((t,e)=>this.getDatumId(e)),h),lf(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),lf(this,"sector",this.ctx.animationManager,this.labelSelection),lf(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=Um(!1,this.properties.rotation,n,a);an(this.id,"nodes",o,[t,e,i],r.nodes,((t,e)=>this.getDatumId(e))),cf(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),cf(this,"sector",this.ctx.animationManager,this.labelSelection),cf(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties;if(null!==(e=this.processedData)&&void 0!==e&&null!==(e=e.reduced)&&void 0!==e&&null!==(e=e.animationValidation)&&void 0!==e&&e.uniqueKeys)return a?t[a]:i?t[i]:n?t[n]:void 0}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return null!=i?String(i):"".concat(e)}onDataChange(){var t,e;const{data:i,seriesItemEnabled:n,legendItemEnabled:a}=this;this.seriesItemEnabled=null!==(t=null===i||void 0===i?void 0:i.map(((t,e)=>{var i;return null===(i=n[e])||void 0===i||i})))&&void 0!==t?t:[],this.legendItemEnabled=null!==(e=null===i||void 0===i?void 0:i.map(((t,e)=>{var i;return null===(i=a[e])||void 0===i||i})))&&void 0!==e?e:[]}};iv.className="PieSeries",iv.type="pie";var nv={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new iv(t),tooltipDefaults:{range:"exact"},themeTemplate:Hm,paletteFactory:Km},av={add:function(t,e){if("number"===typeof e)return{x:t.x+e,y:t.y+e};return{x:t.x+e.x,y:t.y+e.y}},angle:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)},apply:function(t,e){return t.x=e.x,t.y=e.y,t},equal:function(t,e){return t.x===e.x&&t.y===e.y},distance:function(t,e){const i=ov(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(t,e){const i=ov(t,e);return i.x*i.x+i.y*i.y},from:function(t,e){if("number"===typeof t)return{x:t,y:e};if("regionOffsetX"in t)return{x:t.regionOffsetX,y:t.regionOffsetY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error("Values can not be converted into a vector: [".concat(t,"] [").concat(e,"]"))},gradient:function(t,e,i){const n=e.x-t.x;return(null==i?e.y-t.y:i-e.y-(i-t.y))/n},intercept:function(t,e,i){return(null==i?t.y:i-t.y)-e*t.x},intersectAtX:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const a=t===1/0?1/0:t*i+e;return{x:i,y:null==n?a:n-a}},intersectAtY:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return{x:t===1/0?1/0:(i-e)/t,y:null==n?i:n-i}},length:rv,lengthSquared:function(t){return t.x*t.x+t.y*t.y},multiply:function(t,e){if("number"===typeof e)return{x:t.x*e,y:t.y*e};return{x:t.x*e.x,y:t.y*e.y}},normalized:function(t){const e=rv(t);return{x:t.x/e,y:t.y/e}},origin:sv,required:function(t){var e,i;return{x:null!==(e=null===t||void 0===t?void 0:t.x)&&void 0!==e?e:0,y:null!==(i=null===t||void 0===t?void 0:t.y)&&void 0!==i?i:0}},rotate:function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};const n=rv(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}},round:function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},sub:ov};function ov(t,e){return"number"===typeof e?{x:t.x-e,y:t.y-e}:{x:t.x-e.x,y:t.y-e.y}}function rv(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function sv(){return{x:0,y:0}}var lv=class extends Tn{constructor(t,e){super(),this.onChange=t,this.onButtonsChange=e,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){var t,e;const i=[...null!==(t=this.buttons)&&void 0!==t?t:[]];return this.draggable&&i.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),null!==(e=null===i||void 0===i?void 0:i.map((t=>{var e;const i=null!==(e=t.id)&&void 0!==e?e:t.value,n=this.buttonOverrides.get(i);return null!=n?O(O({},t),n):t})))&&void 0!==e?e:[]}buttonsChanged(t){this.onButtonsChange(this.buttonConfigurations(),t)}overrideButtonConfiguration(t,e){let i=this.buttonOverrides.get(t);null==i&&(i=Object.create(null),this.buttonOverrides.set(t,i));for(const n in e){const t=e[n];null==t?delete i[n]:i[n]=t}this.buttonsChanged(!0)}};gt([zr((t=>{t.onChange(t.enabled)})),On(Gn)],lv.prototype,"enabled",2),gt([zr((t=>{t.onChange(t.enabled)})),On(Na([...Nu]),{optional:!0})],lv.prototype,"align",2),gt([zr((t=>{t.onChange(t.enabled)})),On(Na(Cu),{optional:!0})],lv.prototype,"position",2),gt([On(Gn)],lv.prototype,"draggable",2),gt([zr((t=>{t.onChange(t.enabled)})),On(Na(["small","normal"]),{optional:!0})],lv.prototype,"size",2),gt([zr((t=>{for(const i of null!==(e=t.buttons)&&void 0!==e?e:[]){var e;null!=i.icon&&yt.includes(i.icon)&&St.warnOnce("Icon '".concat(i.icon,"' is deprecated, use another icon instead.")),"toolbarAnnotationsColor"===i.ariaLabel&&St.warnOnce("Aria label '".concat(i.ariaLabel,"' is deprecated, use 'toolbarAnnotationsLineColor' instead."))}t.buttonsChanged(!1)})),On(Xn,{optional:!0})],lv.prototype,"buttons",2);var cv="ag-charts-toolbar",uv="ag-charts-toolbar__align",dv="ag-charts-toolbar__section",hv="ag-charts-toolbar__button",pv="ag-charts-toolbar__icon",gv="ag-charts-toolbar__label",fv={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},yv=class extends xl{constructor(t){super(),this.ctx=t,this.enabled=!0,this.seriesType=new lv(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new lv(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new lv(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new lv(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new lv(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const i of Cu)this.elements[i]=t.domManager.addChild("canvas-overlay","toolbar-".concat(i)),this.elements[i].role="presentation",this.renderToolbar(i);this.toggleVisibilities();const e=t.regionManager.getRegion("series");this.destroyFns.push(t.interactionManager.addListener("hover",this.onHover.bind(this),63),t.interactionManager.addListener("leave",this.onLeave.bind(this),63),e.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),40),e.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),t.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),t.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),t.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),t.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),t.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),t.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),t.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),t.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),t.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),t.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),t.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(cv);for(const t of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay","toolbar-".concat(t))}onHover(t){const{enabled:e,elements:i,floatingDetectionRange:n,ctx:{scene:a}}=this,{offsetY:o,sourceEvent:{target:r}}=t,{FloatingBottom:s,FloatingTop:l}=Au;if(!e)return;const c=i[s],u=i[l],d=o>c.offsetTop-n&&o<a.canvas.element.offsetHeight||r===c,h=u.offsetTop+u.offsetHeight+n,p=o>0&&o<h||r===u;this.translateFloatingElements(s,d),this.translateFloatingElements(l,p)}onLeave(t){const{enabled:e,ctx:{scene:i}}=this,{relatedElement:n,targetElement:a}=t,{FloatingBottom:o,FloatingTop:r}=Au;if(!e||a!==i.canvas.element)return;Lu.some((t=>this.groupButtons[t].some((t=>t===n))))||(this.translateFloatingElements(o,!1),this.translateFloatingElements(r,!1))}toggleNoPointerEvents(t){this.groupButtons.annotationOptions.forEach((e=>e.classList.toggle("ag-charts-toolbar__no-pointer-events",t)))}onGroupChanged(t){null==this[t]||this.groupProxied.has(t)||(this.createGroup(t),this.toggleVisibilities())}onGroupButtonsChanged(t,e,i){if(this.enabled&&!this.groupProxied.has(t)){if(i)for(const e of this[t].buttonConfigurations())this.refreshButtonContent(t,e);else this.createGroupButtons(t,e);this.toggleVisibilities()}}onLayoutComplete(t){for(const e of Cu)this.elements[e].classList.remove(fv.preventFlash);this.enabled&&this.refreshInnerLayout(t.series.rect)}toggleButtonsTransition(t){const e=fv.button.withTransition;for(const i of Object.values(this.groupButtons).flat())t&&!i.classList.contains(e)&&i.getBoundingClientRect(),i.classList.toggle(e,t)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(t){const{type:e,group:i,id:n}=t,a=z(t,H);this[i].overrideButtonConfiguration(n,a)}setButtonActive(t,e){t.classList.toggle(fv.button.active,e)}setButtonChecked(t,e){"switch"===t.role&&(t.ariaChecked=e.toString())}setButtonGroupFirstLast(t){var e;const i=Array.from(null!==(e=t.childNodes)&&void 0!==e?e:[]),n=(t,e,i)=>{const n=!e.classList.contains(fv.button.hiddenToggled);return e.classList.toggle(i,n&&t),!n&&t};let a=!0;i.forEach((t=>a=n(a,t,fv.button.first)));let o=!0;i.toReversed().forEach((t=>o=n(o,t,fv.button.last)))}onButtonToggled(t){const{group:e,id:i,active:n,enabled:a,visible:o,checked:r}=t;if(0===this.groupButtons[e].length)return void this.pendingButtonToggledEvents.push(t);const s=this.groupButtons[e].find((t=>t.dataset.toolbarId==="".concat(i)));null!=s&&(s.ariaDisabled="".concat(!a),s.classList.toggle(fv.button.hiddenToggled,!o),this.setButtonActive(s,n),this.setButtonChecked(s,r),this.setButtonGroupFirstLast(s.parentNode))}onGroupToggled(t){const{caller:e,group:i,active:n,visible:a}=t;this.toggleGroup(e,i,n,a),this.toggleVisibilities()}onGroupUpdated(t){const{group:e}=t;for(const i of this.ariaToolbars)if(i.groups.includes(e))return void i.resetListeners()}onFloatingAnchorChanged(t){var e;const{elements:i,positions:n,horizontalSpacing:a,verticalSpacing:o}=this,{group:r,anchor:s}=t,l=i.floating;if(this.dragState.detached||l.classList.contains(fv.hidden))return;if(this.dragState.detached=!1,!n.floating.has(r))return;const c=null!==(e=s.position)&&void 0!==e?e:"above",{offsetWidth:u,offsetHeight:d}=l;let h=s.y-d-o,p=s.x-u/2;"below"===c?h=s.y+o:"right"===c?(h=s.y-d/2,p=s.x+a):"above-left"===c&&(p=s.x);const g=new We(p,h,u,d);this.positionGroup(l,r,g)}positionGroup(t,e,i){const{ctx:{domManager:n}}=this,a=n.getBoundingClientRect();i.x=Ee(0,i.x,a.width-i.width),i.y=Ee(0,i.y,a.height-i.height);const o="".concat(Math.floor(i.x),"px"),r="".concat(Math.floor(i.y),"px");(t.style.getPropertyValue("left")!==o||t.style.getPropertyValue("top")!==r)&&(t.style.setProperty("left",o),t.style.setProperty("top",r),this.onGroupMoved(e,i))}onGroupMoved(t,e){const{groupButtons:i,ctx:{toolbarManager:n}}=this;for(const r of i[t]){var a,o;if(r.classList.contains(fv.button.hiddenToggled))continue;const i=r.offsetParent;n.buttonMoved(t,r.dataset.toolbarId,new We(r.offsetLeft+(null!==(a=null===i||void 0===i?void 0:i.offsetLeft)&&void 0!==a?a:0),r.offsetTop+(null!==(o=null===i||void 0===i?void 0:i.offsetTop)&&void 0!==o?o:0),r.offsetWidth,r.offsetHeight),e)}}buttonRect(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx.domManager.getBoundingClientRect();const i=t.getBoundingClientRect();return new We(i.left-e.left,i.top-e.top,i.width,i.height)}onProxyGroupOptions(t){if(!this.enabled)return;const{caller:e,group:i,options:n}=t;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(e,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(t,e,i){var n,a;null!==(n=e)&&void 0!==n||(e=this[t].enabled),null!==(a=i)&&void 0!==a||(i=this[t].position);for(const o of Cu)e&&i===o?this.positions[o].add(t):this.positions[o].delete(t)}createGroupButtons(t){var e;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const d of this.groupButtons[t])d.remove();if(this.groupButtons[t]=[],0===i.length)return;const{align:n,position:a}=this[t],o=this.positionAlignments[a][n];if(!o)return;const r=e=>{const i=Array.from(o.children),n="data-group",a="data-section";let r=i.find((i=>i.getAttribute(n)===t&&i.getAttribute(a)===(null!==e&&void 0!==e?e:"")));if(!r){r=Ie("div"),r.role="presentation",r.setAttribute(n,t),r.setAttribute(a,null!==e&&void 0!==e?e:"");const s=ku[t],l=i.find((t=>{const e=t.getAttribute(n);return ku[e]>s}));null!=l?o.insertBefore(r,l):o.appendChild(r),this.destroyFns.push((()=>r.remove()))}return r.classList.add(dv,fv[this[t].size]),r};let s=null===(e=i.at(0))||void 0===e?void 0:e.section,l=r(s);for(const d of i){s!==d.section&&(this.setButtonGroupFirstLast(l),l=r(d.section)),s=d.section;const e=this.createButtonElement(t,d);l.appendChild(e),this.groupButtons[t].push(e)}this.setButtonGroupFirstLast(l);let c,u;Tu(a)&&(c=()=>this.translateFloatingElements(a,!0),u=()=>this.translateFloatingElements(a,!1)),this.createAriaToolbar(t,o,c,u,(()=>{this.ctx.toolbarManager.cancel(t)}))}createAriaToolbar(t,e,i,n,a){const o=this.computeAriaOrientation(this[t].position),r=this.getAriaToolbar(t);r.resetListeners=()=>{const t=r.groups.map((t=>this.groupButtons[t])).flat().filter((t=>!t.classList.contains(fv.button.hiddenToggled)&&!t.classList.contains(fv.button.dragHandle)));r.destroyFns.forEach((t=>t())),r.destroyFns=Xl({orientation:o,toolbar:e,buttons:t,onEscape:a,onFocus:i,onBlur:n})},r.resetListeners(),this.updateToolbarAriaLabel(t,e)}computeAriaOrientation(t){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[t]}toggleGroup(t,e,i,n){if(!0===n?this.groupCallers[e].add(t):!1===n&&this.groupCallers[e].delete(t),null!=i)for(const a of this.groupButtons[e])this.setButtonActive(a,i)}processPendingEvents(){var t;const e=(null!==(t=this.pendingButtonToggledEvents)&&void 0!==t?t:[]).slice();for(const i of e)this.onButtonToggled(i);this.pendingButtonToggledEvents=[]}onLayoutStart(t){this.enabled&&(this.refreshOuterLayout(t.layoutBox),this.refreshLocale())}refreshOuterLayout(t){const{elements:e,horizontalSpacing:i,verticalSpacing:n}=this;e.top.classList.contains(fv.hidden)||t.shrink(e.top.offsetHeight+n,"top"),e.right.classList.contains(fv.hidden)||t.shrink(e.right.offsetWidth+i,"right"),e.bottom.classList.contains(fv.hidden)||(t.shrink(e.bottom.offsetHeight+n,"bottom"),e.bottom.style.top="".concat(t.y+t.height+n,"px")),e.left.classList.contains(fv.hidden)||t.shrink(e.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:t}=this;if(t){for(const t of Lu){const e=this[t].buttonConfigurations();for(const i of e)this.refreshButtonContent(t,i);this.updateToolbarAriaLabel(t)}this.hasNewLocale=!1}}refreshInnerLayout(t){const{elements:e,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:a}=Au;e.top.style.top="".concat(t.y-e.top.offsetHeight-i,"px"),e.top.style.left="".concat(t.x,"px"),e.top.style.width="".concat(t.width,"px"),e.bottom.style.left="".concat(t.x,"px"),e.bottom.style.width="".concat(t.width,"px"),e.right.style.top="".concat(t.y,"px"),e.right.style.right="0px",e.right.style.height="".concat(t.height,"px"),e.left.style.top="".concat(t.y,"px"),e.left.style.left="0px",e.left.style.height="".concat(t.height,"px"),e[a].style.top="".concat(t.y,"px"),e[n].style.top="".concat(t.y+t.height-e[n].offsetHeight,"px")}refreshButtonContent(t,e){var i,n;const a=this.buttonId(e),o=null!==(i=null===(n=this.groupProxied.get(t))||void 0===n||null===(n=n.buttons)||void 0===n?void 0:n.find((t=>this.buttonId(t)===a)))&&void 0!==i?i:e,r=this.groupButtons[t].find((t=>t.getAttribute("data-toolbar-id")===a));null!=r&&this.updateButton(r,o)}toggleVisibilities(){if(null==this.elements)return;const t=t=>this[t].enabled&&this.groupCallers[t].size>0,e=t=>e=>{const i=this.buttonId(e);return null==i||i===t.dataset.toolbarId};for(const i of Cu){const e=this.enabled&&Array.from(this.positions[i].values()).some(t);"floating"!==i||e||(this.dragState.detached=!1),this.elements[i].classList.toggle(fv.hidden,!e)}for(const i of Lu){if(null==this[i])continue;const n=t(i);for(const t of this.groupButtons[i]){const a=n&&this[i].buttonConfigurations().some(e(t));t.classList.toggle(fv.button.hiddenValue,!a)}}}translateFloatingElements(t,e){const{elements:i,verticalSpacing:n,positionAlignments:a}=this,o=i[t],r=Object.values(a[t]);o.classList.toggle(fv.floatingHidden,!e);const s="floating-bottom"===t?1:-1;for(const l of r)l.style.transform=e&&""!==l.style.transform?"translateY(0)":"translateY(".concat((o.offsetHeight+n)*s,"px)")}renderToolbar(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const e=this.elements[t];e.classList.add(cv,fv[t],fv.preventFlash),Tu(t)&&e.classList.add(fv.floatingHidden);for(const i of Nu){const n=Ie("div");n.role="presentation",n.classList.add(uv,fv.align[i]),e.appendChild(n),this.positionAlignments[t][i]=n}}createButtonElement(t,e){const i=Ie("button");return i.classList.add(hv),i.dataset.toolbarGroup=t,_r(i,"tabindex",-1),e.haspopup&&Yr(i,{"aria-haspopup":!0,"aria-expanded":!1}),i.dataset.toolbarId=this.buttonId(e),i.addEventListener("click",tc(i,(n=>this.onButtonPress(n,i,t,e.id,e.value)))),"drag"===e.value&&(i.addEventListener("mousedown",tc(i,(e=>this.onDragStart(e,i,t)))),i.classList.add(fv.button.dragHandle)),"switch"===e.role&&Yr(i,{role:e.role,"aria-checked":!1}),this.updateButton(i,e),this.destroyFns.push((()=>i.remove())),i}getAriaToolbar(t){for(const e of this.ariaToolbars)if(e.groups.includes(t))return e;throw new Error("AG Charts - cannot find aria-toolbar of '".concat(t,"'"))}updateToolbarAriaLabel(t,e){if(!e){const{align:i,position:n}=this[t];if(!(e=this.positionAlignments[n][i]))return}e.ariaLabel=this.ctx.localeManager.t({seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[t])}expandButtonConfig(t,e){var i,n,a,o;return"switch"!==e.role||"true"!==t.ariaChecked||void 0===e.checkedOverrides?e:{icon:null!==(i=e.checkedOverrides.icon)&&void 0!==i?i:e.icon,label:null!==(n=e.checkedOverrides.label)&&void 0!==n?n:e.label,ariaLabel:null!==(a=e.checkedOverrides.ariaLabel)&&void 0!==a?a:e.ariaLabel,tooltip:null!==(o=e.checkedOverrides.tooltip)&&void 0!==o?o:e.tooltip}}updateButton(t,e){var i;const{domManager:n,localeManager:a}=this.ctx,{icon:o,label:r,ariaLabel:s,tooltip:l}=this.expandButtonConfig(t,e);l&&(t.title=a.t(l));let c="";if(null!=o&&(c='<span class="'.concat(n.getIconClassNames(o)," ").concat(pv,'"></span>')),null!=r){const t=a.t(r);c="".concat(c,'<span class="').concat(gv,'">').concat(t,"</span>")}t.innerHTML=c,t.classList.toggle(fv.button.fillVisible,null!=e.fill),t.style.setProperty("--fill",null!==(i=e.fill)&&void 0!==i?i:null);const u=null!=e.strokeWidth;t.classList.toggle(fv.button.strokeWidthVisible,u),t.style.setProperty("--strokeWidth",u?"".concat(e.strokeWidth,"px"):null);_r(t,"aria-label",s?this.ctx.localeManager.t(s):void 0)}onButtonPress(t,e,i,n,a){this.ctx.toolbarManager.pressButton(i,this.buttonId({id:n,value:a}),a,this.buttonRect(e),t)}onDragStart(t,e,i){const n=this.elements.floating;t.preventDefault(),t.stopPropagation(),this.dragState={client:av.from(t.clientX,t.clientY),position:av.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},e.classList.toggle(fv.button.dragging,!0);const a=t=>this.onDrag(t,i),o=Se();o.addEventListener("mousemove",a),o.addEventListener("mouseup",(()=>{e.classList.toggle(fv.button.dragging,!1),o.removeEventListener("mousemove",a)}),{once:!0}),this.ctx.toolbarManager.groupMoved(i)}onDrag(t,e){const{elements:i,dragState:n}=this,a=i.floating,{offsetWidth:o,offsetHeight:r}=a,s=av.sub(av.from(t.clientX,t.clientY),n.client),l=av.add(n.position,s),c=new We(l.x,l.y,o,r);this.positionGroup(a,e,c)}buttonId(t){const{id:e,value:i,label:n}=t;return null!=e?e:null!=i&&"object"!==typeof i?String(i):null!==n&&void 0!==n?n:""}};gt([zr((t=>{t.processPendingEvents(),t.toggleVisibilities()})),On(Gn)],yv.prototype,"enabled",2);var mv=864e5,vv=30*mv,xv={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new yv(t),themeTemplate:{toolbar:{enabled:!0,seriesType:{enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:vg,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:vv},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*vv},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*vv},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date("".concat(new Date(e).getFullYear(),"-01-01")).getTime(),e],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:365*mv},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e],id:"all"}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function bv(){Ml.register(Wh,up,Eh,fp,xv,zy,nm,cm,fm,xm,Qm,nv,hm);for(const t of[zh,rl,Bh,vl,Ph])$u.register(t.type,{moduleFactory:e=>new t(e),hidden:t===vl})}function Mv(){for(const t of Ml.modules){if("enterprise"!==t.packageType||id(t)||St.errorOnce("Unexpected enterprise module registered: "+t.identifier),"root"===t.type&&t.themeTemplate)for(const e of t.chartTypes)ld.set(e,t.themeTemplate);if("series"===t.type){if(t.chartTypes.length>1)throw new Error("AG Charts - Module definition error: ".concat(t.identifier));cd.register(t.identifier,t)}if("series-option"===t.type&&t.themeTemplate)for(const e of t.seriesTypes)cd.setThemeTemplate(e,t.themeTemplate);if("axis-option"===t.type&&t.themeTemplate)for(const e of t.axisTypes){const i=$u.getThemeTemplate(e),n=Ei(t.themeTemplate,i);$u.setThemeTemplate(e,n)}"axis"===t.type&&$u.register(t.identifier,t),"legend"===t.type&&nd.register(t.identifier,t)}if(Ml.hasEnterpriseModules()){const t=td.filter((t=>{let{useCount:e}=t;return null==e||0===e}));t.length>0&&St.errorOnce("Enterprise modules expected but not registered: ",t)}}var Sv=class extends Yd{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:t}=this.getOptions();this.series.forEach((e=>{(function(t){return"sankey"===t.type||"chord"===t.type})(e)&&e.setChartNodes(t)}))}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,o=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a,e.visible=this.series.some((t=>t.visible));for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y),r.setClipRect(o.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:o,paddedRect:a}})}};Sv.className="FlowProportionChart",Sv.type="flow-proportion";var Iv=class extends el{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}computeRange(){}getAxisLinePoints(){}};gt([On(Na(["polygon","circle"],"a polar axis shape"))],Iv.prototype,"shape",2),gt([On(Hn)],Iv.prototype,"innerRadiusRatio",2);var Dv=class extends Yd{getChartType(){return"gauge"}updateRadialGauge(t,e){const i=this.axes.find((t=>"x"===t.direction));if(!(i instanceof Iv))return;i.computeRange();const n=t.x,a=n+t.width,o=t.y,r=o+t.height,[s,l]=i.range,c=Go(l-s)>Math.PI,u=c||_o(1.5*Math.PI,s,l),d=c||_o(0*Math.PI,s,l),h=c||_o(.5*Math.PI,s,l),p=c||_o(1*Math.PI,s,l);let g,f;g=p&&!d?"right":!p&&d?"left":"center",f=u&&!h?"bottom":!u&&h?"top":"middle";const y=Mm({startAngle:s,endAngle:l,innerRadius:0,outerRadius:.5}),m=2*-(y.x+y.width/2),v=2*-(y.y+y.height/2),{minimumRadius:x=0,maximumRadius:b}=e,M=Math.max(.5*Math.min(t.width/y.width,t.height/y.height),0);let S=Math.min(null!==b&&void 0!==b?b:1/0,Math.max(M,null!==x&&void 0!==x?x:0));for(let I=0;I<8;I+=1){const e=S<=x||7===I,s=t.x+t.width/2+m*S,l=t.y+t.height/2+v*S;i.translation.x=s,i.translation.y=l,i.gridLength=S,i.calculateLayout();const c=i.computeLabelsBBox({hideWhenNecessary:e},t);if(e)break;let u=0;if(null!=c){const t=c.x+s,e=t+c.width,i=c.y+l,d=i+c.height;u=Math.max(o-i,n-t,d-r,e-a,0)}if(!(u>0))break;S=Math.max(S-u,x)}i.translation.x=t.x+t.width/2+m*S,i.translation.y=t.y+t.height/2+v*S,e.centerX=t.width/2+m*S,e.centerY=t.height/2+v*S,e.radius=S,e.textAlign=g,e.verticalAlign=f,(0===S||S>M)&&St.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(t,e){const i=this.axes.find((t=>"x"===t.direction)),n=this.axes.find((t=>"y"===t.direction));if(!(i instanceof al))return t;if(!(n instanceof al))return t;const{horizontal:a,thickness:o}=e;let r=0,s=0;const l=new Rh;l.domain=[0,100],l.range=a?i.range:n.range;const c=l.ticks();a?r=e.computeInset("x",c):s=e.computeInset("y",c);const u=t.width-Math.abs(r),d=t.height-Math.abs(s),h=Math.max(a?u:o,0),p=Math.max(a?o:d,0),g=t.x+(u-h)/2+Math.max(r,0),f=t.y+(d-p)/2-Math.min(s,0);i.range=[0,h],i.gridLength=h,i.calculateLayout(),i.translation.x=g,i.translation.y=f+("bottom"===i.position?o:0),n.range=[0,p],n.gridLength=p,n.calculateLayout(),n.translation.x=g+("right"===n.position?o:0),n.translation.y=f,e.originX=g-t.x,e.originY=f-t.y,0!==h&&0!==p||St.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n,series:a,seriesArea:o}=this,{layoutBox:r}=t,s=r.clone();r.shrink(o.padding.toJson());const l=this.series[0];!function(t){return"radial-gauge"===t.type}(l)?function(t){return"linear-gauge"===t.type}(l)&&this.updateLinearGauge(r,l):this.updateRadialGauge(r,l),this.axes.forEach((t=>t.update())),this.seriesRect=s.clone().translate(s.x-r.x,s.y-r.y),this.animationRect=r,e.visible=a.some((t=>t.visible));for(const c of[e,i,n])c.translationX=Math.floor(r.x),c.translationY=Math.floor(r.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:s,paddedRect:r}})}getAriaLabel(){const t=[],e=this.getCaptionText();0!==e.length&&t.push(e);for(const n of this.series)t.push(n.getCaptionText());const i=t.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};Dv.className="GaugeChart",Dv.type="gauge";var wv=class extends Yd{constructor(t,e){super(t,e)}getChartType(){return"hierarchy"}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,o=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y);e.visible=this.series[0].visible,e.setClipRect(a.clone()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:o,paddedRect:a}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};wv.className="HierarchyChart",wv.type="hierarchy";var Nv=class extends Yd{constructor(t,e){super(t,e),this.padding=new wl(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(t){const{layoutBox:e}=t,i=e.clone();e.shrink(this.seriesArea.padding.toJson()),this.seriesRect=e,this.animationRect=e,await this.computeCircle(e),this.axes.forEach((t=>t.update())),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:e}})}updateAxes(t,e,i){var n;const a=this.axes.find((t=>"x"===t.direction)),o=this.axes.find((t=>"y"===t.direction));if(!(a instanceof Iv)||!(o instanceof Iv))return;const r=a.scale,s=o.innerRadiusRatio;a.innerRadiusRatio=s,a.computeRange(),a.gridLength=i,o.gridAngles=null===(n=r.ticks)||void 0===n?void 0:n.call(r).map((t=>r.convert(t))),o.gridRange=a.range,o.range=[i,i*s],[a,o].forEach((i=>{i.translation.x=t,i.translation.y=e,i.calculateLayout()}))}async computeCircle(t){var e=this;const i=this.series.filter(Lv),n=this.axes.filter(kv),a=(t,e,n)=>{this.updateAxes(t,e,n),i.forEach((i=>{i.centerX=t,i.centerY=e,i.radius=n}));const a=i.filter((t=>"donut"===t.type||"pie"===t.type));if(a.length>1){const t=a.map((t=>{const e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort(((t,e)=>t.innerRadius-e.innerRadius));t.at(-1).series.surroundingRadius=void 0;for(let e=0;e<t.length-1;e++)t[e].series.surroundingRadius=t[e+1].innerRadius}},o=t.x+t.width/2,r=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;a(o,r,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=[];for(const e of ge(n,i)){const i=await e.computeLabelsBBox({hideWhenNecessary:c},t);i&&u.push(i)}if(0===u.length)return void a(o,r,s);const d=We.merge(u),h=e.refineCircle(d,l,t);a(h.centerX,h.centerY,h.radius),l=h.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const u of ge(n,i))await u.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:l,centerX:o,centerY:r}}refineCircle(t,e,i){const n=-e,a=-e,o=e,r=e;let s=Math.max(0,n-t.x),l=Math.max(0,a-t.y),c=Math.max(0,t.x+t.width-o),u=Math.max(0,t.y+t.height-r);s=c=Math.max(s,c),l=u=Math.max(l,u);const d=i.width-s-c,h=i.height-l-u;let p=Math.min(d,h)/2;const g=.5*i.width/2,f=.5*i.height/2,y=Math.min(g,f);if(p<y){p=y;const t=s+c;if(2*p+(l+u)>i.height){const t=i.height-2*p;2*Math.min(l,u)>t?(l=t/2,u=t/2):l>u?l=t-u:u=t-l}if(2*p+t>i.width){const t=i.width-2*p;2*Math.min(s,c)>t?(s=t/2,c=t/2):s>c?s=t-c:c=t-s}}const m=s+2*p+c,v=l+2*p+u;return{centerX:i.x+(i.width-m)/2+s+p,centerY:i.y+(i.height-v)/2+l+p,radius:p}}};function Lv(t){return t instanceof Vm}function kv(t){return t instanceof Iv}Nv.className="PolarChart",Nv.type="polar";var Av=class extends Yd{constructor(t,e){super(t,e)}getChartType(){return"standalone"}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,o=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;for(const r of[e,i,n])r.translationX=Math.floor(a.x),r.translationY=Math.floor(a.y);e.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:o,paddedRect:a}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};Av.className="StandaloneChart",Av.type="standalone";var Cv=Math.PI/180,Tv=t=>t*Cv,Ev=t=>-Math.log(Math.tan(.25*Math.PI+t*Cv*.5)),Rv=t=>t/Cv,Ov=t=>(Math.atan(Math.exp(-t))-.25*Math.PI)/(.5*Cv),zv=class t{constructor(e,i){this.domain=e,this.range=i,this.type="mercator",this.bounds=t.bounds(e)}static bounds(t){const[[e,i],[n,a]]=t,o=Tv(e),r=Ev(i),s=Tv(n),l=Ev(a);return new We(Math.min(o,s),Math.min(r,l),Math.abs(s-o),Math.abs(l-r))}static fixedScale(){return new t([[Rv(0),Ov(0)],[Rv(1),Ov(1)]],[[0,0],[1,1]])}convert(t){let[e,i]=t;const[[n,a],[o,r]]=this.range,s=(o-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[(Tv(e)-this.bounds.x)*s+n,(Ev(i)-this.bounds.y)*l+a]}invert(t){let[e,i]=t;const[[n,a],[o,r]]=this.range,s=(o-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[Rv((e-n)/s+this.bounds.x),Ov((i-a)/l+this.bounds.y)]}};function jv(t){return"map-shape"===t.type||"map-line"===t.type||"map-marker"===t.type||"map-shape-background"===t.type||"map-line-background"===t.type}var Pv=class extends Yd{constructor(t,e){super(t,e),this.xAxis=new zh(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new zh(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:t}=this.getOptions();this.series.forEach((e=>{jv(e)&&e.setChartTopology(t)}))}performLayout(t){const{seriesRoot:e,annotationRoot:i,highlightRoot:n}=this,{layoutBox:a}=t,o=a.clone();a.shrink(this.seriesArea.padding.toJson()),this.seriesRect=a,this.animationRect=a;const r=this.series.filter(jv),s=r.reduce(((t,e)=>{if(!e.visible)return t;const i=e.topologyBounds;return null==i?t:null==t?i:(t.merge(i),t)}),void 0);let l;if(null!=s){const{lon0:t,lat0:e,lon1:i,lat1:n}=s,o=[[t,e],[i,n]],r=zv.bounds(o),{width:c,height:u}=a,d=Math.min(c/r.width,u/r.height),h=r.width*d,p=r.height*d,g=(c-h)/2,f=(u-p)/2,y=g,m=f,v=g+h,x=f+p,b=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),M=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),S=(v-y)/(b.max-b.min),I=y-S*b.min,D=(x-m)/(1-M.min-(1-M.max)),w=m-D*(1-M.max);l=new zv(o,[[I,w],[I+S,w+D]])}r.forEach((t=>{t.scale=l}));const c=this.series.some((t=>t.visible));e.visible=c;for(const u of[e,i,n])u.translationX=Math.floor(a.x),u.translationY=Math.floor(a.y),u.setClipRect(a.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:c,rect:o,paddedRect:a}})}};Pv.className="TopologyChart",Pv.type="topology";var Bv=Symbol("IGNORED_PROP");function Fv(t,e){const i={};for(const n in e){const a=e[n];a!==Bv&&Object.hasOwn(t,n)&&(i[n]=a)}return i}function Gv(t,e){if(null==e)return t;const{targets:i}=e;return null!=(t=Ei(t,z(e,$))).targets&&null!=i&&(t.targets=Ri(t.targets,i)),t}function Uv(t,e){if(xi(t))return e(t)}var _v=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];var Yv="range-area";function Vv(t,e){return{fill:Uv(e,(e=>{var i;return null===(i=e.overrides)||void 0===i||null===(i=i[t])||void 0===i||null===(i=i.series)||void 0===i?void 0:i.fill})),stroke:Uv(e,(e=>{var i;return null===(i=e.overrides)||void 0===i||null===(i=i[t])||void 0===i||null===(i=i.series)||void 0===i?void 0:i.stroke}))}}var Wv={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},Zv=O(O({},Wv),{},{nice:!1}),Hv={bottom:{crosshair:{enabled:Np}}},Kv={category:Hv,number:Hv,log:Hv,time:Hv},Qv={position:{type:"sparkline"}},Xv={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:O(O({},Zv),{},{interval:{values:[0]}}),log:O({},Zv),time:O({},Zv),category:O(O({},Wv),{},{gridLine:{enabled:!1}})}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:Kv,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:Qv}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:Kv,series:{strokeWidth:1,fillOpacity:.4,tooltip:Qv}}}};function Jv(t,e){return"string"===typeof t?O(O({},e),{},{baseTheme:t}):null!=t?O(O({},t),{},{baseTheme:Jv(t.baseTheme,e)}):e}var qv={"price-volume":function(t,e,i){var n,a;const{xKey:o,dateKey:r=(null!==o&&void 0!==o?o:"date"),highKey:s="high",openKey:l="open",lowKey:c="low",closeKey:u="close",volumeKey:d="volume",chartType:h="candlestick",navigator:p=!1,volume:g=!0,rangeToolbar:f,rangeButtons:y=null===f||void 0===f||f,statusBar:m=!0,annotations:v,toolbar:x=null===v||void 0===v||v,zoom:b=!0,theme:M,data:S}=t,I=z(t,tt);null!=o&&St.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),null!=f&&St.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),null!=v&&St.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const D=function(t,e,i,n,a,o,r){var s,l,c,u,d,h;e===Yv&&(St.warnOnce("type '".concat(e,"' is deprecated, use 'hlc' chart type instead")),e="hlc");const p={xKey:i,openKey:o,closeKey:r,highKey:n,lowKey:a},g={xKey:i,yKey:r},f={pickOutsideVisibleMinorAxis:!0};switch(null!==(s=e)&&void 0!==s?s:"candlestick"){case"ohlc":return[O(O({type:"ohlc",focusPriority:0},f),p)];case"line":return[O(O(O({type:"line",focusPriority:0},f),g),{},{stroke:null!==(l=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke})))&&void 0!==l?l:Wp,marker:null!==(c=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.marker})))&&void 0!==c?c:{enabled:!1}})];case"step-line":return[O(O(O({type:"line",focusPriority:0},f),g),{},{stroke:null!==(u=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke})))&&void 0!==u?u:Wp,interpolation:null!==(d=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.interpolation})))&&void 0!==d?d:{type:"step"},marker:null!==(h=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.marker})))&&void 0!==h?h:{enabled:!1}})];case"hlc":{var y,m,v,x,b,M,S,I,D,w,N;const e=Vv(Yv,t);return[O(O({type:Yv,focusPriority:0},f),{},{xKey:i,yHighKey:n,yLowKey:r,fill:null!==(y=e.fill)&&void 0!==y?y:Yp,stroke:null!==(m=e.stroke)&&void 0!==m?m:Up,fillOpacity:null!==(v=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fillOpacity})))&&void 0!==v?v:.3,strokeWidth:null!==(x=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.strokeWidth})))&&void 0!==x?x:2}),O(O({type:Yv,focusPriority:0},f),{},{xKey:i,yHighKey:r,yLowKey:a,fill:null!==(b=e.fill)&&void 0!==b?b:Vp,stroke:null!==(M=e.stroke)&&void 0!==M?M:_p,fillOpacity:null!==(S=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fillOpacity})))&&void 0!==S?S:.3,strokeWidth:null!==(I=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e["range-area"])||void 0===e||null===(e=e.series)||void 0===e?void 0:e.strokeWidth})))&&void 0!==I?I:2}),O(O(O({type:"line"},f),g),{},{stroke:null!==(D=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.stroke})))&&void 0!==D?D:qp,strokeWidth:null!==(w=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.strokeWidth})))&&void 0!==w?w:2,marker:null!==(N=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.line)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.marker})))&&void 0!==N?N:{enabled:!1}})]}case"high-low":{var L,k;const e=Vv("range-bar",t);return[O(O({type:"range-bar",focusPriority:0},f),{},{xKey:i,yHighKey:n,yLowKey:a,fill:null!==(L=e.fill)&&void 0!==L?L:Zp,stroke:null!==(k=e.stroke)&&void 0!==k?k:Wp,tooltip:{range:"nearest"}})]}case"candlestick":return[O(O({type:"candlestick",focusPriority:0},f),p)];case"hollow-candlestick":{var A,C;const e=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.candlestick)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.item}));return[O(O(O({type:"candlestick",focusPriority:0},f),p),{},{item:{up:{fill:null!==(A=null===e||void 0===e||null===(C=e.up)||void 0===C?void 0:C.fill)&&void 0!==A?A:"transparent"}}})]}default:return St.warnOnce("unknown chart type: ".concat(e,"; expected one of: ").concat(_v.join(", "))),[O(O({type:"candlestick",focusPriority:0},f),p)]}}(M,h,r,s,c,l,u),w=function(t,e,i,n,a,o){var r;if(!a)return[];const s=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.bar)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fill})),l=s?{fill:s}:{itemStyler(t){let{datum:a}=t;const{up:o,down:r}=e().palette;return{fill:a[i]<a[n]?null===o||void 0===o?void 0:o.fill:null===r||void 0===r?void 0:r.fill}}};return[O({type:"bar",xKey:"date",yKey:o,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:null!==(r=Uv(t,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.bar)||void 0===e||null===(e=e.series)||void 0===e?void 0:e.fillOpacity})))&&void 0!==r?r:.5},l)]}(M,i,l,u,g,d),N={navigator:O({enabled:p},g?{miniChart:{enabled:p,series:[{type:"line",xKey:r,yKey:d,marker:{enabled:!1}}]}}:null)},L={annotations:{enabled:x,data:S,xKey:r,volumeKey:g?d:void 0}},k=m?{statusBar:{enabled:!0,data:S,highKey:s,openKey:l,lowKey:c,closeKey:u,volumeKey:g?d:void 0}}:null,A={zoom:{enabled:b,enableIndependentAxes:!0}},C={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:x},annotationOptions:{enabled:x},annotations:{enabled:x},ranges:{enabled:y}}},T=g?[{type:"number",position:"left",keys:[d],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return O(O(O(O(O(O({theme:O({baseTheme:"string"===typeof M?M:"ag-financial"},Ei("object"===typeof M?M:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...w,...D],axes:[{type:"number",position:"right",keys:[l,u,s,c],interval:{maxSpacing:null!==(n=Uv(M,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.common)||void 0===e||null===(e=e.axes)||void 0===e||null===(e=e.number)||void 0===e||null===(e=e.interval)||void 0===e?void 0:e.maxSpacing})))&&void 0!==n?n:45},label:{format:null!==(a=Uv(M,(t=>{var e;return null===(e=t.overrides)||void 0===e||null===(e=e.common)||void 0===e||null===(e=e.axes)||void 0===e||null===(e=e.number)||void 0===e||null===(e=e.label)||void 0===e?void 0:e.format})))&&void 0!==a?a:".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...T,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:S},L),N),k),A),C),I)},gauge:function(t,e){if(function(t){return"radial-gauge"===t.type}(t)){return function(t){const{animation:e,background:i,container:n,contextMenu:a,footnote:o,height:r,listeners:s,locale:l,minHeight:c,minWidth:u,padding:d,subtitle:h,theme:p,title:g,width:f,type:y,cursor:m,nodeClickRange:v,tooltip:x,value:b,scale:M={},startAngle:S,endAngle:I,highlightStyle:D,segmentation:w,bar:N,needle:L,targets:k,outerRadius:A,innerRadius:C,outerRadiusRatio:T,innerRadiusRatio:E,cornerRadius:R,cornerMode:j,label:P,secondaryLabel:B,spacing:F}=t,G=z(t,K),{fills:U,fillMode:_,fill:Y,fillOpacity:V,stroke:W,strokeWidth:Z,strokeOpacity:H,lineDash:X,lineDashOffset:J,min:q=0,max:$=1,interval:tt={},label:et={}}=M,it=(z(M,Q),Fv(t,{animation:e,background:i,container:n,contextMenu:a,footnote:o,height:r,listeners:s,locale:l,minHeight:c,minWidth:u,padding:d,subtitle:h,theme:p,title:g,width:f})),nt=Fv(M,{fills:U,fillMode:_,fill:Y,fillOpacity:V,stroke:W,strokeWidth:Z,strokeOpacity:H,lineDash:X,lineDashOffset:J}),at=Fv(t,O({startAngle:Bv,endAngle:Bv,needle:null!=L?O({enabled:!0},L):Bv,scale:nt,type:y,cursor:m,nodeClickRange:v,listeners:s,tooltip:x,value:b,highlightStyle:D,segmentation:w,bar:N,targets:k,outerRadius:A,innerRadius:C,outerRadiusRatio:T,innerRadiusRatio:E,cornerRadius:R,cornerMode:j,label:P,secondaryLabel:B,spacing:F},G)),ot=[{type:"angle-number",min:q,max:$,startAngle:S,endAngle:I,interval:null!==tt&&void 0!==tt?tt:{},label:null!==et&&void 0!==et?et:{}},{type:"radius-number"}];return O(O({},it),{},{series:[at],axes:ot})}(Gv(t,e))}if(function(t){return"linear-gauge"===t.type}(t)){return function(t){const{animation:e,background:i,container:n,contextMenu:a,footnote:o,height:r,listeners:s,locale:l,minHeight:c,minWidth:u,padding:d,subtitle:h,theme:p,title:g,width:f,type:y,cursor:m,nodeClickRange:v,tooltip:x,value:b,scale:M={},direction:S="vertical",thickness:I,highlightStyle:D,segmentation:w,bar:N,targets:L,cornerRadius:k,cornerMode:A,label:C}=t,T=z(t,X),{fills:E,fillMode:R,fill:j,fillOpacity:P,stroke:B,strokeWidth:F,strokeOpacity:G,lineDash:U,lineDashOffset:_,min:Y=0,max:V=1,interval:W={},label:Z={}}=M,H=(z(M,J),Fv(t,{animation:e,background:i,container:n,contextMenu:a,footnote:o,height:r,listeners:s,locale:l,minHeight:c,minWidth:u,padding:d,subtitle:h,theme:p,title:g,width:f})),K=Fv(M,{fills:E,fillMode:R,fill:j,fillOpacity:P,stroke:B,strokeWidth:F,strokeOpacity:G,lineDash:U,lineDashOffset:_}),Q=Fv(t,O({scale:K,type:y,cursor:m,nodeClickRange:v,listeners:s,tooltip:x,value:b,direction:S,thickness:I,highlightStyle:D,segmentation:w,bar:N,targets:L,cornerRadius:k,cornerMode:A,label:C},T)),{placement:$}=Z;let tt,et;const it="horizontal"===S;it?(tt="before"===$?"top":"bottom",et="left"):(tt="after"===$?"right":"left",et="bottom");const nt={type:"number",position:tt,min:Y,max:V,reverse:!it,interval:W,label:z(Z,q),nice:!1},at={type:"number",position:et,min:0,max:1,label:{enabled:!1}},ot=it?[nt,at]:[at,nt];return O(O({},H),{},{series:[Q],axes:ot})}(Gv(t,e))}const{animation:i,background:n,container:a,contextMenu:o,footnote:r,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,padding:h,subtitle:p,theme:g,title:f,width:y}=t;return Fv(t,{animation:i,background:n,container:a,contextMenu:o,footnote:r,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,padding:h,subtitle:p,theme:g,title:f,width:y})},sparkline:function(t){const{background:e,container:i,height:n,listeners:a,locale:o,minHeight:r,minWidth:s,padding:l,width:c,theme:u,data:d,xAxis:h,yAxis:p}=t,g=z(t,et),f=g,y="bar"!==f.type||"horizontal"!==f.direction,m=Fv(t,{background:e,container:i,height:n,listeners:a,locale:o,minHeight:r,minWidth:s,padding:l,width:c,data:d,xAxis:Bv,yAxis:Bv,theme:Bv});return m.theme=Jv(u,Xv),m.series=[f],m.axes=y?[O(O({type:"number"},p),{},{position:"left"}),O(O({type:"category"},h),{},{position:"bottom"})]:[O(O({type:"category"},h),{},{position:"left"}),O(O({type:"number"},p),{},{position:"bottom"})],m}};function $v(t,e){let i=[];const n=Sd(t),a=fd(t),o=a?rd.get(a):"unknown";for(const{type:u,chartTypes:d,optionsKey:h,optionsInnerKey:p,identifier:g}of td)if("unknown"===o||d.includes(o))if("root"===u||"legend"===u){const e=t[h];if(null==e)continue;p?e[p]&&(i.push("".concat(h,".").concat(p)),delete e[p]):(i.push(h),delete t[h])}else if("axis"===u){var r;if(!("axes"in t)||null===(r=t.axes)||void 0===r||!r.some((t=>t.type===g)))continue;i.push("axis[type=".concat(g,"]")),t.axes=t.axes.filter((t=>t.type!==g))}else if("axis-option"===u){var s;if(!("axes"in t)||null===(s=t.axes)||void 0===s||!s.some((t=>t[h])))continue;i.push("axis.".concat(h)),t.axes.forEach((t=>{t[h]&&delete t[h]}))}else if("series"===u){var l;if(null===(l=t.series)||void 0===l||!l.some((t=>t.type===g)))continue;i.push("series[type=".concat(g,"]")),t.series=t.series.filter((t=>t.type!==g))}else if("series-option"===u){var c;if(null===(c=t.series)||void 0===c||!c.some((t=>t[h])))continue;i.push("series.".concat(h)),t.series.forEach((t=>{t[h]&&delete t[h]}))}if(i.length&&!e){n&&(i=["AgCharts.createGauge"]);let e="ag-charts-enterprise",a="https://ag-grid.com/charts/javascript/installation/";"integrated"===t.mode&&(e="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),St.warnOnce(["unable to use these enterprise features as '".concat(e,"' has not been loaded:"),"",...i,"","See: ".concat(a)].join("\n"))}}var tx=Symbol("description"),ex=Symbol("required");function ix(t,e,i){const{errors:n}=ax(t,e,i);for(const{message:a}of n)St.warn(a);return 0===n.length}function nx(t,e,i){const n=Si(i)?i:i[tx],a=n?"; expecting ".concat(n):"",o=t?"Option `".concat(t,"`"):"Value";return"".concat(o," cannot be set to `").concat(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return(t=JSON.stringify(t)).length>e?"".concat(t.slice(0,e),"... (+").concat(t.length-e," characters)"):t}}(e),"`").concat(a,", ignoring.")}function ax(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!xi(t))return{valid:null,errors:[{path:i,value:t,message:nx(i,t,"an object")}]};const n=new Set(Object.keys(t)),a=[],o={};function r(t){return pi(e)?"".concat(i,"[").concat(t,"]"):i?"".concat(i,".").concat(t):t}for(const[s,l]of Object.entries(e)){n.delete(s);const e=t[s];if(l[ex]||"undefined"!==typeof e)if(vi(l))l(e)?o[s]=e:a.push({key:s,path:i,value:e,message:nx(r(s),e,l)});else{const t=ax(e,l,r(s));o[s]=t.valid,a.push(...t.errors)}}for(const s of n)a.push({key:s,path:i,unknown:!0,message:"Unknown option `".concat(r(s),"`, ignoring.")});return{valid:o,errors:a}}function ox(t,e){return Object.assign((e=>t(e)),{[tx]:e})}ox(pi,"an array"),ox(gi,"a boolean"),ox(vi,"a function"),ox(Di,"a number");var rx=ox(xi,"an object"),sx=ox(Si,"a string"),lx=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ox((i=>Di(i)&&(i>t||e&&i===t)),"a number greater than ".concat(e?"or equal to ":"").concat(t))},cx=(t,e)=>ox((i=>Di(i)&&i>=t&&i<=e),"a number between ".concat(t," and ").concat(e," inclusive")),ux=(lx(0),lx(1),cx(0,1),cx(0,360),(t,e)=>ox((e=>pi(e)&&e.every(t)),null!==e&&void 0!==e?e:"".concat(t[tx]," array")));function dx(t){return null!==t&&void 0!==t&&t.up||null!==t&&void 0!==t&&t.down||null!==t&&void 0!==t&&t.neutral?"user-full":null!==t&&void 0!==t&&t.fills||null!==t&&void 0!==t&&t.strokes?"user-indexed":"inbuilt"}var hx="white",px={get cartesian(){return{seriesTypes:rd.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:rd.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:rd.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:rd.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:rd.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:rd.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:rd.gaugeTypes,commonOptions:[]}}},gx={"radial-gauge":!0,"linear-gauge":!0};function fx(t){return!0===gx[t]}var yx=Object.values(px).reduce(((t,e)=>{let{commonOptions:i}=e;return t.concat(i)}),[]),mx=class t{static getAxisDefaults(t){return Ei(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Lp,color:kp},label:{fontSize:12,fontFamily:Lp,padding:5,color:kp,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Rp},tick:{enabled:!1,width:1,stroke:Rp},gridLine:{enabled:!0,style:[{stroke:Ep,lineDash:[]}]},crossLines:{enabled:!1,fill:Op,stroke:Op,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Lp,padding:5,color:kp}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:zp},padding:{top:Bp,right:Bp,bottom:Bp,left:Bp},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Lp,color:kp,wrapping:"hyphenate",layoutStyle:Fp,textAlign:Gp},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Lp,color:Tp,wrapping:"hyphenate",layoutStyle:Fp,textAlign:Gp},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Lp,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:Fp,textAlign:Gp},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:kp,fontSize:12,fontFamily:Lp}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:kp},inactiveStyle:{fill:Tp},highlightStyle:{fill:kp},label:{color:kp}}},tooltip:{enabled:!0,darkTheme:Dp,delay:0},overlays:{darkTheme:Dp},listeners:{}}}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:e,palette:i}=wr(t),n=this.createChartConfigPerChartType(this.getDefaults()),a={};e&&this.mergeOverrides(n,a,e);const o=this.getDefaultColors(),{fills:r,strokes:s}=o,l=z(o,it);this.palette=Ei(i,O({fills:Object.values(r),strokes:Object.values(s)},l)),this.paletteType=dx(i),this.config=Object.freeze(this.templateTheme(n)),this.presets=a}mergeOverrides(t,e,i){for(const{seriesTypes:n,commonOptions:a}of Object.values(px)){const e=O({},i.common);for(const t of yx)a.includes(t)||delete e[t];if(e)for(const i of n){const n=i;fx(n)||(t[n]=Ei(e,t[n]))}}rd.seriesTypes.forEach((n=>{const a=n,o=i[a];fx(a)?e[a]=o:t[a]=Ei(o,t[a])}))}createChartConfigPerChartType(t){for(const[e,{seriesTypes:i}]of Object.entries(px)){const n=ld.get(e);for(const e of i)t[e]||(t[e]=wr(n))}return t}getDefaults(){const e=(e,i)=>{const n={},a=O(O(O({axes:{}},nd.getThemeTemplates()),this.getChartDefaults()),ld.get(e));for(const r of i){var o;n[r]=Ei(cd.getThemeTemplate(r),null!==(o=n[r])&&void 0!==o?o:wr(a));const{axes:e}=n[r];for(const i of $u.keys())e[i]=Ei(e[i],$u.getThemeTemplate(i),t.cartesianAxisDefault[i])}return n};return Ei(e("cartesian",rd.cartesianTypes),e("polar",rd.polarTypes),e("hierarchy",rd.hierarchyTypes),e("topology",rd.topologyTypes),e("flow-proportion",rd.flowProportionTypes),e("standalone",rd.standaloneTypes),e("gauge",rd.gaugeTypes))}templateTheme(t){const e=wr(t),i=this.getTemplateParameters();return Lr(e,(t=>{if(pi(t))for(let e=0;e<t.length;e++){const n=t[e];i.has(n)&&(t[e]=i.get(n))}else for(const[e,n]of Object.entries(t))i.has(n)&&(t[e]=i.get(n))})),wr(e)}getDefaultColors(){return{fills:Em,strokes:Rm,up:{fill:Em.GREEN,stroke:Rm.GREEN},down:{fill:Em.RED,stroke:Rm.RED},neutral:{fill:Em.GRAY,stroke:Rm.GRAY},altUp:{fill:Em.BLUE,stroke:Rm.BLUE},altDown:{fill:Em.ORANGE,stroke:Rm.ORANGE},altNeutral:{fill:Em.GRAY,stroke:Rm.GRAY}}}getTemplateParameters(){var t,e,i,n,a,o,r,s,l,c,u,d,h,p,g,f,y,m,v,x,b,M,S,I;const{isEnterprise:D}=Ur,w=new Map;w.set(Dp,!1),w.set(Np,D),w.set(wp,!D),w.set(Lp,"Verdana, sans-serif"),w.set(kp,"rgb(70, 70, 70)"),w.set(Ap,"white"),w.set(Tp,"rgb(140, 140, 140)"),w.set(Ep,"rgb(224,234,241)"),w.set(Rp,"rgb(195, 195, 195)"),w.set(Op,"rgb(70, 70, 70)"),w.set(Cp,hx),w.set(zp,hx),w.set(jp,"rgba(0, 0, 0, 0.5)"),w.set(tg,[Em.ORANGE,Em.YELLOW,Em.GREEN]),w.set(eg,[Em.GREEN,Em.YELLOW,Em.RED]),w.set(ig,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),w.set(Bp,20),w.set(Fp,"block"),w.set(Gp,"center"),w.set(ng,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),w.set(ag,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),w.set($p,hx),w.set(og,Em.BLUE),w.set(rg,Em.BLUE),w.set(sg,Em.BLUE),w.set(lg,hx),w.set(cg,"#fafafa"),w.set(ug,"#dddddd"),w.set(dg,"#000000"),w.set(hg,"#181d1f"),w.set(pg,"#e35c5c"),w.set(gg,"#e35c5c"),w.set(fg,"#fafafa"),w.set(yg,"#dddddd"),w.set(mg,"#000000"),w.set(vg,"top"),w.set(xg,!1);const N=this.getDefaultColors();return w.set(Up,null!==(t=null===(e=this.palette.up)||void 0===e?void 0:e.stroke)&&void 0!==t?t:N.up.stroke),w.set(Yp,null!==(i=null===(n=this.palette.up)||void 0===n?void 0:n.fill)&&void 0!==i?i:N.up.fill),w.set(_p,null!==(a=null===(o=this.palette.down)||void 0===o?void 0:o.stroke)&&void 0!==a?a:N.down.stroke),w.set(Vp,null!==(r=null===(s=this.palette.down)||void 0===s?void 0:s.fill)&&void 0!==r?r:N.down.fill),w.set(Wp,null!==(l=null===(c=this.palette.neutral)||void 0===c?void 0:c.stroke)&&void 0!==l?l:N.neutral.stroke),w.set(Zp,null!==(u=null===(d=this.palette.neutral)||void 0===d?void 0:d.fill)&&void 0!==u?u:N.neutral.fill),w.set(Hp,null!==(h=null===(p=this.palette.altUp)||void 0===p?void 0:p.stroke)&&void 0!==h?h:N.up.stroke),w.set(Qp,null!==(g=null===(f=this.palette.altUp)||void 0===f?void 0:f.fill)&&void 0!==g?g:N.up.fill),w.set(Kp,null!==(y=null===(m=this.palette.altDown)||void 0===m?void 0:m.stroke)&&void 0!==y?y:N.down.stroke),w.set(Xp,null!==(v=null===(x=this.palette.altDown)||void 0===x?void 0:x.fill)&&void 0!==v?v:N.down.fill),w.set(Jp,null!==(b=null===(M=this.palette.altNeutral)||void 0===M?void 0:M.fill)&&void 0!==b?b:N.altNeutral.fill),w.set(qp,null!==(S=null===(I=this.palette.altNeutral)||void 0===I?void 0:I.stroke)&&void 0!==S?S:N.altNeutral.stroke),w}};mx.cartesianAxisDefault={number:mx.getAxisDefaults({line:{enabled:!1}}),log:mx.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:mx.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:xg},crosshair:{enabled:!1}}),time:mx.getAxisDefaults({gridLine:{enabled:xg}}),"ordinal-time":mx.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:xg}}),"angle-category":mx.getAxisDefaults({gridLine:{enabled:xg}}),"angle-number":mx.getAxisDefaults({gridLine:{enabled:xg}}),"radius-category":mx.getAxisDefaults({line:{enabled:!1}}),"radius-number":mx.getAxisDefaults({line:{enabled:!1}}),"grouped-category":mx.getAxisDefaults({tick:{enabled:!0}})};var vx=mx,xx="#192232",bx={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Mx={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Sx=class extends vx{getDefaultColors(){return{fills:bx,strokes:Mx,up:{fill:bx.GREEN,stroke:Mx.GREEN},down:{fill:bx.RED,stroke:Mx.RED},neutral:{fill:bx.GRAY,stroke:Mx.GRAY},altUp:{fill:bx.BLUE,stroke:Mx.BLUE},altDown:{fill:bx.ORANGE,stroke:Mx.ORANGE},altNeutral:{fill:bx.GRAY,stroke:Mx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Dp,!0),t.set($p,xx),t.set(kp,"white"),t.set(Tp,"#7D91A0"),t.set(Ep,"#545A6E"),t.set(Op,"white"),t.set(tg,[bx.ORANGE,bx.YELLOW,bx.GREEN]),t.set(eg,[bx.GREEN,bx.YELLOW,bx.RED]),t.set(ig,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),t.set(ng,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(ag,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(zp,xx),t.set(Cp,xx),t.set(og,bx.BLUE),t.set(rg,"white"),t.set(sg,bx.BLUE),t.set(lg,xx),t.set(cg,"#28313e"),t.set(ug,"#4b525d"),t.set(dg,"#ffffff"),t.set(hg,"#ffffff"),t.set(fg,"#28313e"),t.set(yg,"#4b525d"),t.set(mg,"#ffffff"),t}constructor(t){super(t)}},Ix={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Dx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},wx=class extends Sx{getDefaultColors(){return{fills:O({},Ix),strokes:O({},Dx),up:{fill:Ix.GREEN,stroke:Dx.GREEN},down:{fill:Ix.RED,stroke:Dx.RED},neutral:{fill:Ix.BLUE,stroke:Dx.BLUE},altUp:{fill:Ix.GREEN,stroke:Dx.GREEN},altDown:{fill:Ix.RED,stroke:Dx.RED},altNeutral:{fill:Ix.GRAY,stroke:Dx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Ix.GREEN,Ix.BLUE,Ix.RED]),t.set(og,Ix.BLUE),t.set(sg,Ix.BLUE),t.set(Ep,"#343A4E"),t.set(Bp,0),t.set(Fp,"overlay"),t.set(Gp,"left"),t.set(vg,"bottom"),t.set(xg,!0),t}},Nx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Lx={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},kx=class extends vx{getDefaultColors(){return{fills:O({},Nx),strokes:O({},Lx),up:{fill:Nx.GREEN,stroke:Lx.GREEN},down:{fill:Nx.RED,stroke:Lx.RED},neutral:{fill:Nx.BLUE,stroke:Lx.BLUE},altUp:{fill:Nx.GREEN,stroke:Lx.GREEN},altDown:{fill:Nx.RED,stroke:Lx.RED},altNeutral:{fill:Nx.GRAY,stroke:Lx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Nx.GREEN,Nx.BLUE,Nx.RED]),t.set(og,Nx.BLUE),t.set(sg,Nx.BLUE),t.set(Ep,"#F2F3F3"),t.set(Bp,0),t.set(Fp,"overlay"),t.set(Gp,"left"),t.set(vg,"bottom"),t.set(xg,!0),t}},Ax={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Cx={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Tx=class extends Sx{getDefaultColors(){return{fills:Ax,strokes:Cx,up:{fill:Ax.GREEN,stroke:Cx.GREEN},down:{fill:Ax.RED,stroke:Cx.RED},neutral:{fill:Ax.GRAY,stroke:Cx.GRAY},altUp:{fill:Ax.BLUE,stroke:Cx.BLUE},altDown:{fill:Ax.RED,stroke:Cx.RED},altNeutral:{fill:Ax.GRAY,stroke:Cx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Ax.ORANGE,Ax.YELLOW,Ax.GREEN]),t.set(ig,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),t.set(eg,[Ax.GREEN,Ax.YELLOW,Ax.RED]),t.set(og,Ax.BLUE),t.set(sg,Ax.BLUE),t}},Ex={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Rx={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Ox=class extends vx{getDefaultColors(){return{fills:Ex,strokes:Rx,up:{fill:Ex.GREEN,stroke:Rx.GREEN},down:{fill:Ex.RED,stroke:Rx.RED},neutral:{fill:Ex.GRAY,stroke:Rx.GRAY},altUp:{fill:Ex.BLUE,stroke:Rx.BLUE},altDown:{fill:Ex.RED,stroke:Rx.RED},altNeutral:{fill:Ex.GRAY,stroke:Rx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Ex.ORANGE,Ex.YELLOW,Ex.GREEN]),t.set(ig,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),t.set(eg,[Ex.GREEN,Ex.YELLOW,Ex.RED]),t.set(og,Ex.BLUE),t.set(sg,Ex.BLUE),t}},zx={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},jx={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},Px=class extends Sx{getDefaultColors(){return{fills:zx,strokes:jx,up:{fill:zx.GREEN,stroke:jx.GREEN},down:{fill:zx.RED,stroke:jx.RED},neutral:{fill:zx.GRAY,stroke:jx.GRAY},altUp:{fill:zx.BLUE,stroke:jx.BLUE},altDown:{fill:zx.RED,stroke:jx.RED},altNeutral:{fill:zx.GRAY,stroke:jx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[zx.BLUE,zx.RED]),t.set(ig,[zx.BLUE,zx.PURPLE,zx.MAGENTA,zx.PINK,zx.RED,zx.ORANGE,zx.YELLOW,zx.GREEN]),t.set(eg,[zx.BLUE,zx.RED]),t.set(og,zx.BLUE),t.set(sg,zx.BLUE),t}},Bx={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Fx={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},Gx=class extends vx{getDefaultColors(){return{fills:Bx,strokes:Fx,up:{fill:Bx.GREEN,stroke:Fx.GREEN},down:{fill:Bx.RED,stroke:Fx.RED},neutral:{fill:Bx.GRAY,stroke:Fx.GRAY},altUp:{fill:Bx.BLUE,stroke:Fx.BLUE},altDown:{fill:Bx.RED,stroke:Fx.RED},altNeutral:{fill:Bx.GRAY,stroke:Fx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Bx.BLUE,Bx.RED]),t.set(ig,[Bx.BLUE,Bx.PURPLE,Bx.MAGENTA,Bx.PINK,Bx.RED,Bx.ORANGE,Bx.YELLOW,Bx.GREEN]),t.set(eg,[Bx.BLUE,Bx.RED]),t.set(og,Bx.BLUE),t.set(sg,Bx.BLUE),t}},Ux={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},_x={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},Yx=class extends Sx{getDefaultColors(){return{fills:O(O({},Ux),{},{RED:Ux.ORANGE}),strokes:O(O({},_x),{},{RED:_x.ORANGE}),up:{fill:Ux.GREEN,stroke:_x.GREEN},down:{fill:Ux.ORANGE,stroke:_x.ORANGE},neutral:{fill:Ux.GRAY,stroke:_x.GRAY},altUp:{fill:Ux.BLUE,stroke:_x.BLUE},altDown:{fill:Ux.ORANGE,stroke:_x.ORANGE},altNeutral:{fill:Ux.GRAY,stroke:_x.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Ux.ORANGE,Ux.YELLOW,Ux.GREEN]),t.set(eg,[Ux.GREEN,Ux.YELLOW,Ux.ORANGE]),t.set(og,Ux.BLUE),t.set(sg,Ux.BLUE),t}},Vx={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Wx={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},Zx=class extends vx{getDefaultColors(){return{fills:O(O({},Vx),{},{RED:Vx.ORANGE}),strokes:O(O({},Wx),{},{RED:Wx.ORANGE}),up:{fill:Vx.GREEN,stroke:Wx.GREEN},down:{fill:Vx.ORANGE,stroke:Wx.ORANGE},neutral:{fill:Wx.GRAY,stroke:Wx.GRAY},altUp:{fill:Vx.BLUE,stroke:Wx.BLUE},altDown:{fill:Vx.ORANGE,stroke:Wx.ORANGE},altNeutral:{fill:Vx.GRAY,stroke:Wx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Vx.ORANGE,Vx.YELLOW,Vx.GREEN]),t.set(eg,[Vx.GREEN,Vx.YELLOW,Vx.ORANGE]),t.set(og,Vx.BLUE),t.set(sg,Vx.BLUE),t}},Hx={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Kx={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Qx=class extends Sx{getDefaultColors(){return{fills:Hx,strokes:Kx,up:{fill:Hx.GREEN,stroke:Kx.GREEN},down:{fill:Hx.RED,stroke:Kx.RED},neutral:{fill:Hx.GRAY,stroke:Kx.GRAY},altUp:{fill:Hx.BLUE,stroke:Kx.BLUE},altDown:{fill:Hx.ORANGE,stroke:Kx.ORANGE},altNeutral:{fill:Hx.GRAY,stroke:Kx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Hx.ORANGE,Hx.YELLOW,Hx.GREEN]),t.set(ig,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),t.set(eg,[Hx.GREEN,Hx.YELLOW,Hx.RED]),t.set(og,Hx.BLUE),t.set(sg,Hx.BLUE),t}},Xx={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Jx={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},qx=class extends vx{getDefaultColors(){return{fills:Xx,strokes:Jx,up:{fill:Xx.GREEN,stroke:Jx.GREEN},down:{fill:Xx.RED,stroke:Jx.RED},neutral:{fill:Xx.GRAY,stroke:Jx.GRAY},altUp:{fill:Xx.BLUE,stroke:Jx.BLUE},altDown:{fill:Xx.ORANGE,stroke:Jx.ORANGE},altNeutral:{fill:Xx.GRAY,stroke:Jx.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(tg,[Xx.ORANGE,Xx.YELLOW,Xx.GREEN]),t.set(ig,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),t.set(eg,[Xx.GREEN,Xx.YELLOW,Xx.RED]),t.set(og,Xx.BLUE),t.set(sg,Xx.BLUE),t}},$x=()=>new vx,tb={"ag-default-dark":()=>new Sx,"ag-sheets-dark":()=>new Yx,"ag-polychroma-dark":()=>new Px,"ag-vivid-dark":()=>new Qx,"ag-material-dark":()=>new Tx,"ag-financial-dark":()=>new wx,null:$x,undefined:$x,"ag-default":$x,"ag-sheets":()=>new Zx,"ag-polychroma":()=>new Gx,"ag-vivid":()=>new qx,"ag-material":()=>new Ox,"ag-financial":()=>new kx};function eb(t){if(t instanceof vx)return t;if(null==t||"string"===typeof t){const e=tb[t];return e?e():(St.warnOnce("the theme [".concat(t,"] is invalid, using [ag-default] instead.")),$x())}if(ix(t,ib,"theme")){const e=function(t){let e,i=t;const n=[];for(;"object"===typeof i;){var a;null!==(a=e)&&void 0!==a||(e=i.palette),i.overrides&&n.push(i.overrides),i=i.baseTheme}return{baseTheme:i,overrides:Ei(...n),palette:e}}(t);return new((e.baseTheme?eb(e.baseTheme):$x()).constructor)(e)}return $x()}var ib={baseTheme:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ox((t=>e.some((e=>e(t)))),e.map((t=>t[tx])).filter(Boolean).join(" or "))}(sx,rx),overrides:rx,palette:{fills:ux(sx),strokes:ux(sx),up:{fill:sx,stroke:sx},down:{fill:sx,stroke:sx},neutral:{fill:sx,stroke:sx}}},nb=new Set(["map-shape-background","map-line-background"]),ab=class{constructor(t,e,i,n){var a,o;this.debug=jo.create(!0,"opts"),this.optionMetadata=null!==n&&void 0!==n?n:{},this.processedOverrides=null!==e&&void 0!==e?e:{};const r={shallow:["data"]};this.userOptions=wr(t,r);let s=wr(t,r);const{presetType:l}=this.optionMetadata;if(null!=l){var c;const t=qv[l],e=s,i=s.type,n=null!=i?eb(s.theme).presets[i]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",e),s=null!==(c=null===t||void 0===t?void 0:t(e,n,(()=>this.activeTheme)))&&void 0!==c?c:s}Ur.isEnterprise||$v(s),this.activeTheme=eb(s.theme),l&&(s=this.activeTheme.templateTheme(s)),this.sanityCheckAndCleanup(s),this.defaultAxes=this.getDefaultAxes(s),this.specialOverrides=this.specialOverridesDefaults(O({},i));const u=this.optionsType(s),d=this.getSeriesThemeConfig(u),{axes:h={},annotations:{axesButtons:p=null}={},series:g}=d,f=z(d.annotations,at),y=z(d,nt);var m;(this.processedOptions=wr(Ei(e,s,null!=p?{annotations:{axesButtons:p}}:{},y,this.defaultAxes),r),this.processAxesOptions(this.processedOptions,h),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=f,(yd(this.processedOptions)||function(t){const e=fd(t);return md(t)&&"pie"!==e&&"donut"!==e}(this.processedOptions))&&null==(null===(a=this.processedOptions.legend)||void 0===a?void 0:a.enabled))&&(null!==(m=(o=this.processedOptions).legend)&&void 0!==m||(o.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1);this.enableConfiguredOptions(this.processedOptions,s),Ur.isEnterprise||$v(this.processedOptions,!0)}getOptions(){var t;return null!==(t=this.processedOptions)&&void 0!==t?t:{}}diffOptions(t){return Dr(t,this.processedOptions)}getSeriesThemeConfig(t){var e,i;const n=wr(null!==(e=null===(i=this.activeTheme)||void 0===i?void 0:i.config[t])&&void 0!==e?e:{});return this.removeLeftoverSymbols(n),n}getDefaultAxes(t){var e,i;const n=this.optionsType(t),a=null!==(e=null===(i=t.series)||void 0===i?void 0:i.find((t=>{var e;return(null!==(e=t.type)&&void 0!==e?e:"line")===n})))&&void 0!==e?e:{};return cd.cloneDefaultAxes(n,a)}optionsType(t){var e,i;return null!==(e=null===(i=t.series)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type)&&void 0!==e?e:"line"}sanityCheckAndCleanup(t){var e;this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),null!==(e=t.series)&&void 0!==e&&e.some((t=>"bullet"===t.type))&&null!=t.sync&&!1!==t.sync.enabled&&(St.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map((t=>{var i,n,a;const o=Ei(null===(i=e[t.type])||void 0===i?void 0:i[t.position],e[t.type]),{crossLines:r}=o,s=z(o,ot);t.crossLines&&(t.crossLines=Ri(t.crossLines,r));const l=null===(n=s.gridLine)||void 0===n?void 0:n.style;null!==(a=t.gridLine)&&void 0!==a&&a.style&&null!==l&&void 0!==l&&l.length&&(t.gridLine.style=t.gridLine.style.map(((t,e)=>null!=t.stroke||null!=t.lineDash?Ei(t,l.at(e%l.length)):t)));const c=Ei(t,s),{top:u,right:d,bottom:h,left:p}=c;return z(c,rt)})))}processSeriesOptions(t){var e,i;const n=this.getTooltipPositionDefaults(t),a=xi(t.theme)?dx(null===(e=t.theme)||void 0===e?void 0:e.palette):"inbuilt",o={colourIndex:0,userPalette:a},r=null===(i=t.series)||void 0===i?void 0:i.map((e=>{var i,r;null!==(i=e.type)&&void 0!==i||(e.type=this.getDefaultSeriesType(t));const s=null!==(r=this.getSeriesThemeConfig(e.type).series)&&void 0!==r?r:{},{innerLabels:l}=s,c=z(s,st),u=nb.has(e.type)?{colourIndex:0,userPalette:a}:o,d=this.getSeriesPalette(e.type,u),h=this.getTooltipRangeDefaults(t,e.type),p=Ei(this.getSeriesGroupingOptions(e),e,n,h,c,d,{visible:!0});return p.innerLabels&&(p.innerLabels=Ri(p.innerLabels,l)),this.activeTheme.templateTheme(p)}));t.series=this.setSeriesGroupingOptions(null!==r&&void 0!==r?r:[])}processMiniChartSeriesOptions(t){var e;let i=null===(e=t.navigator)||void 0===e||null===(e=e.miniChart)||void 0===e?void 0:e.series;if(null==i)return;const n={colourIndex:0,userPalette:xi(t.theme)?dx(t.theme.palette):"inbuilt"};i=i.map((t=>{var e,i;null!==(e=t.type)&&void 0!==e||(t.type="line");const a=null!==(i=this.getSeriesThemeConfig(t.type).series)&&void 0!==i?i:{},{innerLabels:o}=a,r=z(a,lt),s=Ei(this.getSeriesGroupingOptions(t),t,r,this.getSeriesPalette(t.type,n));return this.activeTheme.templateTheme(s)})),t.navigator.miniChart.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(t,e){const i=cd.getPaletteFactory(t),{colourIndex:n,userPalette:a}=e,{fills:o=[],strokes:r=[]}=this.activeTheme.palette;return null===i||void 0===i?void 0:i({userPalette:a,colorsCount:Math.max(o.length,r.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:t=>(e.colourIndex+=t,{fills:yn(o,t,n),strokes:yn(r,t,n)})})}getSeriesGroupingOptions(t){var e,i;const n=cd.isGroupable(t.type),a=cd.isStackable(t.type),o=cd.isStackedByDefault(t.type);t.grouped&&!n&&St.warnOnce('unsupported grouping of series type "'.concat(t.type,'".')),!t.stacked&&!t.stackGroup||a||St.warnOnce('unsupported stacking of series type "'.concat(t.type,'".'));let{grouped:r,stacked:s}=t;return null!==(e=s)&&void 0!==e||(s=(o||null!=t.stackGroup)&&!(n&&r)),null!==(i=r)&&void 0!==i||(r=!0),{stacked:a&&s,grouped:n&&r&&!(a&&s)}}setSeriesGroupingOptions(t){const e=this.getSeriesGrouping(t);this.debug("setSeriesGroupingOptions() - series grouping: ",e);const i={},n=e.reduce(((t,e)=>{var i,n;return"default"===e.groupType||(null!==(i=t[n=e.seriesType])&&void 0!==i||(t[n]=0),t[e.seriesType]+="stack"===e.groupType?1:e.series.length),t}),{});return e.flatMap((t=>{var e,a;switch(null!==(e=i[a=t.seriesType])&&void 0!==e||(i[a]=0),t.groupType){case"stack":{const e=i[t.seriesType]++;return t.series.map(((i,a)=>Object.assign(i,{seriesGrouping:{groupId:t.groupId,groupIndex:e,groupCount:n[t.seriesType],stackIndex:a,stackCount:t.series.length}})))}case"group":return t.series.map((e=>Object.assign(e,{seriesGrouping:{groupId:t.groupId,groupIndex:i[t.seriesType]++,groupCount:n[t.seriesType],stackIndex:0,stackCount:0}})))}return t.series})).map((t=>{let{stacked:e,grouped:i}=t;return z(t,ct)}))}getSeriesGroupId(t){var e;return[t.type,t.xKey,t.stacked?null!==(e=t.stackGroup)&&void 0!==e?e:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const e=new Map;return t.reduce(((t,i)=>{const n=i.type;if(i.stacked||i.grouped){const a=this.getSeriesGroupId(i);if(!e.has(a)){const o={groupType:i.stacked?"stack":"group",seriesType:n,series:[],groupId:a};e.set(a,o),t.push(o)}e.get(a).series.push(i)}else t.push({groupType:"default",seriesType:n,series:[i],groupId:"__default__"});return t}),[])}getDefaultSeriesType(t){if(yd(t))return"line";if(md(t))return"pie";if(vd(t))return"treemap";if(xd(t))return"map-shape";if(bd(t))return"sankey";if(Md(t))return"pyramid";if(Sd(t))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){var e;const i=null===(e=t.tooltip)||void 0===e?void 0:e.position;if(!Mi(i))return;const{type:n,xOffset:a,yOffset:o}=i,r={};return Si(n)&&Li(mt,n)&&(r.type=n),Di(a)&&(r.xOffset=a),Di(o)&&(r.yOffset=o),{tooltip:{position:r}}}getTooltipRangeDefaults(t,e){var i,n,a;return{tooltip:{range:null!==(i=null===(n=t.tooltip)||void 0===n?void 0:n.range)&&void 0!==i?i:null===(a=cd.getTooltipDefauls(e))||void 0===a?void 0:a.range}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((e=>{var i;let[n,a]=e;null!==(i=t.series)&&void 0!==i&&i.some((t=>null!=t[n]))&&St.warnOnce("Property [series.".concat(n,"] is deprecated, please use [series.").concat(a,"] and multiple series instead."))}))}axesTypeIntegrity(t){if("axes"in t){var e;const n=null!==(e=t.axes)&&void 0!==e?e:[];for(const{type:e}of n)if(null==(i=e)||!$u.has(i)){delete t.axes;const i=$u.publicKeys().join(", ");St.warnOnce("unknown axis type: ".concat(e,"; expected one of: ").concat(i))}}var i}seriesTypeIntegrity(t){var e;t.series=null===(e=t.series)||void 0===e?void 0:e.filter((t=>{let{type:e}=t;if(null==e||null!=(i=e)&&rd.has(i)||function(t){return td.some((e=>"series"===e.type&&e.identifier===t))}(e))return!0;var i;St.warnOnce("unknown series type: ".concat(e,"; expected one of: ").concat(sd.seriesTypes.join(", ")))}))}soloSeriesIntegrity(t){const e=t.series;if(e&&e.length>1&&e.some((t=>cd.isSolo(t.type)))){const i=this.optionsType(t);if(cd.isSolo(i))St.warn("series[0] of type '".concat(i,"' is incompatible with other series types. Only processing series[0]")),t.series=e.slice(0,1);else{const{solo:i,nonSolo:n}=fn(e,(t=>cd.isSolo(t.type)?"solo":"nonSolo")),a=gn(i.map((t=>t.type))).join(", ");St.warn("Unable to mix these series types with the lead series type: ".concat(a)),t.series=n}}}enableConfiguredOptions(t,e){Lr(e,((t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&null==t.enabled&&(e.enabled=!0)}),{skip:["data","theme"]},t),Lr(t,(t=>{null!=t._enabledFromTheme&&delete t._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(t){Lr(t,(t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach((e=>{"enabled"!==e&&delete t[e]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(t){Lr(t,(t=>{if(t&&xi(t))for(const[e,i]of Object.entries(t))ki(i)&&delete t[e]}),{skip:["data"]})}specialOverridesDefaults(t){if(null!=t.window?Le(t.window):"undefined"!==typeof window?t.window=window:"undefined"!==typeof global&&(t.window=global.window),null!=t.document?Ne(t.document):"undefined"!==typeof document?t.document=document:"undefined"!==typeof global&&(t.document=global.document),null==t.window)throw new Error("AG Charts - unable to resolve global window");if(null==t.document)throw new Error("AG Charts - unable to resolve global document");return t}},ob=jo.create(!0,"opts");function rb(t){if(yd(t))return"cartesian";if(md(t))return"polar";if(vd(t))return"hierarchy";if(xd(t))return"topology";if(bd(t))return"flow-proportion";if(Md(t))return"standalone";if(Sd(t))return"gauge";throw new Error("AG Chart - unknown type of chart for options with type: ".concat(t.type))}var sb=class{static licenseCheck(t){var e,i,n;this.licenseChecked||(this.licenseManager=null===(e=Ur.licenseManager)||void 0===e?void 0:e.call(Ur,t),null===(i=this.licenseManager)||void 0===i||i.setLicenseKey(this.licenseKey,this.gridContext),null===(n=this.licenseManager)||void 0===n||n.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e;return null===(e=Ur.licenseManager)||void 0===e?void 0:e.call(Ur,{}).getLicenseDetails(t)}static getInstance(t){return cb.getInstance(t)}static create(t,e){var i;this.licenseCheck(t);const n=cb.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,styles:null!=Ur.styles?[["ag-charts-enterprise",Ur.styles]]:[],optionsMetadata:e});var a;null!==(i=this.licenseManager)&&void 0!==i&&i.isDisplayWatermark()&&this.licenseManager&&(null===(a=Ur.injectWatermark)||void 0===a||a.call(Ur,n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()));return n}static createFinancialChart(t){return this.create(t,{presetType:"price-volume"})}static createGauge(t){return this.create(t,{presetType:"gauge"})}static __createSparkline(t){return this.create(t,{presetType:"sparkline"})}};sb.licenseChecked=!1,sb.gridContext=!1;var lb=class t{static getInstance(t){const e=Yd.getInstance(t);return e?Ch.chartInstances.get(e):void 0}static initialiseModules(){t.initialised||(bv(),Mv(),t.initialised=!0)}static createOrUpdate(e){var i,n,a,o,r,s,l,c;let{proxy:u}=e;const{userOptions:d,licenseManager:h,styles:p,processedOverrides:g=(null!==(i=null===(n=u)||void 0===n?void 0:n.chart.chartOptions.processedOverrides)&&void 0!==i?i:{}),specialOverrides:f=(null!==(a=null===(o=u)||void 0===o?void 0:o.chart.chartOptions.specialOverrides)&&void 0!==a?a:{}),optionsMetadata:y=(null!==(r=null===(s=u)||void 0===s?void 0:s.chart.chartOptions.optionMetadata)&&void 0!==r?r:{})}=e,{presetType:m}=y;t.initialiseModules(),ob(">>> AgCharts.createOrUpdate() user options",d);let v=d;sb.optionsMutationFn&&(v=sb.optionsMutationFn(v,m),ob(">>> AgCharts.createOrUpdate() MUTATED user options",v));const{overrideDevicePixelRatio:x,document:b,window:M,styleContainer:S}=v,I=z(v,ut),D=new ab(I,g,O(O({},f),{},{document:b,window:M,overrideDevicePixelRatio:x,styleContainer:S}),y);let w=null===(l=u)||void 0===l?void 0:l.chart;var N;(null!=w&&rb(D.processedOptions)===rb(null===(c=w)||void 0===c?void 0:c.chartOptions.processedOptions)||(w=t.createChartInstance(D,w),null===p||void 0===p||p.forEach((t=>{var e;let[i,n]=t;null===(e=w)||void 0===e||e.ctx.domManager.addStyles(i,n)}))),null==u?u=new Ch(w,t.callbackApi,h):u.chart=w,ob.check()&&"undefined"!==typeof window)&&(null!==(N=window.agChartInstances)&&void 0!==N||(window.agChartInstances={}),window.agChartInstances[w.id]=w);return w.queuedUserOptions.push(d),w.requestFactoryUpdate((t=>{t.applyOptions(D);const e=t.queuedUserOptions.indexOf(d)+1;t.queuedUserOptions.splice(0,e)})),u}static updateUserDelta(e,i){Lr(i=wr(i,{shallow:["data"]}),(t=>{if("object"===typeof t)for(const[e,i]of Object.entries(t))"undefined"===typeof i&&Object.assign(t,{[e]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=e,a=n.getOptions(),o=Ei(i,a);ob(">>> AgCharts.updateUserDelta() user delta",i),ob("AgCharts.updateUserDelta() - base options",a),t.createOrUpdate({userOptions:o,proxy:e})}static createChartInstance(e,i){const n=null===i||void 0===i?void 0:i.destroy({keepTransferableResources:!0});return new(t.getChartByOptions(e.processedOptions))(e,n)}static getChartByOptions(t){if(yd(t))return kh;if(vd(t))return wv;if(md(t))return Nv;if(xd(t))return Pv;if(bd(t))return Sv;if(Md(t))return Av;if(Sd(t))return Dv;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};lb.caretaker=new Gl(Pl),lb.initialised=!1,lb.callbackApi={caretaker:lb.caretaker,create:(t,e,i,n)=>lb.createOrUpdate({userOptions:t,processedOverrides:e,specialOverrides:i,optionsMetadata:n}),update:(t,e)=>lb.createOrUpdate({userOptions:t,proxy:e}),updateUserDelta:(t,e)=>lb.updateUserDelta(t,e)};var cb=lb;pt({},{Arc:()=>ub,ArrowDown:()=>vb,ArrowUp:()=>mb,BBox:()=>We,BandScale:()=>Cn,Caption:()=>ts,ChangeDetectableProperties:()=>df,Circle:()=>qd,ConicGradient:()=>db,ContinuousScale:()=>cn,Diamond:()=>ih,DropShadow:()=>hf,ExtendedPath2D:()=>xc,Gradient:()=>nr,Group:()=>Co,HdpiCanvas:()=>Ec,Image:()=>Qh,Label:()=>os,Layer:()=>is,Line:()=>lr,LinearGradient:()=>ar,LinearScale:()=>Rh,Marker:()=>Jd,Node:()=>Je,OrdinalTimeScale:()=>ho,Path:()=>Mc,PointerEvents:()=>Qe,RadialColumnShape:()=>pb,Rect:()=>Yh,RedrawType:()=>Ze,Rotatable:()=>wo,RotatableGroup:()=>Eo,RotatableText:()=>yr,Scalable:()=>No,ScalableGroup:()=>To,Scene:()=>Vc,SceneChangeDetection:()=>He,ScenePathChangeDetection:()=>bc,Sector:()=>Tm,SectorBox:()=>bm,Selection:()=>Po,Shape:()=>sr,Square:()=>sh,SvgPath:()=>fb,Text:()=>fr,Tooltip:()=>$r,Transformable:()=>ko,TransformableText:()=>mr,Translatable:()=>Lo,TranslatableGroup:()=>Ro,TranslatableLayer:()=>ns,Triangle:()=>uh,calculateDerivativeExtrema:()=>mc,calculateDerivativeExtremaXY:()=>vc,drawCorner:()=>Fh,easing:()=>Gi,evaluateBezier:()=>gc,getFont:()=>bb,getMarker:()=>gh,getRadialColumnWidth:()=>gb,motion:()=>xb,sectorBox:()=>Mm,solveBezier:()=>fc,splitBezier:()=>yc,toRadians:()=>Yo,toTooltipHtml:()=>Jr});var ub=class extends Mc{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return je(Fo(this.startAngle),Fo(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?t.closePath():2!==this.type||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new We(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(t,e){const i=this.getBBox();return 0!==this.type&&i.containsPoint(t,e)&&this.path.isPointInPath(t,e)}};ub.className="Arc",ub.defaultStyles=O(O({},sr.defaultStyles),{},{lineWidth:1,fillStyle:null}),gt([bc()],ub.prototype,"centerX",2),gt([bc()],ub.prototype,"centerY",2),gt([bc()],ub.prototype,"radius",2),gt([bc()],ub.prototype,"startAngle",2),gt([bc()],ub.prototype,"endAngle",2),gt([bc()],ub.prototype,"counterClockwise",2),gt([bc()],ub.prototype,"type",2);var db=class extends nr{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t,e,arguments.length>3?arguments[3]:void 0),this.angle=i}createCanvasGradient(t,e){const{colorSpace:i,stops:n,angle:a}=this,o=Fo(Yo(a+90));if(!("createConicGradient"in t)){return new ar(i,n,a).createCanvasGradient(t,e)}const r=e.x+.5*e.width,s=e.y+.5*e.height;return t.createConicGradient(o,r,s)}};function hb(t,e,i){const n=Math.sqrt(t**2+e**2),a=Math.atan2(e,t)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var pb=class extends Mc{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){const{innerRadius:t,outerRadius:e,columnWidth:i}=this,n=this.getRotation(),a=-i/2,o=i/2,r=-e,s=-t;let l=1/0,c=1/0,u=-1/0,d=-1/0;for(let h=0;h<4;h+=1){const{x:t,y:e}=hb(h%2===0?a:o,h<2?r:s,n);l=Math.min(t,l),c=Math.min(e,c),u=Math.max(t,u),d=Math.max(e,d)}return new We(l,c,u-l,d-c)}getRotation(){const{startAngle:t,endAngle:e}=this;return Fo(t+Zo(t,e)/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,a=-t/2,o=t/2,r=-i,s=-e,l=this.getRotation(),c=[[a,s],[a,r],[o,r],[o,s]].map((t=>{let[e,i]=t;return hb(e,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:r}=this,s=je(n,a),l=Math.asin(t/2/n),c=this.getRotation(),u=(t,e)=>hb(t,e,c),d=(t,e)=>Math.sqrt(t**2+e**2),h=(t,e)=>e>t?0:Math.sqrt(t**2-e**2),p=(t,e,i)=>i?t<e:t>e,g=s&&!isNaN(l)&&l<Math.PI/6;let f=-t/2,y=t/2;const m=-i,v=-n*(g?Math.cos(l):1),x=p(o,d(n,t/2),!r);if(x){const t=h(o,n);f=-t,y=t}e.clear(!0);const b=u(f,v);e.moveTo(b.x,b.y);const M=je(n,i),S=p(o,d(i,t/2),!r);if(M&&g)e.arc(0,0,n,Fo(-l-Math.PI/2)+c,Fo(l-Math.PI/2)+c,!1);else if(S){const n=-h(o,t/2),a=h(o,i);if(!x){const t=u(f,n);e.lineTo(t.x,t.y)}if(e.arc(0,0,o,Math.atan2(n,f)+c,Math.atan2(m,-a)+c,!1),!je(a,0)){const t=u(a,m);e.lineTo(t.x,t.y)}e.arc(0,0,o,Math.atan2(m,a)+c,Math.atan2(n,y)+c,!1)}else{const t=u(f,m),i=u(y,m);e.lineTo(t.x,t.y),e.lineTo(i.x,i.y)}const I=u(y,v);if(e.lineTo(I.x,I.y),g)e.arc(0,0,n,Fo(l-Math.PI/2)+c,Fo(-l-Math.PI/2)+c,!0);else{const t=u(f,v);e.lineTo(t.x,t.y)}e.closePath()}};function gb(t,e,i,n,a){const o=Zo(t,e),r=o*(1-n)/2;if(t+=r,e-=r,o<.001)return 2*i*a;if(o>=2*Math.PI){const i=t+o/2;t=i-Math.PI,e=i+Math.PI}const s=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),u=i*Math.sin(e),d=Math.floor(Math.sqrt((s-c)**2+(l-u)**2)),h=2*i*a;return Math.max(1,Math.min(h,d))}pb.className="RadialColumnShape",gt([bc()],pb.prototype,"isBeveled",2),gt([bc()],pb.prototype,"columnWidth",2),gt([bc()],pb.prototype,"startAngle",2),gt([bc()],pb.prototype,"endAngle",2),gt([bc()],pb.prototype,"outerRadius",2),gt([bc()],pb.prototype,"innerRadius",2),gt([bc()],pb.prototype,"axisInnerRadius",2),gt([bc()],pb.prototype,"axisOuterRadius",2),gt([bc()],pb.prototype,"isRadiusAxisReversed",2);var fb=class extends Mc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=t}get d(){return this._d}set d(t){if(t!==this._d){this._d=t,this.commands.length=0;for(const[e,i,n]of t.matchAll(/([A-Z])([0-9. ]*)/g)){const t=n.split(/\s+/g).map(Number);this.commands.push([i,t])}this.checkPathDirty()}}updatePath(){const{path:t,x:e,y:i}=this;t.clear();let n=e,a=i;for(const[o,r]of this.commands)switch(o){case"M":t.moveTo(e+r[0],i+r[1]),n=e+r[0];break;case"C":t.cubicCurveTo(e+r[0],i+r[1],e+r[2],i+r[3],e+r[4],i+r[5]),n=e+r[4],a=i+r[5];break;case"H":t.lineTo(e+r[0],a),n=i+r[0];break;case"L":t.lineTo(e+r[0],i+r[1]),n=e+r[0],a=i+r[1];break;case"V":t.lineTo(n,i+r[0]),a=i+r[0];break;case"Z":t.closePath();break;default:throw new Error("Could not translate command '".concat(o,"' with '").concat(r.join(" "),"'"))}t.closePath()}};gt([bc()],fb.prototype,"x",2),gt([bc()],fb.prototype,"y",2);var yb=class t extends Jd{updatePath(){const e=this.size/2;super.applyPath(e,t.moves)}};yb.className="ArrowUp",yb.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}];var mb=yb,vb=class extends Jd{updatePath(){const t=this.size/2;super.applyPath(t,mb.moves.map((t=>({x:-1*t.x,y:-1*t.y}))))}};vb.className="ArrowDown";var xb=O(O({},ce),za),bb=hr.toFontString;pt({},{CARTESIAN_AXIS_TYPE:()=>Mp,CARTESIAN_POSITION:()=>bp,ChartTheme:()=>vx,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>sg,DEFAULT_ANNOTATION_COLOR:()=>og,DEFAULT_ANNOTATION_HANDLE_FILL:()=>lg,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>dg,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>hg,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>pg,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>gg,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>cg,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>ug,DEFAULT_AXIS_GRID_COLOUR:()=>Ep,DEFAULT_AXIS_LINE_COLOUR:()=>Rp,DEFAULT_BACKGROUND_COLOUR:()=>zp,DEFAULT_CAPTION_ALIGNMENT:()=>Gp,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Fp,DEFAULT_COLOURS:()=>Pp,DEFAULT_CROSS_LINES_COLOUR:()=>Op,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>tg,DEFAULT_FONT_FAMILY:()=>Lp,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>ig,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>eg,DEFAULT_GRIDLINE_ENABLED:()=>xg,DEFAULT_HIERARCHY_FILLS:()=>ng,DEFAULT_HIERARCHY_STROKES:()=>ag,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Cp,DEFAULT_INVERTED_LABEL_COLOUR:()=>Ap,DEFAULT_LABEL_COLOUR:()=>kp,DEFAULT_MUTED_LABEL_COLOUR:()=>Tp,DEFAULT_PADDING:()=>Bp,DEFAULT_POLAR_SERIES_STROKE:()=>$p,DEFAULT_SHADOW_COLOUR:()=>jp,DEFAULT_TEXTBOX_COLOR:()=>mg,DEFAULT_TEXTBOX_FILL:()=>fg,DEFAULT_TEXTBOX_STROKE:()=>yg,DEFAULT_TEXT_ANNOTATION_COLOR:()=>rg,DEFAULT_TOOLBAR_POSITION:()=>vg,FONT_SIZE:()=>vp,FONT_WEIGHT:()=>xp,IS_COMMUNITY:()=>wp,IS_DARK_THEME:()=>Dp,IS_ENTERPRISE:()=>Np,PALETTE_ALT_DOWN_FILL:()=>Xp,PALETTE_ALT_DOWN_STROKE:()=>Kp,PALETTE_ALT_NEUTRAL_FILL:()=>Jp,PALETTE_ALT_NEUTRAL_STROKE:()=>qp,PALETTE_ALT_UP_FILL:()=>Qp,PALETTE_ALT_UP_STROKE:()=>Hp,PALETTE_DOWN_FILL:()=>Vp,PALETTE_DOWN_STROKE:()=>_p,PALETTE_NEUTRAL_FILL:()=>Zp,PALETTE_NEUTRAL_STROKE:()=>Wp,PALETTE_UP_FILL:()=>Yp,PALETTE_UP_STROKE:()=>Up,POLAR_AXIS_SHAPE:()=>Ip,POLAR_AXIS_TYPE:()=>Sp,getChartTheme:()=>eb,markerPaletteFactory:()=>mp,singleSeriesPaletteFactory:()=>yp,swapAxisCondition:()=>jy,themes:()=>Mb});var Mb=Oi(tb,(t=>null===t||void 0===t?void 0:t()));pt({},{BandScale:()=>Cn,ColorScale:()=>ir,ContinuousScale:()=>cn,Invalidating:()=>sn,LinearScale:()=>Rh,OrdinalTimeScale:()=>ho,TimeScale:()=>lo});pt({},{Color:()=>ii,Debug:()=>jo,Logger:()=>St,Padding:()=>wl,TimeInterval:()=>It,angleBetween:()=>Zo,angleDiff:()=>Wo,arcDistanceSquared:()=>qo,areArrayNumbersEqual:()=>Sr,checkDatum:()=>gs,clamp:()=>Ee,clampArray:()=>Re,clockwiseAngle:()=>Ko,clockwiseAngles:()=>Qo,countFractionDigits:()=>Ue,createId:()=>he,day:()=>Yt,deepClone:()=>wr,displacePointFromVector:()=>Ho,extent:()=>un,findMinMax:()=>Oe,findRangeExtent:()=>ze,formatNormalizedPercentage:()=>_e,formatPercentage:()=>Ye,friday:()=>Jt,generateUUID:()=>pe,getAttribute:()=>Vr,hour:()=>Ut,interpolateColor:()=>ai,interpolateNumber:()=>ni,isBetweenAngles:()=>_o,isContinuous:()=>ps,isDate:()=>yi,isDenseInterval:()=>oo,isEqual:()=>je,isNegative:()=>Pe,isNumber:()=>Di,isNumberEqual:()=>je,isNumberObject:()=>hs,isString:()=>Si,isStringObject:()=>ds,jsonApply:()=>kr,jsonDiff:()=>Dr,jsonWalk:()=>Lr,lineDistanceSquared:()=>Jo,millisecond:()=>wt,minute:()=>Bt,mod:()=>Ge,monday:()=>Ht,month:()=>te,normalisedExtentWithMetadata:()=>dn,normalizeAngle180:()=>Uo,normalizeAngle360:()=>Fo,normalizeAngle360Inclusive:()=>Go,range:()=>ao,resetIds:()=>de,round:()=>Be,sanitizeHtml:()=>Ig,saturday:()=>qt,second:()=>zt,setAttribute:()=>_r,setAttributes:()=>Yr,setElementStyle:()=>Wr,shallowClone:()=>Nr,sunday:()=>Zt,thursday:()=>Xt,tickFormat:()=>no,tickStep:()=>eo,ticks:()=>$a,toDegrees:()=>Vo,toFixed:()=>Fe,toRadians:()=>Yo,transformIntegratedCategoryValue:()=>fs,tuesday:()=>Kt,utcDay:()=>re,utcHour:()=>oe,utcMinute:()=>ae,utcMonth:()=>se,utcYear:()=>le,wednesday:()=>Qt,year:()=>ie});function Sb(){return(t,e)=>{const i=["Property [".concat(t,"] is deprecated."),e].filter(Boolean).join(" ");St.warnOnce(i)}}function Ib(t,e){const i=Sb(),n=null===e||void 0===e?void 0:e.default;return li(((e,a,o)=>(o!==n&&i(a.toString(),t),o)))}function Db(t,e){const i=Sb();return li(((n,a,o)=>(o!==n[t]&&(i(a.toString(),"Use [".concat(t,"] instead.")),Bi(n,t,e?e(o):o)),oi)),((e,n)=>(i(n.toString(),"Use [".concat(t,"] instead.")),ji(e,t))))}function wb(t,e,i){if(t>e)return;let n;for(;e>=t;){const a=Math.floor((e+t)/2),o=i(a);null==o?e=a-1:(n=o,t=a+1)}return n}pt({},{AND:()=>jn,ARRAY:()=>Xn,ARRAY_OF:()=>Jn,AbstractBarSeries:()=>Gy,AbstractBarSeriesProperties:()=>Fy,ActionOnSet:()=>Or,Animation:()=>en,AnimationManager:()=>lu,Axis:()=>el,AxisInterval:()=>Gs,AxisLabel:()=>Us,AxisTick:()=>Ys,AxisTicks:()=>Rb,BOOLEAN:()=>Gn,BOOLEAN_ARRAY:()=>ra,Background:()=>Vh,BackgroundModule:()=>Wh,BaseModuleInstance:()=>xl,BaseProperties:()=>Tn,COLOR_STRING:()=>aa,COLOR_STRING_ARRAY:()=>oa,CachedTextMeasurer:()=>dr,CachedTextMeasurerPool:()=>ur,CartesianAxis:()=>al,CartesianSeries:()=>Nh,CartesianSeriesNodeEvent:()=>Dh,CartesianSeriesProperties:()=>wh,CategoryAxis:()=>rl,ChartAxisDirection:()=>Ra,ChartEventManager:()=>cu,ChartOptions:()=>ab,ChartUpdateType:()=>Pu,ContextMenuRegistry:()=>uu,Cursor:()=>hu,CursorManager:()=>pu,DATE:()=>ea,DATE_ARRAY:()=>ca,DATE_OR_DATETIME_MS:()=>ia,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Sh,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Ih,DEFAULT_TOOLTIP_CLASS:()=>Hr,DEFAULT_TOOLTIP_DARK_CLASS:()=>Kr,DEGREE:()=>Kn,DIRECTION:()=>Sa,DOMManager:()=>lc,DRAG_INTERACTION_TYPES:()=>qc,DataController:()=>qu,DataModel:()=>Xu,DataModelSeries:()=>fh,DataService:()=>Kc,Default:()=>Bs,Deprecated:()=>Ib,DeprecatedAndRenamedTo:()=>Db,EMPTY_TOOLTIP_CONTENT:()=>Qr,FONT_STYLE:()=>ya,FONT_WEIGHT:()=>ma,FUNCTION:()=>Un,GREATER_THAN:()=>ta,GestureDetector:()=>fu,GroupedCategoryAxis:()=>vl,HierarchyNode:()=>kb,HierarchySeries:()=>Ab,HierarchySeriesProperties:()=>Cb,HighlightManager:()=>yu,HighlightProperties:()=>xh,HighlightStyle:()=>bh,INTERACTION_RANGE:()=>Da,INTERPOLATION_STEP_POSITION:()=>vf,INTERPOLATION_TYPE:()=>mf,InteractionManager:()=>ru,InteractionState:()=>Ol,InterpolationProperties:()=>xf,KeyNavManager:()=>mu,LABEL_PLACEMENT:()=>wa,LARGEST_KEY_INTERVAL:()=>Hg,LESS_THAN:()=>$n,LINE_CAP:()=>da,LINE_DASH:()=>ga,LINE_JOIN:()=>ha,LINE_STYLE:()=>pa,LayoutElement:()=>kl,LayoutManager:()=>Al,LonLatBBox:()=>Tb,MARKER_SHAPE:()=>pf,MATCHING_CROSSLINE_TYPE:()=>ys,MAX_SPACING:()=>ka,MIN_SPACING:()=>La,MercatorScale:()=>zv,ModuleRegistry:()=>bl,Motion:()=>Gi,NAN:()=>Wn,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>nn,NUMBER:()=>Yn,NUMBER_ARRAY:()=>sa,NUMBER_OR_NAN:()=>Qn,Navigator:()=>gp,NavigatorModule:()=>fp,NodeRegionBBoxProvider:()=>xu,OBJECT:()=>Bn,OBJECT_ARRAY:()=>ua,OR:()=>Pn,OVERFLOW_STRATEGY:()=>Ma,ObserveChanges:()=>zr,PHASE_METADATA:()=>Ji,PHASE_ORDER:()=>Xi,PLACEMENT:()=>Ia,PLAIN_OBJECT:()=>Fn,POINTER_INTERACTION_TYPES:()=>$c,POSITION:()=>fa,POSITION_TOP_COORDINATES:()=>Ss,POSITIVE_NUMBER:()=>Zn,PolarAxis:()=>Iv,PolarSeries:()=>Vm,PropertiesArray:()=>En,ProxyOnWrite:()=>Er,ProxyProperty:()=>Tr,ProxyPropertyOnWrite:()=>Rr,QUICK_TRANSITION:()=>Qi,RATIO:()=>Hn,REAL_NUMBER:()=>Vn,REGIONS:()=>vu,RegionManager:()=>wu,RepeatType:()=>qi,SKIP_JS_BUILTINS:()=>Pi,SMALLEST_KEY_INTERVAL:()=>Zg,SORT_DOMAIN_GROUPS:()=>Kg,STRING:()=>_n,STRING_ARRAY:()=>la,Series:()=>Td,SeriesGroupingChangedEvent:()=>Cd,SeriesItemHighlightStyle:()=>yh,SeriesMarker:()=>gf,SeriesNodeEvent:()=>Ad,SeriesNodePickMode:()=>kd,SeriesProperties:()=>Mh,SeriesTooltip:()=>yf,SimpleRegionBBoxProvider:()=>bu,SimpleTextMeasurer:()=>pr,StateMachine:()=>Fr,TEXT_ALIGN:()=>xa,TEXT_WRAP:()=>va,TICK_INTERVAL:()=>Fs,TOOLBAR_ALIGNMENTS:()=>Nu,TOOLBAR_GROUPS:()=>Lu,TOOLBAR_GROUP_ORDERING:()=>ku,TOOLBAR_POSITIONS:()=>Cu,TextUtils:()=>hr,TextWrapper:()=>Gr,ToolbarManager:()=>Eu,ToolbarPosition:()=>Au,Tooltip:()=>$r,TooltipManager:()=>Ru,TooltipPosition:()=>qr,UNION:()=>Na,UpdateService:()=>Bu,VERTICAL_ALIGN:()=>ba,Validate:()=>On,Vec2:()=>av,Vec4:()=>Nb,ZIndexMap:()=>us,ZoomManager:()=>Ou,__FORCE_MODULE_DETECTION:()=>Ob,accumulateGroup:()=>nf,accumulateStack:()=>of,accumulatedValue:()=>Rg,accumulativeValueProperty:()=>_g,addHitTestersToQuadtree:()=>Py,adjustLabelPlacement:()=>tm,animationValidation:()=>$g,area:()=>Eg,arraysEqual:()=>hn,backfillPathPointData:()=>Wf,buildFormatter:()=>wn,buildResetPathFn:()=>ty,calculateDefaultTimeTickFormat:()=>kn,calculateLabelChartPadding:()=>Ms,calculateLabelTranslation:()=>bs,calculatePlacement:()=>Zr,checkCrisp:()=>Wy,circularSliceArray:()=>yn,clamp:()=>Ee,clampArray:()=>Re,collapsedStartingBarPosition:()=>Hy,computeBarFocusBounds:()=>Jy,computeMarkerFocusBounds:()=>Gf,convertValuesToScaleByDefs:()=>Rd,countFractionDigits:()=>Ue,createButton:()=>zb,createCheckbox:()=>jb,createDatumId:()=>sf,createDeprecationWarning:()=>Sb,createElement:()=>Ie,createElementId:()=>Te,createElementNS:()=>De,createIcon:()=>Fb,createSelect:()=>Pb,createTextArea:()=>Bb,dateToNumber:()=>Nn,deconstructSelectionsOrNodes:()=>$i,deepClone:()=>wr,deepMerge:()=>Ti,defaultTimeTickFormat:()=>Ln,determinePathStatus:()=>fy,diff:()=>rf,downloadUrl:()=>we,enterpriseModule:()=>Ur,excludesType:()=>Ai,extent:()=>un,extractDecoratedProperties:()=>di,findMaxValue:()=>wb,findMinMax:()=>Oe,findQuadtreeMatch:()=>By,findRangeExtent:()=>ze,fixNumericExtent:()=>Wu,focusCursorAtEnd:()=>Ae,formatNormalizedPercentage:()=>_e,formatPercentage:()=>Ye,formatValue:()=>Mg,fromToMotion:()=>an,getDocument:()=>Me,getLastFocus:()=>ic,getMissCount:()=>Zu,getPath:()=>ji,getPathComponents:()=>Ku,getRectConfig:()=>Vy,getWindow:()=>Se,groupAccumulativeValueProperty:()=>Vg,groupAverage:()=>Tg,groupBy:()=>fn,groupCount:()=>Cg,groupStackValueProperty:()=>Wg,groupSum:()=>kg,initMenuKeyNav:()=>$l,initRovingTabIndex:()=>Jl,initToolbarKeyNav:()=>Xl,isAnimatingFloatingPosition:()=>Tu,isArray:()=>pi,isBoolean:()=>gi,isButtonClickEvent:()=>ec,isDate:()=>fi,isDecoratedObject:()=>ci,isDefined:()=>hi,isEnumKey:()=>Ni,isEnumValue:()=>Li,isEqual:()=>je,isFiniteNumber:()=>Di,isFunction:()=>vi,isHtmlElement:()=>wi,isNegative:()=>Pe,isNumber:()=>Ii,isObject:()=>xi,isObjectLike:()=>bi,isPlainObject:()=>Mi,isProperties:()=>Rn,isRegExp:()=>mi,isString:()=>Si,isSymbol:()=>ki,isValidDate:()=>yi,jsonApply:()=>kr,jsonDiff:()=>Dr,jsonWalk:()=>Lr,keyProperty:()=>Fg,labelDirectionHandling:()=>Cs,listDecoratedProperties:()=>ui,makeAccessibleClickListener:()=>tc,mapValues:()=>Oi,markerFadeInAnimation:()=>Of,markerPaletteFactory:()=>mp,markerScaleInAnimation:()=>zf,markerSwipeScaleInAnimation:()=>jf,mergeArrayDefaults:()=>Ri,mergeDefaults:()=>Ei,midpointStartingBarPosition:()=>Ky,minMax:()=>_f,mod:()=>Ge,moduleRegistry:()=>Ml,nearestSquared:()=>ve,nearestSquaredInContainer:()=>xe,normaliseGroupTo:()=>Xg,normalisePropertyTo:()=>qg,normalisedExtentWithMetadata:()=>dn,objectEqualWith:()=>Ci,pairCategoryData:()=>gy,pairContinuousData:()=>py,partialAssign:()=>Fi,pathFadeInAnimation:()=>qf,pathFadeOutAnimation:()=>$f,pathRangePoints:()=>ly,pathRangePointsReverse:()=>cy,pathRanges:()=>sy,pathSwipeInAnimation:()=>Jf,pickByMatchingAngle:()=>Ym,pickNode:()=>Od,plotPath:()=>Kf,predicateWithMessage:()=>Aa,prepareAreaPathAnimation:()=>Ry,prepareAxisAnimationContext:()=>Ws,prepareAxisAnimationFunctions:()=>Ks,prepareBarAnimationFunctions:()=>Qy,prepareLinePathAnimation:()=>vy,prepareLinePathAnimationFns:()=>my,prepareLinePathPropertyAnimation:()=>yy,prepareMarkerAnimation:()=>Ff,preparePieSeriesAnimationFunctions:()=>Um,range:()=>Ag,rangedValueProperty:()=>Ug,renderPartialPath:()=>Xf,resetAxisGroupFn:()=>Qs,resetAxisLabelSelectionFn:()=>Js,resetAxisLineSelectionFn:()=>qs,resetAxisSelectionFn:()=>Xs,resetBarSelectionsFn:()=>Xy,resetIds:()=>de,resetLabelFn:()=>uf,resetMarkerFn:()=>Pf,resetMarkerPositionFn:()=>Bf,resetMotion:()=>ja,resetPieSelectionsFn:()=>_m,round:()=>Be,scale:()=>uy,seriesLabelFadeInAnimation:()=>lf,seriesLabelFadeOutAnimation:()=>cf,setDocument:()=>Ne,setElementBBox:()=>ke,setPath:()=>Bi,setWindow:()=>Le,shallowClone:()=>Nr,singleSeriesPaletteFactory:()=>yp,sortBasedOnArray:()=>mn,splitPairData:()=>Qf,staticFromToMotion:()=>on,stopPageScrolling:()=>nc,stringify:()=>Ea,sum:()=>Lg,sumValues:()=>Ng,toArray:()=>pn,toFixed:()=>Fe,toTooltipHtml:()=>Jr,trailingAccumulatedValue:()=>Og,trailingAccumulatedValueProperty:()=>Yg,unique:()=>gn,updateClipPath:()=>ey,updateLabelNode:()=>qy,updateRect:()=>Yy,validateCrossLineValues:()=>ms,valueProperty:()=>Gg,without:()=>zi});var Nb={bottomCenter:function(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}},center:function(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}},clone:function(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}},end:function(t){return{x:t.x2,y:t.y2}},from:function(t,e,i,n){if("number"===typeof t)return{x1:t,y1:e,x2:i,y2:n};if("width"in t)return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height};throw new Error("Values can not be converted into a vector4: [".concat(t,"] [").concat(e,"] [").concat(i,"] [").concat(n,"]"))},height:function(t){return Math.abs(t.y2-t.y1)},round:function(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}},start:function(t){return{x:t.x1,y:t.y1}},topCenter:function(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}},origin:function(){return{x1:0,y1:0,x2:0,y2:0}},width:function(t){return Math.abs(t.x2-t.x1)}};var Lb=class t{constructor(t,e,i,n,a,o,r,s,l,c,u){this.series=t,this.index=e,this.datum=i,this.size=n,this.colorValue=a,this.fill=o,this.stroke=r,this.sumSize=s,this.depth=l,this.parent=c,this.children=u,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;null!=e&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Walk.PreOrder;i===t.Walk.PreOrder&&e(this),this.children.forEach((t=>{t.walk(e,i)})),i===t.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};Lb.Walk={PreOrder:0,PostOrder:1};var kb=Lb,Ab=class extends Td{constructor(t){super({moduleCtx:t,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new kb(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Fr("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(t){"initial"===t?this.animationState.transition("reset"):"ready"===t&&this.animationState.transition("skip")}async processData(){var t,e;const{childrenKey:i,sizeKey:n,colorKey:a,fills:o,strokes:r,colorRange:s}=this.properties;let l=0;let c=0,u=1/0,d=-1/0;const h=new Array((null!==(t=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==t?t:0)+1).fill(void 0),p=(t,e)=>{const o=(l+=1,l),r=null!=e.depth?e.depth+1:0,s=null!=i?t[i]:void 0,p=null==s||0===s.length;let f=null!=n?t[n]:void 0;f=Number.isFinite(f)?Math.max(f,0):p?1:0;const y=f;c=Math.max(c,r);const m=null!=a?t[a]:void 0;return"number"===typeof m&&(h[o]=m,u=Math.min(u,m),d=Math.max(d,m)),g(new kb(this,o,t,f,m,void 0,void 0,y,r,e,[]),s)},g=(t,e)=>(null===e||void 0===e||e.forEach((e=>{const i=p(e,t);t.children.push(i),t.sumSize+=i.sumSize})),t),f=g(new kb(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[u,d];let m;null!=s&&Number.isFinite(u)&&Number.isFinite(d)&&(m=new ir,m.domain=y,m.range=s,m.update()),f.children.forEach(((t,e)=>{t.walk((t=>{var i;let n;const a=h[t.index];var s;null!=a&&(n=null===(s=m)||void 0===s?void 0:s.convert(a));null!==(i=n)&&void 0!==i||(n=null===o||void 0===o?void 0:o[e%o.length]),t.fill=n,t.stroke=null==m?null===r||void 0===r?void 0:r[e%r.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=f,this.maxDepth=c,this.colorDomain=y,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(t){let{seriesRect:e}=t;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(t){var e;const i=null===(e=this.animationResetFns)||void 0===e?void 0:e.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=i&&ja(t.datumSelections,i)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e;const i=null===(e=this.animationResetFns)||void 0===e?void 0:e.datum;null!=i&&ja([t],i)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n,visible:a}=this.properties;return"gradient"===t&&null!=e&&null!=n?[{legendType:"gradient",enabled:a,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return"".concat(t.index)}getDatumId(t){return this.getDatumIdFromData(t)}pickFocus(t){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&St.error("this.focusPath should not be empty");const{datumIndexDelta:e,otherIndexDelta:i}=t,{focusPath:n}=this,a=n.length-2;if(0!==i||1===n.length){const t=Math.max(0,a+i);if(void 0!==n[t+1])return n.length=t+2,this.computeFocusOutputs(n[t+1]);{let e=n[n.length-1];for(;e.nodeDatum.children.length>0&&(null!==(o=e.nodeDatum.depth)&&void 0!==o?o:-1)<t;){var o;const t={nodeDatum:e.nodeDatum.children[0],childIndex:0};n.push(t),e=t}return this.computeFocusOutputs(e)}}if(0===e)return this.computeFocusOutputs(n[n.length-1]);{var r;const t=n[a+1].childIndex+e,i=n[a].nodeDatum,o=null===i||void 0===i||null===(r=i.children)||void 0===r?void 0:r.length;if(void 0!==o){const e=Ee(0,t,o-1),r={nodeDatum:i.children[e],childIndex:e};return n[a+1]=r,n.length=a+2,this.computeFocusOutputs(r)}}}getDatumAriaText(t,e){var i;if(t instanceof kb)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(null!==(i=t.depth)&&void 0!==i?i:-1)+1,count:t.children.length,description:e});St.error("datum is not HierarchyNode: ".concat(t))}computeFocusOutputs(t){let{nodeDatum:e,childIndex:i}=t;const n=this.computeFocusBounds(e);if(n)return{datum:e,datumIndex:i,otherIndex:e.depth,bounds:n,showFocusBox:!0}}},Cb=class extends Mh{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Em),this.strokes=Object.values(Rm)}};gt([On(_n)],Cb.prototype,"childrenKey",2),gt([On(_n,{optional:!0})],Cb.prototype,"sizeKey",2),gt([On(_n,{optional:!0})],Cb.prototype,"colorKey",2),gt([On(_n,{optional:!0})],Cb.prototype,"colorName",2),gt([On(oa)],Cb.prototype,"fills",2),gt([On(oa)],Cb.prototype,"strokes",2),gt([On(oa,{optional:!0})],Cb.prototype,"colorRange",2);var Tb=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}};var Eb=class t{constructor(){this.id=he(this),this.axisGroup=new Ro({name:"".concat(this.id,"-AxisTicks"),zIndex:2}),this.labelSelection=Po.select(this.axisGroup,fr),this.interval=new Gs,this.label=new Us,this.scale=new Rh,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const t=[],e=this.generateTicks(),{translationX:i,translationY:n}=this;return this.labelSelection.update(e.ticks.map((t=>this.createLabelDatum(t))),void 0,(t=>t.tickId)),this.labelSelection.each(((e,i)=>{e.setProperties(i),i.visible&&t.push(e.getBBox())})),this.axisGroup.setProperties({translationX:i,translationY:n}),We.merge(t)}getLabelParams(t){const{padding:e}=this,{translate:i}=t;switch(this.position){case"top":case"bottom":return{x:i,y:e,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:e,y:i,textAlign:"start",textBaseline:"middle"}}}inRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const[i,n]=Oe(this.scale.range);return t>=i-e&&t<=n+e}createLabelDatum(t){const{x:e,y:i,textBaseline:n,textAlign:a}=this.getLabelParams(t);return{visible:Boolean(t.tickLabel),tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:a,textBaseline:n,x:e,y:i}}generateTicks(){const{minSpacing:e,maxSpacing:i}=this.interval,n=Be(ze(this.scale.range),2),{maxTickCount:a,minTickCount:o,tickCount:r}=function(t,e,i,n,a){a=Math.max(a,t/(n+1)),isNaN(e)&&(e=a),isNaN(i)&&(i=t),e>i&&(e===a?e=i:i=e);const o=Ee(1,Math.floor(t/e),Math.min(Math.floor(t),100)),r=Math.min(o,Math.ceil(t/i));return{minTickCount:r,maxTickCount:o,tickCount:Ee(r,n,o)}}(n,e,i,t.DefaultTickCount,t.DefaultMinSpacing);r&&(this.scale.tickCount=r,this.scale.minTickCount=o,this.scale.maxTickCount=a);const s=this.getTicksData();if("bottom"===this.position||"top"===this.position){const t=ur.getMeasurer({font:this.label}),e=this.scale.getDomain(),i=e[0]>e[1]?-1:1;let n=-1/0*i;s.ticks=s.ticks.filter((e=>Math.sign(e.translate-n)===i&&(n=e.translate+t.textWidth(e.tickLabel,!0)*i,!0)))}return s}getTicksData(){const t=[],e=this.scale.ticks(),i=e.reduce(((t,e)=>Math.max(t,"number"===typeof e?Ue(e):0)),0),n=function(){const t=new Map;return e=>{const i=t.get(e);return i?(t.set(e,i+1),"".concat(e).concat(i)):(t.set(e,1),e)}}(),a=this.label.format?this.scale.tickFormat({ticks:e,specifier:this.label.format}):t=>Ii(t)?t.toFixed(i):String(t);for(let l=0;l<e.length;l++){var o,r,s;const c=e[l],u=this.scale.convert(c);if(!this.inRange(u))continue;const d=null!==(o=null===(r=(s=this.label).formatter)||void 0===r?void 0:r.call(s,{value:c,index:l,fractionDigits:i}))&&void 0!==o?o:a(c),h=n(d);t.push({tick:c,tickId:h,tickLabel:d,translate:u})}return{rawTicks:e,fractionDigits:i,ticks:t}}};Eb.DefaultTickCount=5,Eb.DefaultMinSpacing=50;var Rb=Eb,Ob=0;function zb(t,e){const i=Ie("button",Gb("ag-charts-input ag-charts-button",e));return void 0!==t.label?i.append(t.label):(i.append(Fb(t.icon)),i.ariaLabel=t.altText),i.addEventListener("click",t.onPress),Yr(i,e),i}function jb(t,e){const i=Ie("input",Gb("ag-charts-input ag-charts-checkbox",e));return i.type="checkbox",i.checked=t.checked,i.addEventListener("change",(e=>t.onChange(i.checked,e))),i.addEventListener("keydown",(t=>{ec(t)&&(t.preventDefault(),i.click())})),Yr(i,e),i}function Pb(t,e){const i=Ie("select",Gb("ag-charts-input ag-charts-select",e));return i.append(...t.options.map((t=>{const e=Ie("option");return e.value=t.value,e.textContent=t.label,e}))),_r(i,"data-preventdefault",!1),i.value=t.value,i.addEventListener("change",(e=>t.onChange(i.value,e))),Yr(i,e),i}function Bb(t,e){const i=Ie("textarea",Gb("ag-charts-input ag-charts-textarea",e));return i.value=t.value,i.addEventListener("input",(e=>t.onChange(i.value,e))),Yr(i,e),i}function Fb(t){const e=Ie("span","ag-charts-icon ag-charts-icon-".concat(t));return _r(e,"aria-hidden",!0),e}function Gb(t,e){return null==e?t:"".concat(t," ").concat(e.class)}function Ub(t,e){return O(O({},t),{},{container:e.current})}function _b(t,e){const i=(0,n.forwardRef)((function(e,i){const{options:a,style:o,className:r}=e,s=(0,n.useRef)(null),l=(0,n.useRef)();(0,n.useLayoutEffect)((()=>{const e=t(Ub(a,s));return l.current=e,()=>{e.destroy()}}),[]);const c=void 0===l.current;return(0,n.useEffect)((()=>{var t;c||(null===(t=l.current)||void 0===t||t.update(Ub(a,s)))}),[a]),(0,n.useImperativeHandle)(i,(()=>l.current),[]),(0,n.useMemo)((()=>(0,n.createElement)("div",{ref:s,style:o,className:r})),[o,r])}));return i.displayName=e,i}var Yb=_b((t=>sb.create(t)),"AgCharts");const Vb=t=>{let{data:e}=t;const i={data:e,series:[{type:"bar",xKey:"line",yKey:"removed",yName:"Removed",fill:"red"},{type:"bar",xKey:"line",yKey:"added",yName:"Added",fill:"green"}],axes:[{type:"number",position:"left",title:{text:"chars"}},{type:"number",position:"bottom",label:{format:",.0f"},title:{text:"index"}}]};return(0,k.jsx)(Yb,{options:i})};function Wb(){const t=[];for(let e=1;e<10;e++)t.push({line:e,removed:0,added:0});return t}const Zb=()=>{const[t,e]=(0,n.useState)(""),[i,a]=(0,n.useState)(""),[o,r]=(0,n.useState)([]),[l,c]=(0,n.useState)(Wb),u=t=>{const e=t.target.scrollLeft;document.querySelectorAll(".text-viewer").forEach((i=>{i!==t.target&&(i.scrollLeft=e)}))};return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"app-container",children:[(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Paste",buttonOnClick:async()=>{const t=await navigator.clipboard.readText();e(t.replace(/\n$/,""))},viewerText:t,viewerOnScroll:u})}),(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Paste",buttonOnClick:async()=>{const t=await navigator.clipboard.readText();a(t.replace(/\n$/,""))},viewerText:i,viewerOnScroll:u})}),(0,k.jsx)("div",{className:"panel-container",children:(0,k.jsx)(A,{buttonText:"Compare",buttonOnClick:()=>{if(t===i)return r("texts are indentical.."),void c(Wb());let e,n;if(t.includes("\n")||i.includes("\n")){const a=M(t,i,{ignoreWhitespace:!0});e=a.map(((t,e)=>{const i=t.added?"text-viewer-token-added":t.removed?"text-viewer-token-removed":"";return(0,k.jsx)("div",{className:i,children:t.value},e)})),n=function(t){const e=[];let i=1;for(let n=0;n<t.length;n++){let a=0,o=0;const r=t[n],s=r.value.replace(/\n$/,"").split("\n");for(const t of s)r.added?a=t.length:r.removed&&(o=-1*t.length),e.push({line:i,removed:o,added:a}),i+=1}return e}(a)}else{const r=(a=t,o=i,s.diff(a,o,l));e=r.map(((t,e)=>{const i=t.added?"text-viewer-token-added":t.removed?"text-viewer-token-removed":"";return(0,k.jsx)("span",{className:i,children:t.value},e)})),n=function(t){const e=[];let i=1;for(let n=0;n<t.length;n++){let a=0,o=0;const r=t[n],s=r.value.split("");for(const t of s)r.added?a=t.length:r.removed&&(o=-1*t.length),e.push({line:i,removed:o,added:a}),i+=1}return e}(r)}var a,o,l;r(e),c(n)},viewerText:o,viewerOnScroll:u})})]}),(0,k.jsx)("div",{className:"chart-container",children:(0,k.jsx)(Vb,{data:l})})]})};(0,a.H)(document.getElementById("root")).render((0,k.jsx)(n.StrictMode,{children:(0,k.jsx)(Zb,{})}))})();
//# sourceMappingURL=main.38b54988.js.map